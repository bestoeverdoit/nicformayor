/*
YUI 3.16.0-ym19 (build 3.16.0-ym19)
Copyright 2016 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("selector-css3",function(e,t){e.Selector._reNth=/^(?:([\-]?\d*)(n){1}|(odd|even)$)*([\-+]?\d*)$/,e.Selector._getNth=function(t,n,r,i){e.Selector._reNth.test(n);var s=parseInt(RegExp.$1,10),o=RegExp.$2,u=RegExp.$3,a=parseInt(RegExp.$4,10)||0,f=[],l=e.DOM._children(t.parentNode,r),c;u?(s=2,c="+",o="n",a=u==="odd"?1:0):isNaN(s)&&(s=o?1:0);if(s===0)return i&&(a=l.length-a+1),l[a-1]===t?!0:!1;s<0&&(i=!!i,s=Math.abs(s));if(!i){for(var h=a-1,p=l.length;h<p;h+=s)if(h>=0&&l[h]===t)return!0}else for(var h=l.length-a,p=l.length;h>=0;h-=s)if(h<p&&l[h]===t)return!0;return!1},e.mix(e.Selector.pseudos,{root:function(e){return e===e.ownerDocument.documentElement},"nth-child":function(t,n){return e.Selector._getNth(t,n)},"nth-last-child":function(t,n){return e.Selector._getNth(t,n,null,!0)},"nth-of-type":function(t,n){return e.Selector._getNth(t,n,t.tagName)},"nth-last-of-type":function(t,n){return e.Selector._getNth(t,n,t.tagName,!0)},"last-child":function(t){var n=e.DOM._children(t.parentNode);return n[n.length-1]===t},"first-of-type":function(t){return e.DOM._children(t.parentNode,t.tagName)[0]===t},"last-of-type":function(t){var n=e.DOM._children(t.parentNode,t.tagName);return n[n.length-1]===t},"only-child":function(t){var n=e.DOM._children(t.parentNode);return n.length===1&&n[0]===t},"only-of-type":function(t){var n=e.DOM._children(t.parentNode,t.tagName);return n.length===1&&n[0]===t},empty:function(e){return e.childNodes.length===0},not:function(t,n){return!e.Selector.test(t,n)},contains:function(e,t){var n=e.innerText||e.textContent||"";return n.indexOf(t)>-1},checked:function(e){return e.checked===!0||e.selected===!0},enabled:function(e){return e.disabled!==undefined&&!e.disabled},disabled:function(e){return e.disabled}}),e.mix(e.Selector.operators,{"^=":"^{val}","$=":"{val}$","*=":"{val}"}),e.Selector.combinators["~"]={axis:"previousSibling"}},"3.16.0-ym19",{requires:["selector-native","selector-css2"]});
/*
YUI 3.16.0-ym19 (build 3.16.0-ym19)
Copyright 2016 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("frame",function(e,t){var n=e.Lang,r="contentready",i="host",s=function(){s.superclass.constructor.apply(this,arguments)};e.extend(s,e.Plugin.Base,{_ready:null,_rendered:null,_iframe:null,_instance:null,_create:function(t){var n,r="",i,o=this.get("src")===s.ATTRS.src.value,u=this.get("extracss")?'<style id="extra_css">'+this.get("extracss")+"</style>":"";this._iframe=e.one(e.config.doc.createElement("iframe")),this._iframe.setAttrs(s.IFRAME_ATTRS),this._iframe.setStyle("visibility","hidden"),this._iframe.set("src",this.get("src")),this.get("container").append(this._iframe),this._iframe.set("height","99%"),o&&(r=e.Lang.sub(s.PAGE_HTML,{DIR:this.get("dir"),LANG:this.get("lang"),TITLE:this.get("title"),META:s.META,LINKED_CSS:this.get("linkedcss"),CONTENT:this.get("content"),BASE_HREF:this.get("basehref"),DEFAULT_CSS:s.DEFAULT_CSS,EXTRA_CSS:u}),e.config.doc.compatMode!=="BackCompat"&&(r=s.getDocType()+"\n"+r)),n=this._resolveWinDoc(),r&&(n.doc.open(),n.doc.write(r),n.doc.close()),n.doc.documentElement?t(n):i=e.later(1,this,function(){n.doc&&n.doc.documentElement&&(t(n),i.cancel())},null,!0)},_resolveWinDoc:function(t){var n=t?t:{};return n.win=e.Node.getDOMNode(this._iframe.get("contentWindow")),n.doc=e.Node.getDOMNode(this._iframe.get("contentWindow.document")),n.doc||(n.doc=e.config.doc),n.win||(n.win=e.config.win),n},_onDomEvent:function(t){var n,r;if(!e.Node.getDOMNode(this._iframe))return;t.frameX=t.frameY=0,(t.pageX>0||t.pageY>0)&&t.type.substring(0,3)!=="key"&&(r=this._instance.one("win"),n=this._iframe.getXY(),t.frameX=n[0]+t.pageX-r.get("scrollLeft"),t.frameY=n[1]+t.pageY-r.get("scrollTop")),t.frameTarget=t.target,t.frameCurrentTarget=t.currentTarget,t.frameEvent=t,this.fire("dom:"+t.type,t)},initializer:function(){var e=this.get(i);e&&(e.frame=this),this.publish("ready",{emitFacade:!0,defaultFn:this._defReadyFn})},destructor:function(){var e=this.getInstance();e.one("doc").detachAll(),e=null,this._iframe.remove()},_DOMPaste:function(e){var t=this.getInstance(),n="",r=t.config.win;e._event.originalTarget&&(n=e._event.originalTarget),e._event.clipboardData&&(n=e._event.clipboardData.getData("Text")),r.clipboardData&&(n=r.clipboardData.getData("Text"),n===""&&(r.clipboardData.setData("Text",n)||(n=null))),e.frameTarget=e.target,e.frameCurrentTarget=e.currentTarget,e.frameEvent=e,n?e.clipboardData={data:n,getData:function(){return n}}:e.clipboardData=null,this.fire("dom:paste",e)},_defReadyFn:function(){var t=this.getInstance();e.each(s.DOM_EVENTS,function(n,r){var i=e.bind(this._onDomEvent,this),o=e.UA.ie&&s.THROTTLE_TIME>0?e.throttle(i,s.THROTTLE_TIME):i;t.Node.DOM_EVENTS[r]||(t.Node.DOM_EVENTS[r]=1),n===1&&r!=="focus"&&r!=="blur"&&r!=="paste"&&(r.substring(0,3)==="key"?t.on(r,o,t.config.doc):t.on(r,i,t.config.doc))},this),t.Node.DOM_EVENTS.paste=1,t.on("paste",e.bind(this._DOMPaste,this),t.one("body")),t.on("focus",e.bind(this._onDomEvent,this),t.config.win),t.on("blur",e.bind(this._onDomEvent,this),t.config.win),t.__use=t.use,t.use=e.bind(this.use,this),this._iframe.setStyles({visibility:"inherit"}),t.one("body").setStyle("display","block")},_fixIECursors:function(){var e=this.getInstance(),t=e.all("table"),n=e.all("br"),r;t.size()&&n.size()&&(r=t.item(0).get("sourceIndex"),n.each(function(t){var n=t.get("parentNode"),i=n.get("children"),s=n.all(">br");n.test("div")&&(i.size()>2?t.replace(e.Node.create("<wbr>")):t.get("sourceIndex")>r?s.size()&&t.replace(e.Node.create("<wbr>")):s.size()>1&&t.replace(e.Node.create("<wbr>")))}))},_onContentReady:function(t){if(!this._ready){this._ready=!0;var n=this.getInstance(),r=e.clone(this.get("use"));this.fire("contentready"),t&&(n.config.doc=e.Node.getDOMNode(t.target)),r.push(e.bind(function(){n.EditorSelection&&(n.EditorSelection.DEFAULT_BLOCK_TAG=this.get("defaultblock")),this.get("designMode")&&(e.UA.ie?(n.config.doc.body.contentEditable="true",this._ieSetBodyHeight(),n.on("keyup",e.bind(this._ieSetBodyHeight,this),n.config.doc)):n.config.doc.designMode="on"),this.fire("ready")},this)),n.use.apply(n,r),n.one("doc").get("documentElement").addClass("yui-js-enabled")}},_ieHeightCounter:null,_ieSetBodyHeight:function(t){this._ieHeightCounter||(this._ieHeightCounter=0),this._ieHeightCounter++;var n=!1,r,i,s;t||(n=!0);if(t){switch(t.keyCode){case 8:case 13:n=!0}if(t.ctrlKey||t.shiftKey)n=!0}if(n)try{r=this.getInstance(),i=this._iframe.get("offsetHeight"),s=r.config.doc.body.scrollHeight,i>s?(i=i-15+"px",r.config.doc.body.style.height=i):r.config.doc.body.style.height="auto"}catch(t){this._ieHeightCounter<100&&e.later(200,this,this._ieSetBodyHeight)}},_resolveBaseHref:function(t){if(!t||t==="")t=e.config.doc.location.href,t.indexOf("?")!==-1&&(t=t.substring(0,t.indexOf("?"))),t=t.substring(0,t.lastIndexOf("/"))+"/";return t},_getHTML:function(e){if(this._ready){var t=this.getInstance();e=t.one("body").get("innerHTML")}return e},_setHTML:function(t){if(this._ready){var n=this.getInstance();n.one("body").set("innerHTML",t)}else this.once(r,e.bind(this._setHTML,this,t));return t},_getLinkedCSS:function(t){e.Lang.isArray(t)||(t=[t]);var n="";return this._ready?n=t:e.each(t,function(e){e&&(n+='<link rel="stylesheet" href="'+e+'" type="text/css">')}),n},_setLinkedCSS:function(e){if(this._ready){var t=this.getInstance();t.Get.css(e)}return e},_setExtraCSS:function(t){if(this._ready){var n=this.getInstance(),i=n.one("#extra_css");i&&i.remove(),n.one("head").append('<style id="extra_css">'+t+"</style>")}else this.once(r,e.bind(this._setExtraCSS,this,t));return t},_instanceLoaded:function(t){this._instance=t,this._onContentReady();var n=this._instance.config.doc;if(this.get("designMode")&&!e.UA.ie)try{n.execCommand("styleWithCSS",!1,!1),n.execCommand("insertbronreturn",!1,!1)}catch(r){}},use:function(){var t=this.getInstance(),n=e.Array(arguments),r=!1;return e.Lang.isFunction(n[n.length-1])&&(r=n.pop()),r&&n.push(function(){r.apply(t,arguments)}),t.__use.apply(t,n)},delegate:function(e,t,n,r){var i=this.getInstance();return i?(r||(r=n,n="body"),i.delegate
(e,t,n,r)):!1},getInstance:function(){return this._instance},render:function(t){return this._rendered?this:(this._rendered=!0,t&&this.set("container",t),this._create(e.bind(function(t){var n,r,s=e.bind(function(e){this._instanceLoaded(e)},this),o=e.clone(this.get("use")),u={debug:!1,win:t.win,doc:t.doc},a=e.bind(function(){u=this._resolveWinDoc(u),n=YUI(u),n.host=this.get(i);try{n.use("node-base",s),r&&clearInterval(r)}catch(e){r=setInterval(function(){a()},350)}},this);o.push(a),e.use.apply(e,o)},this)),this)},_handleFocus:function(){var e=this.getInstance(),t=new e.EditorSelection,n,r,i,s;t.anchorNode&&(n=t.anchorNode,n.test("p")&&n.get("innerHTML")===""&&(n=n.get("parentNode")),r=n.get("childNodes"),r.size()&&(r.item(0).test("br")?t.selectNode(n,!0,!1):r.item(0).test("p")?(n=r.item(0).one("br.yui-cursor"),n&&(n=n.get("parentNode")),n||(n=r.item(0).get("firstChild")),n||(n=r.item(0)),n&&t.selectNode(n,!0,!1)):(i=e.one("br.yui-cursor"),i&&(s=i.get("parentNode"),s&&t.selectNode(s,!0,!1)))))},_validateLinkedCSS:function(e){return n.isString(e)||n.isArray(e)},focus:function(t){if(e.UA.ie&&e.UA.ie<9){try{e.one("win").focus(),this.getInstance()&&this.getInstance().one("win")&&this.getInstance().one("win").focus()}catch(n){}t===!0&&this._handleFocus(),e.Lang.isFunction(t)&&t()}else try{e.one("win").focus(),e.later(100,this,function(){this.getInstance()&&this.getInstance().one("win")&&this.getInstance().one("win").focus(),t===!0&&this._handleFocus(),e.Lang.isFunction(t)&&t()})}catch(r){}return this},show:function(){this._iframe.setStyles({position:"static",left:""});if(e.UA.gecko){try{this.getInstance()&&(this.getInstance().config.doc.designMode="on")}catch(t){}this.focus()}return this},hide:function(){return this._iframe.setStyles({position:"absolute",left:"-999999px"}),this}},{THROTTLE_TIME:100,DOM_EVENTS:{dblclick:1,click:1,paste:1,mouseup:1,mousedown:1,keyup:1,keydown:1,keypress:1,activate:1,deactivate:1,beforedeactivate:1,focusin:1,focusout:1},DEFAULT_CSS:"body { background-color: #fff; font: 13px/1.22 arial,helvetica,clean,sans-serif;*font-size:small;*font:x-small; } a, a:visited, a:hover { color: blue !important; text-decoration: underline !important; cursor: text !important; } img { cursor: pointer !important; border: none; }",IFRAME_ATTRS:{border:"0",frameBorder:"0",marginWidth:"0",marginHeight:"0",leftMargin:"0",topMargin:"0",allowTransparency:"true",width:"100%",height:"99%"},PAGE_HTML:'<html dir="{DIR}" lang="{LANG}"><head><title>{TITLE}</title>{META}<base href="{BASE_HREF}"/>{LINKED_CSS}<style id="editor_css">{DEFAULT_CSS}</style>{EXTRA_CSS}</head><body>{CONTENT}</body></html>',getDocType:function(){var t=e.config.doc.doctype,n=s.DOC_TYPE;return t?n="<!DOCTYPE "+t.name+(t.publicId?" "+t.publicId:"")+(t.systemId?" "+t.systemId:"")+">":e.config.doc.all&&(t=e.config.doc.all[0],t.nodeType&&t.nodeType===8&&t.nodeValue&&t.nodeValue.toLowerCase().indexOf("doctype")!==-1&&(n="<!"+t.nodeValue+">")),n},DOC_TYPE:'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">',META:'<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta http-equiv="X-UA-Compatible" content="IE=7">',NAME:"frame",NS:"frame",ATTRS:{title:{value:"Blank Page"},dir:{value:"ltr"},lang:{value:"en-US"},src:{value:"javascript"+(e.UA.ie?":false":":")+";"},designMode:{writeOnce:!0,value:!1},content:{validator:n.isString,value:"<br>",setter:"_setHTML",getter:"_getHTML"},basehref:{value:!1,getter:"_resolveBaseHref"},use:{writeOnce:!0,value:["node","node-style","selector-css3"]},container:{value:"body",setter:function(t){return e.one(t)}},node:{readOnly:!0,value:null,getter:function(){return this._iframe}},id:{writeOnce:!0,getter:function(t){return t||(t="iframe-"+e.guid()),t}},linkedcss:{validator:"_validateLinkedCSS",getter:"_getLinkedCSS",setter:"_setLinkedCSS"},extracss:{validator:n.isString,setter:"_setExtraCSS"},defaultblock:{value:"p"}}}),e.namespace("Plugin"),e.Plugin.Frame=s,e.Frame=s},"3.16.0-ym19",{requires:["base","node","plugin","selector-css3","yui-throttle"]});
/*
YUI 3.16.0-ym19 (build 3.16.0-ym19)
Copyright 2016 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("exec-command",function(e,t){var n=function(){n.superclass.constructor.apply(this,arguments)},r=function(t,n,r){var i=this.getInstance(),s=i.config.doc,o=s.selection.createRange(),u=s.queryCommandValue(t),a,f,l,c,h,p,d;u&&(a=o.htmlText,f=new RegExp(r,"g"),l=a.match(f),l&&(a=a.replace(r+";","").replace(r,""),o.pasteHTML('<var id="yui-ie-bs">'),c=s.getElementById("yui-ie-bs"),h=s.createElement("div"),p=s.createElement(n),h.innerHTML=a,c.parentNode!==i.config.doc.body&&(c=c.parentNode),d=h.childNodes,c.parentNode.replaceChild(p,c),e.each(d,function(e){p.appendChild(e)}),o.collapse(),o.moveToElementText&&o.moveToElementText(p),o.select())),this._command(t)};e.extend(n,e.Base,{_lastKey:null,_inst:null,command:function(e,t){var r=n.COMMANDS[e];return r?r.call(this,e,t):this._command(e,t)},_command:function(e,t){var n=this.getInstance();try{try{n.config.doc.execCommand("styleWithCSS",null,1)}catch(r){try{n.config.doc.execCommand("useCSS",null,0)}catch(i){}}n.config.doc.execCommand(e,null,t)}catch(s){}},getInstance:function(){return this._inst||(this._inst=this.get("host").getInstance()),this._inst},initializer:function(){e.mix(this.get("host"),{execCommand:function(e,t){return this.exec.command(e,t)},_execCommand:function(e,t){return this.exec._command(e,t)}}),this.get("host").on("dom:keypress",e.bind(function(e){this._lastKey=e.keyCode},this))},_wrapContent:function(e,t){var n=this.getInstance().host.editorPara&&!t?!0:!1;return n?e="<p>"+e+"</p>":e+="<br>",e}},{NAME:"execCommand",NS:"exec",ATTRS:{host:{value:!1}},COMMANDS:{wrap:function(e,t){var n=this.getInstance();return(new n.EditorSelection).wrapContent(t)},inserthtml:function(t,n){var r=this.getInstance();if(r.EditorSelection.hasCursor()||e.UA.ie)return(new r.EditorSelection).insertContent(n);this._command("inserthtml",n)},insertandfocus:function(e,t){var n=this.getInstance(),r,i;return n.EditorSelection.hasCursor()?(t+=n.EditorSelection.CURSOR,r=this.command("inserthtml",t),i=new n.EditorSelection,i.focusCursor(!0,!0)):this.command("inserthtml",t),r},insertbr:function(){var t=this.getInstance(),n=new t.EditorSelection,r="<var>|</var>",i=null,s=t.EditorSelection.ROOT,o=e.UA.webkit?"span.Apple-style-span,var":"var",u=function(e){var n=t.Node.create("<br>");return e.insert(n,"before"),n};n._selection.pasteHTML?n._selection.pasteHTML(r):this._command("inserthtml",r),s.all(o).each(function(t){var n=!0,r;e.UA.webkit&&(n=!1,t.get("innerHTML")==="|"&&(n=!0)),n&&(i=u(t),(!i.previous()||!i.previous().test("br"))&&e.UA.gecko&&(r=i.cloneNode(),i.insert(r,"after"),i=r),t.remove())}),e.UA.webkit&&i&&(u(i),n.selectNode(i))},insertimage:function(e,t){return this.command("inserthtml",'<img src="'+t+'">')},addclass:function(e,t){var n=this.getInstance();return(new n.EditorSelection).getSelected().addClass(t)},removeclass:function(e,t){var n=this.getInstance();return(new n.EditorSelection).getSelected().removeClass(t)},forecolor:function(t,n){var r=this.getInstance(),i=new r.EditorSelection,s;e.UA.ie||this._command("useCSS",!1);if(r.EditorSelection.hasCursor())return i.isCollapsed?(i.anchorNode&&i.anchorNode.get("innerHTML")==="&nbsp;"?(i.anchorNode.setStyle("color",n),s=i.anchorNode):(s=this.command("inserthtml",'<span style="color: '+n+'">'+r.EditorSelection.CURSOR+"</span>"),i.focusCursor(!0,!0)),s):this._command(t,n);this._command(t,n)},backcolor:function(t,n){var r=this.getInstance(),i=new r.EditorSelection,s;if(e.UA.gecko||e.UA.opera)t="hilitecolor";e.UA.ie||this._command("useCSS",!1);if(r.EditorSelection.hasCursor())return i.isCollapsed?(i.anchorNode&&i.anchorNode.get("innerHTML")==="&nbsp;"?(i.anchorNode.setStyle("backgroundColor",n),s=i.anchorNode):(s=this.command("inserthtml",'<span style="background-color: '+n+'">'+r.EditorSelection.CURSOR+"</span>"),i.focusCursor(!0,!0)),s):this._command(t,n);this._command(t,n)},hilitecolor:function(){return n.COMMANDS.backcolor.apply(this,arguments)},fontname2:function(e,t){this._command("fontname",t);var n=this.getInstance(),r=new n.EditorSelection;r.isCollapsed&&this._lastKey!==32&&r.anchorNode.test("font")&&r.anchorNode.set("face",t)},fontsize2:function(t,n){this._command("fontsize",n);var r=this.getInstance(),i=new r.EditorSelection,s;i.isCollapsed&&i.anchorNode&&this._lastKey!==32&&(e.UA.webkit&&i.anchorNode.getStyle("lineHeight")&&i.anchorNode.setStyle("lineHeight",""),i.anchorNode.test("font")?i.anchorNode.set("size",n):e.UA.gecko&&(s=i.anchorNode.ancestor(r.EditorSelection.DEFAULT_BLOCK_TAG),s&&s.setStyle("fontSize","")))},insertunorderedlist:function(){this.command("list","ul")},insertorderedlist:function(){this.command("list","ol")},list:function(t,n){var r=this.getInstance(),i,s=this,o="dir",u="yui3-touched",a,f,l,c,h,p,d,v,m,g,y=r.host.editorPara?!0:!1,b,w,E,S,x=r.EditorSelection.ROOT,T=new r.EditorSelection;t="insert"+(n==="ul"?"un":"")+"orderedlist";if(e.UA.ie&&e.UA.ie<11&&!T.isCollapsed){f=T._selection,i=f.htmlText,l=r.Node.create(i)||x;if(l.test("li")||l.one("li")){this._command(t,null);return}l.test(n)?(c=f.item?f.item(0):f.parentElement(),h=r.one(c),g=h.all("li"),p="<div>",g.each(function(e){p=s._wrapContent(e.get("innerHTML"))}),p+="</div>",d=r.Node.create(p),h.get("parentNode").test("div")&&(h=h.get("parentNode")),h&&h.hasAttribute(o)&&(y?d.all("p").setAttribute(o,h.getAttribute(o)):d.setAttribute(o,h.getAttribute(o))),y?h.replace(d.get("innerHTML")):h.replace(d),f.moveToElementText&&f.moveToElementText(d._node),f.select()):(v=e.one(f.parentElement()),v.test(r.EditorSelection.BLOCKS)||(v=v.ancestor(r.EditorSelection.BLOCKS)),v&&v.hasAttribute(o)&&(a=v.getAttribute(o)),i.indexOf("<br>")>-1?i=i.split(/<br>/i):(b=r.Node.create(i),ps=b?b.all("p"):null,ps&&ps.size()?(i=[],ps.each(function(e){i.push(e.get("innerHTML"))})):i=[i]),m="<"+n+' id="ie-list">',e.each(i,function(e){var t=r.Node.create(e);t&&t.test("p")&&(t.hasAttribute(o)&&(a=t.getAttribute(o)),e=t.get("innerHTML")),m+="<li>"+e+"</li>"}),m+="</"+n+">",f.pasteHTML(m),c=r.config.doc.getElementById("ie-list"),c.id="",a&&c.setAttribute
(o,a),f.moveToElementText&&f.moveToElementText(c),f.select())}else e.UA.ie&&e.UA.ie<11?(v=r.one(T._selection.parentElement()),v.test("p")?(v&&v.hasAttribute(o)&&(a=v.getAttribute(o)),i=e.EditorSelection.getText(v),i===""?(w="",a&&(w=' dir="'+a+'"'),m=r.Node.create(e.Lang.sub("<{tag}{dir}><li></li></{tag}>",{tag:n,dir:w})),v.replace(m),T.selectNode(m.one("li"))):this._command(t,null)):this._command(t,null)):(x.all(n).addClass(u),T.anchorNode.test(r.EditorSelection.BLOCKS)?v=T.anchorNode:v=T.anchorNode.ancestor(r.EditorSelection.BLOCKS),v||(v=T.anchorNode.one(r.EditorSelection.BLOCKS)),v&&v.hasAttribute(o)&&(a=v.getAttribute(o)),v&&v.test(n)?(E=v.ancestor("p"),i=r.Node.create("<div/>"),c=v.all("li"),c.each(function(e){i.append(s._wrapContent(e.get("innerHTML"),E))}),a&&(y?i.all("p").setAttribute(o,a):i.setAttribute(o,a)),y&&(i=r.Node.create(i.get("innerHTML"))),S=i.get("firstChild"),v.replace(i),T.selectNode(S)):this._command(t,null),m=x.all(n),a&&m.size()&&m.each(function(e){e.hasClass(u)||e.setAttribute(o,a)}),m.removeClass(u))},justify:function(t,n){if(e.UA.webkit){var r=this.getInstance(),i=new r.EditorSelection,s=i.anchorNode,o,u=s.getStyle("backgroundColor");this._command(n),i=new r.EditorSelection,i.anchorNode.test("div")&&(o="<span>"+i.anchorNode.get("innerHTML")+"</span>",i.anchorNode.set("innerHTML",o),i.anchorNode.one("span").setStyle("backgroundColor",u),i.selectNode(i.anchorNode.one("span")))}else this._command(n)},justifycenter:function(){this.command("justify","justifycenter")},justifyleft:function(){this.command("justify","justifyleft")},justifyright:function(){this.command("justify","justifyright")},justifyfull:function(){this.command("justify","justifyfull")}}}),e.UA.ie&&e.UA.ie<11&&(n.COMMANDS.bold=function(){r.call(this,"bold","b","FONT-WEIGHT: bold")},n.COMMANDS.italic=function(){r.call(this,"italic","i","FONT-STYLE: italic")},n.COMMANDS.underline=function(){r.call(this,"underline","u","TEXT-DECORATION: underline")}),e.namespace("Plugin"),e.Plugin.ExecCommand=n},"3.16.0-ym19",{requires:["frame"]});
/*
YUI 3.16.0-ym19 (build 3.16.0-ym19)
Copyright 2016 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("editor-selection",function(e,t){var n="textContent",r="innerHTML",i="fontFamily";e.UA.ie&&e.UA.ie<11&&(n="nodeValue"),e.EditorSelection=function(t){var n,r,i,s,o,u,a,f=0,l,c,h=e.EditorSelection.ROOT;e.config.win.getSelection&&(!e.UA.ie||e.UA.ie>8)?n=e.config.win.getSelection():e.config.doc.selection&&(n=e.config.doc.selection.createRange()),this._selection=n;if(!n)return!1;if(n.pasteHTML){this.isCollapsed=n.compareEndPoints("StartToEnd",n)?!1:!0;if(this.isCollapsed){this.anchorNode=this.focusNode=e.one(n.parentElement()),t&&(i=e.config.doc.elementFromPoint(t.clientX,t.clientY)),o=n.duplicate();if(!i){r=n.parentElement(),s=r.childNodes;for(u=0;u<s.length;u++)o.inRange(n)&&(i||(i=s[u]))}this.ieNode=i,i&&(i.nodeType!==3&&(i.firstChild&&(i=i.firstChild),h.compareTo(i)&&i.firstChild&&(i=i.firstChild)),this.anchorNode=this.focusNode=e.EditorSelection.resolve(i),o.moveToElementText(n.parentElement()),a=n.compareEndPoints("StartToStart",o),a&&(f=this.getEditorOffset(h),n.move("character",-f)),this.anchorOffset=this.focusOffset=f,this.anchorTextNode=this.focusTextNode=e.one(i))}else n.htmlText&&n.htmlText!==""&&(l=e.Node.create(n.htmlText),l&&l.get("id")?(c=l.get("id"),this.anchorNode=this.focusNode=e.one("#"+c)):l&&(l=l.get("childNodes"),this.anchorNode=this.focusNode=l.item(0)))}else this.isCollapsed=n.isCollapsed,this.anchorNode=e.EditorSelection.resolve(n.anchorNode),this.focusNode=e.EditorSelection.resolve(n.focusNode),this.anchorOffset=n.anchorOffset,this.focusOffset=n.focusOffset,this.anchorTextNode=e.one(n.anchorNode||this.anchorNode),this.focusTextNode=e.one(n.focusNode||this.focusNode);e.Lang.isString(n.text)?this.text=n.text:n.toString?this.text=n.toString():this.text=""},e.EditorSelection.removeFontFamily=function(t){t.removeAttribute("face");var n=t.getAttribute("style").toLowerCase();(n===""||n==="font-family: ")&&t.removeAttribute("style"),n.match(e.EditorSelection.REG_FONTFAMILY)&&(n=n.replace(e.EditorSelection.REG_FONTFAMILY,""),t.setAttribute("style",n))},e.EditorSelection.filter=function(t){var n=(new Date).getTime(),r=e.EditorSelection,s=r.ROOT,o,u=s.all(r.ALL),a=s.all("strong,em"),f=e.config.doc,l,c={},h="",p,d=(new Date).getTime(),v;u.each(function(t){var n=e.Node.getDOMNode(t);n.style[i]&&(c["."+t._yuid]=n.style[i],t.addClass(t._yuid),r.removeFontFamily(n))}),v=(new Date).getTime(),s.all(".hr").addClass("yui-skip").addClass("yui-non"),e.UA.ie&&(l=e.Node.getDOMNode(s).getElementsByTagName("hr"),e.each(l,function(e){var t=f.createElement("div"),n=t.style;t.className="hr yui-non yui-skip",t.setAttribute("readonly",!0),t.setAttribute("contenteditable",!1),e.parentNode&&e.parentNode.replaceChild(t,e),n.border="1px solid #ccc",n.lineHeight="0",n.height="0",n.fontSize="0",n.marginTop="5px",n.marginBottom="5px",n.marginLeft="0px",n.marginRight="0px",n.padding="0"})),e.each(c,function(e,t){h+=t+" { font-family: "+e.replace(/"/gi,"")+"; }"}),e.StyleSheet(h,"editor"),a.each(function(e,t){var n=e.get("tagName").toLowerCase(),i="i";n==="strong"&&(i="b"),r.prototype._swap(a.item(t),i)}),p=s.all("ol,ul"),p.each(function(e){var t=e.all("li");t.size()||e.remove()}),t&&r.filterBlocks(),o=(new Date).getTime()},e.EditorSelection.filterBlocks=function(){var t=(new Date).getTime(),r,i=e.Node.getDOMNode(e.EditorSelection.ROOT).childNodes,s,o,u=!1,a=!0,f,l,c,h,p,d;if(i){for(s=0;s<i.length;s++)o=e.one(i[s]),o.test(e.EditorSelection.BLOCKS)?u=e.EditorSelection._wrapBlock(u):(a=!0,i[s].nodeType===3&&(h=i[s][n].match(e.EditorSelection.REG_CHAR),p=i[s][n].match(e.EditorSelection.REG_NON),h===null&&p&&(a=!1)),a&&(u||(u=[]),u.push(i[s])));u=e.EditorSelection._wrapBlock(u)}l=e.all(e.EditorSelection.DEFAULT_BLOCK_TAG);if(l.size()===1){c=l.item(0).all("br");if(c.size()===1){c.item(0).test(".yui-cursor")||c.item(0).remove(),d=l.item(0).get("innerHTML");if(d===""||d===" ")l.set("innerHTML",e.EditorSelection.CURSOR),f=new e.EditorSelection,f.focusCursor(!0,!0);c.item(0).test(".yui-cursor")&&e.UA.ie&&c.item(0).remove()}}else l.each(function(e){var t=e.get("innerHTML");t===""&&e.remove()});r=(new Date).getTime()},e.EditorSelection.REG_FONTFAMILY=/font-family:\s*;/,e.EditorSelection.REG_CHAR=/[a-zA-Z-0-9_!@#\$%\^&*\(\)-=_+\[\]\\{}|;':",.\/<>\?]/gi,e.EditorSelection.REG_NON=/[\s|\n|\t]/gi,e.EditorSelection.REG_NOHTML=/<\S[^><]*>/g,e.EditorSelection._wrapBlock=function(t){if(t){var n=e.Node.create("<"+e.EditorSelection.DEFAULT_BLOCK_TAG+"></"+e.EditorSelection.DEFAULT_BLOCK_TAG+">"),r=e.one(t[0]),i;for(i=1;i<t.length;i++)n.append(t[i]);r.replace(n),n.prepend(r)}return!1},e.EditorSelection.unfilter=function(){var t=e.EditorSelection.ROOT,n=t.all("[class]"),r="",s,o,u=t;return n.each(function(e){e.hasClass(e._yuid)&&(e.setStyle(i,e.getStyle(i)),e.removeClass(e._yuid),e.getAttribute("class")===""&&e.removeAttribute("class"))}),s=t.all(".yui-non"),s.each(function(e){!e.hasClass("yui-skip")&&e.get("innerHTML")===""?e.remove():e.removeClass("yui-non").removeClass("yui-skip")}),o=t.all("[id]"),o.each(function(e){e.get("id").indexOf("yui_3_")===0&&(e.removeAttribute("id"),e.removeAttribute("_yuid"))}),u&&(r=u.get("innerHTML")),t.all(".hr").addClass("yui-skip").addClass("yui-non"),r},e.EditorSelection.resolve=function(t){if(!t)return e.EditorSelection.ROOT;if(t&&t.nodeType===3)try{t=t.parentNode}catch(n){t=e.EditorSelection.ROOT}return e.one(t)},e.EditorSelection.getText=function(t){var n=t.get("innerHTML").replace(e.EditorSelection.REG_NOHTML,"");return n=n.replace("<span><br></span>","").replace("<br>",""),n},e.EditorSelection.DEFAULT_BLOCK_TAG="p",e.EditorSelection.ALL="[style],font[face]",e.EditorSelection.BLOCKS="p,div,ul,ol,table,style",e.EditorSelection.TMP="yui-tmp",e.EditorSelection.DEFAULT_TAG="span",e.EditorSelection.CURID="yui-cursor",e.EditorSelection.CUR_WRAPID="yui-cursor-wrapper",e.EditorSelection.CURSOR='<span><br class="yui-cursor"></span>',e.EditorSelection.ROOT=e.one("body"),e.EditorSelection.hasCursor=function(){var t=e.all("#"+e.EditorSelection.CUR_WRAPID);return t.size()},e.EditorSelection.cleanCursor=
function(){var t,n="br.yui-cursor";t=e.all(n),t.size()&&t.each(function(t){var n=t.get("parentNode.parentNode.childNodes"),r;n.size()?t.remove():(r=e.EditorSelection.getText(n.item(0)),r!==""&&t.remove())})},e.EditorSelection.prototype={text:null,isCollapsed:null,anchorNode:null,anchorOffset:null,anchorTextNode:null,focusNode:null,focusOffset:null,focusTextNode:null,_selection:null,_wrap:function(t,n){var i=e.Node.create("<"+n+"></"+n+">");return i.set(r,t.get(r)),t.set(r,""),t.append(i),e.Node.getDOMNode(i)},_swap:function(t,n){var i=e.Node.create("<"+n+"></"+n+">");return i.set(r,t.get(r)),t.replace(i,t),e.Node.getDOMNode(i)},getSelected:function(){var t=e.EditorSelection,n=t.ROOT,r,s=[];return t.filter(),e.config.doc.execCommand("fontname",null,t.TMP),r=n.all(t.ALL),r.each(function(o,u){o.getStyle(i)===t.TMP&&(o.setStyle(i,""),t.removeFontFamily(o),o.compareTo(n)||s.push(e.Node.getDOMNode(r.item(u))))}),e.all(s)},insertContent:function(e){return this.insertAtCursor(e,this.anchorTextNode,this.anchorOffset,!0)},insertAtCursor:function(t,r,i,s){var o=e.Node.create("<"+e.EditorSelection.DEFAULT_TAG+' class="yui-non"></'+e.EditorSelection.DEFAULT_TAG+">"),u,a,f,l,c=this.createRange(),h,p=e.EditorSelection.ROOT;p.compareTo(r)&&(h=e.Node.create("<span></span>"),r.append(h),r=h);if(c.pasteHTML){if(i===0&&r&&!r.previous()&&r.get("nodeType")===3)return r.insert(t,"before"),c.moveToElementText&&c.moveToElementText(e.Node.getDOMNode(r.previous())),c.collapse(!1),c.select(),r.previous();l=e.Node.create(t);try{c.pasteHTML('<span id="rte-insert"></span>')}catch(d){}u=p.one("#rte-insert");if(u)return u.set("id",""),u.replace(l),c.moveToElementText&&c.moveToElementText(e.Node.getDOMNode(l)),c.collapse(!1),c.select(),l;e.on("available",function(){u.set("id",""),u.replace(l),c.moveToElementText&&c.moveToElementText(e.Node.getDOMNode(l)),c.collapse(!1),c.select()},"#rte-insert")}else i>0?(u=r.get(n),a=e.one(e.config.doc.createTextNode(u.substr(0,i))),f=e.one(e.config.doc.createTextNode(u.substr(i))),r.replace(a,r),l=e.Node.create(t),l.get("nodeType")===11&&(h=e.Node.create("<span></span>"),h.append(l),l=h),a.insert(l,"after"),f&&(l.insert(o,"after"),o.insert(f,"after"),this.selectNode(o,s))):(r.get("nodeType")===3&&(r=r.get("parentNode")||p),l=e.Node.create(t),t=r.get("innerHTML").replace(/\n/gi,""),t===""||t==="<br>"?r.append(l):l.get("parentNode")?r.insert(l,"before"):p.prepend(l),r.get("firstChild").test("br")&&r.get("firstChild").remove());return l},wrapContent:function(t){t=t?t:e.EditorSelection.DEFAULT_TAG;if(!this.isCollapsed){var n=this.getSelected(),r=[],i,s,o,u;return n.each(function(e,i){var s=e.get("tagName").toLowerCase();s==="font"?r.push(this._swap(n.item(i),t)):r.push(this._wrap(n.item(i),t))},this),i=this.createRange(),o=r[0],s=r[r.length-1],this._selection.removeAllRanges?(i.setStart(r[0],0),i.setEnd(s,s.childNodes.length),this._selection.removeAllRanges(),this._selection.addRange(i)):(i.moveToElementText&&(i.moveToElementText(e.Node.getDOMNode(o)),u=this.createRange(),u.moveToElementText(e.Node.getDOMNode(s)),i.setEndPoint("EndToEnd",u)),i.select()),r=e.all(r),r}return e.all([])},replace:function(t,r){var i=this.createRange(),s,o,u,a;return i.getBookmark?(u=i.getBookmark(),o=this.anchorNode.get("innerHTML").replace(t,r),this.anchorNode.set("innerHTML",o),i.moveToBookmark(u),a=e.one(i.parentElement())):(s=this.anchorTextNode,o=s.get(n),u=o.indexOf(t),o=o.replace(t,""),s.set(n,o),a=this.insertAtCursor(r,s,u,!0)),a},remove:function(){return this._selection&&this._selection.removeAllRanges&&this._selection.removeAllRanges(),this},createRange:function(){return e.config.doc.selection?e.config.doc.selection.createRange():e.config.doc.createRange()},selectNode:function(t,n,r){if(!t)return;r=r||0,t=e.Node.getDOMNode(t);var i=this.createRange();if(i.selectNode){try{i.selectNode(t)}catch(s){}this._selection.removeAllRanges(),this._selection.addRange(i);if(n)try{this._selection.collapse(t,r)}catch(s){this._selection.collapse(t,0)}}else{t.nodeType===3&&(t=t.parentNode);try{i.moveToElementText(t)}catch(o){}n&&i.collapse(r?!1:!0),i.select()}return this},setCursor:function(){return this.removeCursor(!1),this.insertContent(e.EditorSelection.CURSOR)},getCursor:function(){var t=e.EditorSelection.ROOT.all("."+e.EditorSelection.CURID);return t.isEmpty()?null:t.get("parentNode")},removeCursor:function(t){var n=this.getCursor();return n&&!t&&n.all("."+e.EditorSelection.CURID).remove(),n},focusCursor:function(e,t){e!==!1&&(e=!0),t!==!1&&(t=!0);var n=this.removeCursor(!0);n&&n.each(function(n){this.selectNode(n,e,t)},this)},toString:function(){return"EditorSelection Object"},getEditorOffset:function(t){var n=(t||e.EditorSelection.ROOT).getDOMNode(),r=0,i=e.config.doc,s=e.config.win,o,u,a;return typeof s.getSelection!="undefined"?(u=s.getSelection().getRangeAt(0),a=u.cloneRange(),a.selectNodeContents(n),a.setEnd(u.endContainer,u.endOffset),r=a.toString().length):(o=i.selection,o&&o.type!=="Control"&&(u=o.createRange(),a=i.body.createTextRange(),a.moveToElementText(n),a.setEndPoint("EndToEnd",u),r=a.text.length)),r}},e.Selection=e.EditorSelection},"3.16.0-ym19",{requires:["node"]});
/*
YUI 3.16.0-ym19 (build 3.16.0-ym19)
Copyright 2016 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("editor-base",function(e,t){var n=e.Lang,r=function(){r.superclass.constructor.apply(this,arguments)},i=":last-child";e.extend(r,e.Base,{frame:null,initializer:function(){this.publish("nodeChange",{emitFacade:!0,bubbles:!0,defaultFn:this._defNodeChangeFn})},destructor:function(){this.detachAll()},copyStyles:function(t,n){if(t.test("a"))return;var r=["color","fontSize","fontFamily","backgroundColor","fontStyle"],i={};e.each(r,function(e){i[e]=t.getStyle(e)}),t.ancestor("b,strong")&&(i.fontWeight="bold"),t.ancestor("u")&&(i.textDecoration||(i.textDecoration="underline")),n.setStyles(i)},_lastBookmark:null,_resolveChangedNode:function(e){var t=this.getInstance(),n,r,s,o=this._getRoot(),u;e&&e.compareTo(o)&&(u=new t.EditorSelection,u&&u.anchorNode&&(e=u.anchorNode));if(t&&e&&e.test("html")){n=o.one(i);while(!s)n?(r=n.one(i),r?n=r:s=!0):s=!0;n&&(n.test("br")&&(n.previous()?n=n.previous():n=n.get("parentNode")),n&&(e=n))}return e||(e=o),e},_getRoot:function(){return this.getInstance().EditorSelection.ROOT},_defNodeChangeFn:function(t){var n=(new Date).getTime(),i=this.getInstance(),s,o,u,a={},f,l,c=[],h="",p="",d,v=!1,m=this._getRoot();if(e.UA.ie&&e.UA.ie<11)try{s=i.config.doc.selection.createRange(),s.getBookmark&&(this._lastBookmark=s.getBookmark())}catch(g){}t.changedNode=this._resolveChangedNode(t.changedNode);switch(t.changedType){case"backspace-up":e.UA.webkit&&t.changedNode&&t.changedNode.set("innerHTML",t.changedNode.get("innerHTML"))}e.UA.webkit&&t.commands&&(t.commands.indent||t.commands.outdent)&&(d=m.all(".webkit-indent-blockquote, blockquote"),d.size()&&d.setStyle("margin","")),o=this.getDomPath(t.changedNode,!1),t.commands&&(a=t.commands),e.each(o,function(t){var n=t.tagName.toLowerCase(),s=r.TAG2CMD[n],o,u,d,m,g;s&&(a[s]=1),o=t.currentStyle||t.style,""+o.fontWeight=="normal"&&(v=!0),""+o.fontWeight=="bold"&&(a.bold=1),e.UA.ie&&o.fontWeight>400&&(a.bold=1),o.fontStyle==="italic"&&(a.italic=1),o.textDecoration.indexOf("underline")>-1&&(a.underline=1),o.textDecoration.indexOf("line-through")>-1&&(a.strikethrough=1),u=i.one(t),u.getStyle("fontFamily")&&(d=u.getStyle("fontFamily").split(",")[0].toLowerCase(),d&&(f=d),f&&(f=f.replace(/'/g,"").replace(/"/g,""))),l=r.NORMALIZE_FONTSIZE(u),m=t.className.split(" "),e.each(m,function(e){e!==""&&e.substr(0,4)!=="yui_"&&c.push(e)}),h=r.FILTER_RGB(u.getStyle("color")),g=r.FILTER_RGB(o.backgroundColor),g!=="transparent"&&g!==""&&(p=g)}),v&&(delete a.bold,delete a.italic),t.dompath=i.all(o),t.classNames=c,t.commands=a,t.fontFamily||(t.fontFamily=f),t.fontSize||(t.fontSize=l),t.fontColor||(t.fontColor=h),t.backgroundColor||(t.backgroundColor=p),u=(new Date).getTime()},getDomPath:function(e,t){var n=[],r,i,s=this._getRoot(),o=this.frame.getInstance();r=o.Node.getDOMNode(e),i=o.Node.getDOMNode(s);while(r!==null){if(r===o.config.doc.documentElement||r===o.config.doc||!r.tagName){r=null;break}if(!o.DOM.inDoc(r)){r=null;break}r.nodeName&&r.nodeType&&r.nodeType===1&&n.push(r);if(r===i){r=null;break}r=r.parentNode}return n.length===0&&(n[0]=o.config.doc.body),t?o.all(n.reverse()):n.reverse()},_afterFrameReady:function(){var t=this.frame.getInstance();this.frame.on("dom:mouseup",e.bind(this._onFrameMouseUp,this)),this.frame.on("dom:mousedown",e.bind(this._onFrameMouseDown,this)),this.frame.on("dom:keydown",e.bind(this._onFrameKeyDown,this)),e.UA.ie&&e.UA.ie<11&&(this.frame.on("dom:activate",e.bind(this._onFrameActivate,this)),this.frame.on("dom:beforedeactivate",e.bind(this._beforeFrameDeactivate,this))),this.frame.on("dom:keyup",e.bind(this._onFrameKeyUp,this)),this.frame.on("dom:keypress",e.bind(this._onFrameKeyPress,this)),this.frame.on("dom:paste",e.bind(this._onPaste,this)),t.EditorSelection.filter(),this.fire("ready")},_beforeFrameDeactivate:function(e){if(e.frameTarget.test("html"))return;var t=this.getInstance(),n=t.config.doc.selection.createRange();n.compareEndPoints&&!n.compareEndPoints("StartToEnd",n)&&n.pasteHTML('<var id="yui-ie-cursor">')},_onFrameActivate:function(e){if(e.frameTarget.test("html"))return;var t=this.getInstance(),n=new t.EditorSelection,r=n.createRange(),i=this._getRoot(),s=i.all("#yui-ie-cursor");s.size()&&s.each(function(e){e.set("id","");if(r.moveToElementText)try{r.moveToElementText(e._node);var t=r.move("character",-1);t===-1&&r.move("character",1),r.select(),r.text=""}catch(n){}e.remove()})},_onPaste:function(e){this.fire("nodeChange",{changedNode:e.frameTarget,changedType:"paste",changedEvent:e.frameEvent})},_onFrameMouseUp:function(e){this.fire("nodeChange",{changedNode:e.frameTarget,changedType:"mouseup",changedEvent:e.frameEvent})},_onFrameMouseDown:function(e){this.fire("nodeChange",{changedNode:e.frameTarget,changedType:"mousedown",changedEvent:e.frameEvent})},_currentSelection:null,_currentSelectionTimer:null,_currentSelectionClear:null,_onFrameKeyDown:function(t){var n,i;this._currentSelection?i=this._currentSelection:(this._currentSelectionTimer&&this._currentSelectionTimer.cancel(),this._currentSelectionTimer=e.later(850,this,function(){this._currentSelectionClear=!0}),n=this.frame.getInstance(),i=new n.EditorSelection(t),this._currentSelection=i),n=this.frame.getInstance(),i=new n.EditorSelection,this._currentSelection=i,i&&i.anchorNode&&(this.fire("nodeChange",{changedNode:i.anchorNode,changedType:"keydown",changedEvent:t.frameEvent}),r.NC_KEYS[t.keyCode]&&(this.fire("nodeChange",{changedNode:i.anchorNode,changedType:r.NC_KEYS[t.keyCode],changedEvent:t.frameEvent}),this.fire("nodeChange",{changedNode:i.anchorNode,changedType:r.NC_KEYS[t.keyCode]+"-down",changedEvent:t.frameEvent})))},_onFrameKeyPress:function(e){var t=this._currentSelection;t&&t.anchorNode&&(this.fire("nodeChange",{changedNode:t.anchorNode,changedType:"keypress",changedEvent:e.frameEvent}),r.NC_KEYS[e.keyCode]&&this.fire("nodeChange",{changedNode:t.anchorNode,changedType:r.NC_KEYS[e.keyCode]+"-press",changedEvent:e.frameEvent}))},_onFrameKeyUp:function(e){var t=this.frame.getInstance(),n=new t.EditorSelection(e);n&&n.anchorNode&&(this
.fire("nodeChange",{changedNode:n.anchorNode,changedType:"keyup",selection:n,changedEvent:e.frameEvent}),r.NC_KEYS[e.keyCode]&&this.fire("nodeChange",{changedNode:n.anchorNode,changedType:r.NC_KEYS[e.keyCode]+"-up",selection:n,changedEvent:e.frameEvent})),this._currentSelectionClear&&(this._currentSelectionClear=this._currentSelection=null)},_validateLinkedCSS:function(e){return n.isString(e)||n.isArray(e)},execCommand:function(e,t){var n=this.frame.execCommand(e,t),r=this.frame.getInstance(),i=new r.EditorSelection,s={},o={changedNode:i.anchorNode,changedType:"execcommand",nodes:n};switch(e){case"forecolor":o.fontColor=t;break;case"backcolor":o.backgroundColor=t;break;case"fontsize":o.fontSize=t;break;case"fontname":o.fontFamily=t}return s[e]=1,o.commands=s,this.fire("nodeChange",o),n},getInstance:function(){return this.frame.getInstance()},render:function(t){var n=this.frame;return n||(this.plug(e.Plugin.Frame,{designMode:!0,title:r.STRINGS.title,use:r.USE,dir:this.get("dir"),extracss:this.get("extracss"),linkedcss:this.get("linkedcss"),defaultblock:this.get("defaultblock")}),n=this.frame),n.hasPlugin("exec")||n.plug(e.Plugin.ExecCommand),n.after("ready",e.bind(this._afterFrameReady,this)),n.addTarget(this),n.set("content",this.get("content")),n.render(t),this},focus:function(e){return this.frame.focus(e),this},show:function(){return this.frame.show(),this},hide:function(){return this.frame.hide(),this},getContent:function(){var e="",t=this.getInstance();return t&&t.EditorSelection&&(e=t.EditorSelection.unfilter()),e=e.replace(/ _yuid="([^>]*)"/g,""),e}},{NORMALIZE_FONTSIZE:function(e){var t=e.getStyle("fontSize"),n=t;switch(t){case"-webkit-xxx-large":t="48px";break;case"xx-large":t="32px";break;case"x-large":t="24px";break;case"large":t="18px";break;case"medium":t="16px";break;case"small":t="13px";break;case"x-small":t="10px"}return n!==t&&e.setStyle("fontSize",t),t},TABKEY:'<span class="tab">&nbsp;&nbsp;&nbsp;&nbsp;</span>',FILTER_RGB:function(e){if(e.toLowerCase().indexOf("rgb")!==-1){var t=new RegExp("(.*?)rgb\\s*?\\(\\s*?([0-9]+).*?,\\s*?([0-9]+).*?,\\s*?([0-9]+).*?\\)(.*?)","gi"),n=e.replace(t,"$1,$2,$3,$4,$5").split(","),r,i,s;n.length===5&&(r=parseInt(n[1],10).toString(16),i=parseInt(n[2],10).toString(16),s=parseInt(n[3],10).toString(16),r=r.length===1?"0"+r:r,i=i.length===1?"0"+i:i,s=s.length===1?"0"+s:s,e="#"+r+i+s)}return e},TAG2CMD:{b:"bold",strong:"bold",i:"italic",em:"italic",u:"underline",sup:"superscript",sub:"subscript",img:"insertimage",a:"createlink",ul:"insertunorderedlist",ol:"insertorderedlist"},NC_KEYS:{8:"backspace",9:"tab",13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",46:"delete"},USE:["node","selector-css3","editor-selection","stylesheet"],NAME:"editorBase",STRINGS:{title:"Rich Text Editor"},ATTRS:{content:{validator:n.isString,value:'<br class="yui-cursor">',setter:function(t){return t.substr(0,1)==="\n"&&(t=t.substr(1)),t===""&&(t='<br class="yui-cursor">'),t===" "&&e.UA.gecko&&(t='<br class="yui-cursor">'),this.frame.set("content",t)},getter:function(){return this.frame.get("content")}},dir:{validator:n.isString,writeOnce:!0,value:"ltr"},linkedcss:{validator:"_validateLinkedCSS",value:"",setter:function(e){return this.frame&&this.frame.set("linkedcss",e),e}},extracss:{validator:n.isString,value:"",setter:function(e){return this.frame&&this.frame.set("extracss",e),e}},defaultblock:{validator:n.isString,value:"p"}}}),e.EditorBase=r},"3.16.0-ym19",{requires:["base","frame","node","exec-command","editor-selection"]});
/*
YUI 3.16.0-ym19 (build 3.16.0-ym19)
Copyright 2016 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("stylesheet",function(e,t){function v(t,r){var o,a,f,l={},h,p,m,g,y,b;if(!e.instanceOf(this,v))return new v(t,r);if(t){if(e.Node&&t instanceof e.Node)a=t._node;else if(t.nodeName)a=t;else if(s(t)){if(t&&u[t])return u[t];a=n.getElementById(t.replace(/^#/,d))}if(a&&u[e.stamp(a)])return u[e.stamp(a)]}if(!a||!/^(?:style|link)$/i.test(a.nodeName))a=n.createElement("style"),a.type="text/css";s(t)&&(t.indexOf("{")!=-1?a.styleSheet?a.styleSheet.cssText=t:a.appendChild(n.createTextNode(t)):r||(r=t));if(!a.parentNode||a.parentNode.nodeName.toLowerCase()!=="head")o=(a.ownerDocument||n).getElementsByTagName("head")[0],o.appendChild(a);f=a.sheet||a.styleSheet,h=f&&"cssRules"in f?"cssRules":"rules",m="deleteRule"in f?function(e){f.deleteRule(e)}:function(e){f.removeRule(e)},p="insertRule"in f?function(e,t,n){f.insertRule(e+" {"+t+"}",n)}:function(e,t,n){f.addRule(e,t,n)};for(g=f[h].length-1;g>=0;--g)y=f[h][g],b=y.selectorText,l[b]?(l[b].style.cssText+=";"+y.style.cssText,m(g)):l[b]=y;v.register(e.stamp(a),this),r&&v.register(r,this),e.mix(this,{getId:function(){return e.stamp(a)},enable:function(){return f.disabled=!1,this},disable:function(){return f.disabled=!0,this},isEnabled:function(){return!f.disabled},set:function(e,t){var n=l[e],r=e.split(/\s*,\s*/),i,s;if(r.length>1){for(i=r.length-1;i>=0;--i)this.set(r[i],t);return this}return v.isValidSelector(e)?(n?n.style.cssText=v.toCssText(t,n.style.cssText):(s=f[h].length,t=v.toCssText(t),t&&(p(e,t,s),l[e]=f[h][s])),this):this},unset:function(t,n){var r=l[t],s=t.split(/\s*,\s*/),o=!n,u,a;if(s.length>1){for(a=s.length-1;a>=0;--a)this.unset(s[a],n);return this}if(r){if(!o){n=e.Array(n),i.cssText=r.style.cssText;for(a=n.length-1;a>=0;--a)c(i,n[a]);i.cssText?r.style.cssText=i.cssText:o=!0}if(o){u=f[h];for(a=u.length-1;a>=0;--a)if(u[a]===r){delete l[t],m(a);break}}}return this},getCssText:function(e){var t,n,r;if(s(e))return t=l[e.split(/\s*,\s*/)[0]],t?t.style.cssText:null;n=[];for(r in l)l.hasOwnProperty(r)&&(t=l[r],n.push(t.selectorText+" {"+t.style.cssText+"}"));return n.join("\n")}})}var n=e.config.doc,r=n.createElement("p"),i=r.style,s=e.Lang.isString,o={},u={},a="cssFloat"in i?"cssFloat":"styleFloat",f,l,c,h="opacity",p="float",d="";l=h in i?function(e){e.opacity=d}:function(e){e.filter=d},i.border="1px solid red",i.border=d,c=i.borderLeft?function(e,t){var n;t!==a&&t.toLowerCase().indexOf(p)!=-1&&(t=a);if(s(e[t]))switch(t){case h:case"filter":l(e);break;case"font":e.font=e.fontStyle=e.fontVariant=e.fontWeight=e.fontSize=e.lineHeight=e.fontFamily=d;break;default:for(n in e)n.indexOf(t)===0&&(e[n]=d)}}:function(e,t){t!==a&&t.toLowerCase().indexOf(p)!=-1&&(t=a),s(e[t])&&(t===h?l(e):e[t]=d)},f=function(t,s){var o=t.styleFloat||t.cssFloat||t[p],u=e.Lang.trim,f;try{i.cssText=s||d}catch(l){r=n.createElement("p"),i=r.style,i.cssText=s||d}o&&!t[a]&&(t=e.merge(t),delete t.styleFloat,delete t.cssFloat,delete t[p],t[a]=o);for(f in t)if(t.hasOwnProperty(f))try{i[f]=u(t[f])}catch(c){}return i.cssText},e.mix(v,{toCssText:h in i?f:function(t,n){return h in t&&(t=e.merge(t,{filter:"alpha(opacity="+t.opacity*100+")"}),delete t.opacity),f(t,n)},register:function(e,t){return!!(e&&t instanceof v&&!u[e]&&(u[e]=t))},isValidSelector:function(e){var t=!1;return e&&s(e)&&(o.hasOwnProperty(e)||(o[e]=!/\S/.test(e.replace(/\s+|\s*[+~>]\s*/g," ").replace(/([^ ])\[.*?\]/g,"$1").replace(/([^ ])::?[a-z][a-z\-]+[a-z](?:\(.*?\))?/ig,"$1").replace(/(?:^| )[a-z0-6]+/ig," ").replace(/\\./g,d).replace(/[.#]\w[\w\-]*/g,d))),t=o[e]),t}},!0),e.StyleSheet=v},"3.16.0-ym19",{requires:["yui-base"]});
/*
YUI 3.16.0-ym19 (build 3.16.0-ym19)
Copyright 2016 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("content-editable",function(e,t){var n=e.Lang,r=e.Node,i="contentready",s="ready",o="p",u="blur",a="container",f="contentEditable",l="",c="focus",h="host",p="innerHTML",d="key",v="parentNode",m="paste",g="Text",y="use",b=function(){b.superclass.constructor.apply(this,arguments)};e.extend(b,e.Plugin.Base,{_rendered:null,_instance:null,initializer:function(){var e=this.get(h);e&&(e.frame=this),this._eventHandles=[],this.publish(s,{emitFacade:!0,defaultFn:this._defReadyFn})},destructor:function(){(new e.EventHandle(this._eventHandles)).detach(),this._container.removeAttribute(f)},_onDomEvent:function(e){var t;e.frameX=e.frameY=0,(e.pageX>0||e.pageY>0)&&e.type.substring(0,3)!==d&&(t=this._container.getXY(),e.frameX=t[0],e.frameY=t[1]),e.frameTarget=e.target,e.frameCurrentTarget=e.currentTarget,e.frameEvent=e,this.fire("dom:"+e.type,e)},_DOMPaste:function(e){var t=this.getInstance(),n=l,r=t.config.win;e._event.originalTarget&&(n=e._event.originalTarget),e._event.clipboardData&&(n=e._event.clipboardData.getData(g)),r.clipboardData&&(n=r.clipboardData.getData(g),n===l&&(r.clipboardData.setData(g,n)||(n=null))),e.frameTarget=e.target,e.frameCurrentTarget=e.currentTarget,e.frameEvent=e,n?e.clipboardData={data:n,getData:function(){return n}}:e.clipboardData=null,this.fire("dom:paste",e)},_defReadyFn:function(){var t=this.getInstance(),n=this.get(a);e.each(b.DOM_EVENTS,function(r,i){var s=e.bind(this._onDomEvent,this),o=e.UA.ie&&b.THROTTLE_TIME>0?e.throttle(s,b.THROTTLE_TIME):s;t.Node.DOM_EVENTS[i]||(t.Node.DOM_EVENTS[i]=1),r===1&&i!==c&&i!==u&&i!==m&&(i.substring(0,3)===d?this._eventHandles.push(n.on(i,o,n)):this._eventHandles.push(n.on(i,s,n)))},this),t.Node.DOM_EVENTS.paste=1,this._eventHandles.push(n.on(m,e.bind(this._DOMPaste,this),n),n.on(c,e.bind(this._onDomEvent,this),n),n.on(u,e.bind(this._onDomEvent,this),n)),t.__use=t.use,t.use=e.bind(this.use,this)},_onContentReady:function(t){if(!this._ready){this._ready=!0;var n=this.getInstance(),o=e.clone(this.get(y));this.fire(i),t&&(n.config.doc=r.getDOMNode(t.target)),o.push(e.bind(function(){n.EditorSelection&&(n.EditorSelection.DEFAULT_BLOCK_TAG=this.get("defaultblock"),n.EditorSelection.ROOT=this.get(a)),this.fire(s)},this)),n.use.apply(n,o)}},_getDefaultBlock:function(){return this._getHostValue("defaultblock")},_getDir:function(){return this._getHostValue("dir")},_getExtraCSS:function(){return this._getHostValue("extracss")},_getHTML:function(){var e,t;return this._ready&&(t=this.get(a),e=t.get(p)),e},_getHostValue:function(e){var t=this.get(h);if(t)return t.get(e)},_setHTML:function(t){if(this._ready){var n=this.get(a);n.set(p,t)}else this.once(i,e.bind(this._setHTML,this,t));return t},_setLinkedCSS:function(t){if(this._ready){var n=this.getInstance();n.Get.css(t)}else this.once(i,e.bind(this._setLinkedCSS,this,t));return t},_setDir:function(t){var n;return this._ready?(n=this.get(a),n.setAttribute("dir",t)):this.once(i,e.bind(this._setDir,this,t)),t},_setExtraCSS:function(t){if(this._ready){if(t){var n=this.getInstance(),s=n.one("head");this._extraCSSNode&&this._extraCSSNode.remove(),this._extraCSSNode=r.create("<style>"+t+"</style>"),s.append(this._extraCSSNode)}}else this.once(i,e.bind(this._setExtraCSS,this,t));return t},_setLang:function(t){var n;return this._ready?(n=this.get(a),n.setAttribute("lang",t)):this.once(i,e.bind(this._setLang,this,t)),t},_instanceLoaded:function(t){this._instance=t,this._onContentReady();var n=this._instance.config.doc;if(!e.UA.ie)try{n.execCommand("styleWithCSS",!1,!1),n.execCommand("insertbronreturn",!1,!1)}catch(r){}},_validateLinkedCSS:function(e){return n.isString(e)||n.isArray(e)},use:function(){var t=this.getInstance(),r=e.Array(arguments),i=!1;return n.isFunction(r[r.length-1])&&(i=r.pop()),i&&r.push(function(){i.apply(t,arguments)}),t.__use.apply(t,r)},delegate:function(e,t,n,r){var i=this.getInstance();return i?(r||(r=n,n=this.get(a)),i.delegate(e,t,n,r)):!1},getInstance:function(){return this._instance},render:function(t){var n,i,s;return this._rendered?this:(t&&this.set(a,t),container=this.get(a),container||(container=r.create(b.HTML),e.one("body").prepend(container),this.set(a,container)),this._rendered=!0,this._container.setAttribute(f,!0),n=e.clone(this.get(y)),s=e.bind(function(){i=YUI(),i.host=this.get(h),i.use("node-base",e.bind(this._instanceLoaded,this))},this),n.push(s),e.use.apply(e,n),this)},focus:function(){return this._container.focus(),this},show:function(){return this._container.show(),this.focus(),this},hide:function(){return this._container.hide(),this}},{THROTTLE_TIME:100,DOM_EVENTS:{click:1,dblclick:1,focusin:1,focusout:1,keydown:1,keypress:1,keyup:1,mousedown:1,mouseup:1,paste:1},HTML:"<div></div>",NAME:"contentEditable",NS:f,ATTRS:{dir:{lazyAdd:!1,validator:n.isString,setter:"_setDir",valueFn:"_getDir"},container:{setter:function(t){return this._container=e.one(t),this._container}},content:{getter:"_getHTML",lazyAdd:!1,setter:"_setHTML",validator:n.isString,value:"<br>"},defaultblock:{validator:n.isString,value:o,valueFn:"_getDefaultBlock"},extracss:{lazyAdd:!1,setter:"_setExtraCSS",validator:n.isString,valueFn:"_getExtraCSS"},id:{writeOnce:!0,getter:function(t){return t||(t="inlineedit-"+e.guid()),t}},lang:{validator:n.isString,setter:"_setLang",lazyAdd:!1,value:"en-US"},linkedcss:{setter:"_setLinkedCSS",validator:"_validateLinkedCSS"},node:{readOnly:!0,value:null,getter:function(){return this._container}},use:{validator:n.isArray,writeOnce:!0,value:["node-base","editor-selection","stylesheet"]}}}),e.namespace("Plugin"),e.Plugin.ContentEditable=b},"3.16.0-ym19",{requires:["node-base","editor-selection","stylesheet","plugin"]});
/*
YUI 3.16.0-ym19 (build 3.16.0-ym19)
Copyright 2016 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("editor-inline",function(e,t){var n=function(){n.superclass.constructor.apply(this,arguments)};e.extend(n,e.EditorBase,{initializer:function(){this.plug(e.Plugin.ContentEditable)}}),e.InlineEditor=n},"3.16.0-ym19",{requires:["editor-base","content-editable"]});
YUI.add("mail-ui-mailcompose-v3",function(e){function y(){var e=this;g.superclass.ondestroy.call(e,arguments)}function b(){var e=this;return e.dirty}function w(t,n,r,i,s){var o=this,u=t?t:strings.str_comp_dialogheader;if(o.suppressDialog===!0){r();return}e.use("common-ui-dialog-helper",function(e){var t={hd:u,bd:n,suppressRestoreFocus:!0};e.common.ui.DialogHelper.confirm(t,{ok:{text:s,handler:r},cancel:{handler:function(){o._restoreFocus(),i&&i()}}})}),o.hiliteCP&&o.hiliteCP.hide(),o.textCP&&o.textCP.hide()}function E(){var e=this;return e.draft.isUploadingAttachments()?1:0}function S(e){var t=this;t.focusNode=e,t.neoFire("composeEvent",{action:"setFocusNode",focusNode:e})}function x(){var e=this;e.setFocus(e.focusNode)}function T(){this.controller.edited(),this.dirty=!0,this.resetSaveTimer(),r.features.enabled("composeActivityAdr")&&(this._cancelAdRotation(),this._lastActivityTime=(new Date).getTime(),!this.adRotationTimer&&this.get("active")&&this._startAdRotationTimer())}function N(){var e=this;e.controller.isEdited()&&(e.controller.unedited(),e.dirty=!1,e._cancelSaveTimer())}function C(){var t=this,n,r;return t.isRichText!==null?t.isRichText:(r=e.common.persist.UserData.get("userUIPref.useRichText"),n=r&&r!=="plain",t.isRichText=n,n)}function k(t){var n=this;n.isRichText!==t&&(n.isRichText=t,e.common.persist.UserData.set("userUIPref.useRichText",t?"dynamic":"plain"),setTimeout(function(){e.common.persist.UserData.saveOne("userUIPref.useRichText")},10),n.fire("isRichTextChanged"))}function L(){var t=this,n=!0,r=e.mail.Error.platform.isAvailable(),i=new Date-t.lastAutoSaveTime,s=Math.max(0,t.autoSaveTimePeriod-i);t._cancelSaveTimer(),r&&!NeoConfig.isAMT&&(t.saveTimer=e.later(s,t,function(){t.isAutoSave=!0,t.lastAutoSaveTime=new Date,t.save(),t._cancelSaveTimer()},[],!n))}function A(){var e=this;e.saveTimer&&(e.saveTimer.cancel(),e.saveTimer=null)}function O(){var t=this;if(!r.features.enabled("composeActivityAdr"))return;t._cancelAdRotationTimer(),t.adRotationTimer=e.later(h,t,function(){var e=(new Date).getTime(),n;if(!t.draft)return;n=t.draft.state,(n==="saved"||n==="unsaved")&&e>t._lastActivityTime+d&&e>t._lastAdRotateTime+p&&(t._startAdRotation(),e>t._lastActivityTime+v&&t._cancelAdRotationTimer())},null,!0)}function M(){var e=this;e.adRotationTimer&&(e.adRotationTimer.cancel(),e.adRotationTimer=null)}function _(){var t=this;t._lastAdRotateTime=(new Date).getTime(),e.fire("darlaEvent",{action:"compose_save"})}function D(){e.fire("darlaEvent",{action:"abortAdCall"})}function P(e){var t=this;e.newVal?(t._lastActivityTime=t._lastAdRotateTime=(new Date).getTime(),t._startAdRotationTimer()):t._cancelAdRotationTimer()}function H(t,n){var r=this,i=t?t:strings.str_comp_dialogheader;r.allowSend?e.use("common-ui-dialog-helper",function(e){r.allowSend=!1;var t={hd:i,bd:n,suppressRestoreFocus:!0},s=function(){r.allowSend=!0,r._restoreFocus()};e.common.ui.DialogHelper.alert(t,{ok:{handler:s},cancel:{handler:s}})}):r._restoreFocus()}function B(){this._cancelSaveTimer(),this.controller.save(this.isAutoSave)}function j(){return}function F(){var e=this;if(e.draft===null)return;e.updateSaveText(!0)}function I(){var e=this,t=e.richFontInfo,r=t.fontFamily,i=t.fontSize;return r||(r=n.getStyleFontFamily(!1)),i||(i=n.getStyleFontSize(!1)),{fontFamily:r,fontSize:i,foreColor:t.foreColor,backColor:t.backColor}}function q(){var e=this;e.isAutoSave=!1,e.save(),e.header&&e.header.hideACWidget(),e.dirty="ForceClose",e._closeAfterWarning(!0)}function R(){var n=this,r=n.areAttachmentsPending(),i='<button id="{{btnID}}ModalOverlay" class="btn left right {{default}}" role="button" data-action="{{btnID}}">{{btnLabel}}</button>';e.use("common-ui-dialog-helper",function(e){var s=t(i,{btnID:"SaveDraft","default":"default",btnLabel:strings.str_comp_savetodrafts_fresh}),o=t(i,{btnID:"DontSave",btnLabel:r?strings.str_comp_closewithoutsaving:strings.str_comp_abandon}),u=t(i,{btnID:"Continue","default":r?"default":"",btnLabel:r?strings.str_comp_returntomessage:strings.str_comp_keepwriting}),a=r?u+o:s+o+u,f=r?strings.str_comp_close_attachmentprocessing:strings.str_comp_close_confirm,h={modal_classes:"lg saveDraftDialog",hd:strings.str_comp_close,bd:f,ft:a,suppressRestoreFocus:!0},p={SaveDraft:{handler:function(){n.doSaveAndClose()}},DontSave:{handler:function(){n.header&&n.header.hideACWidget(),n.dirty="ForceClose",!n.hasHardDraft&&n.getDraftMID()&&e.use("mail-ui-proxyevents",function(){var t=l.getFolderByIndex(n.draft.folder&&n.draft.folder.id),r=t&&t.folderInfo&&t.folderInfo.fid||c;e.mail.ui.MailEventsProxy.handleUI({action:"delete"},r,null,[{fid:r,mid:n.getDraftMID(),force:!0}])}),n._closeAfterWarning(!1)}},Continue:{handler:function(){n.blockAutoSave=!1,n.cancelDialogLoad=!1,n._restoreFocus()}}},d=function(t){n.blockAutoSave=!0,t&&n.setFocus("to"),e.common.ui.DialogHelper.createCommon(h,p,function(e){e.set&&e.set("adAction","disableRetriggerOnOk")})};n.neoFire("composeEvent",{action:"showSaveDialog",sdcbk:e.bind(d,n),sdinline:n.type==="inlineCompose"})})}function U(){return this.draft.mid}function z(n){function o(){var t=e.common.Utils.features,n=t.enabled("NotificationsV2"),i=t.enabled("deleteDraftIcon"),s,o,u,a;r.getDraftMID()?e.use("mail-ui-proxyevents",function(){var t=l.getFolderByIndex(r.draft.folder&&r.draft.folder.id),n=t&&t.folderInfo&&t.folderInfo.fid||c;e.mail.ui.MailEventsProxy.handleUI({action:"delete"},n,null,[{fid:n,mid:r.getDraftMID(),force:!0}])}):i&&n&&r.dirty===!0&&(s=function(){},o={},a=[{fid:"Draft",mid:null,force:!0}],u=["Trash","Draft",a,null,"msg"],e.use("mail-ui-proxyevents",function(){e.mail.ui.MailEventsProxy.showMoveNotification(s,o,u)}))}var r=this,i=r.areAttachmentsPending(),s='<span id="{{btnID}}ModalOverlay" class="btn left right {{default}}"><a href="#" data-action="{{btnID}}">{{btnLabel}}</a></span>';if(!n){o();return}e.use("common-ui-dialog-helper",function(e){var n=t(s,{btnID:"Discard","default":"default",btnLabel:strings.str_comp_discard}),u=t(s,{btnID:"Continue","default":i?"default":""
,btnLabel:strings.str_comp_keepwriting}),a=i?u+n:n+u,f=i?strings.str_comp_discard_attachmentprocessing:strings.str_comp_discard_confirm,l={modal_classes:"lg",hd:strings.str_comp_deletedraft,bd:f,ft:a,suppressRestoreFocus:!0},c={Discard:{handler:function(){r.header&&r.header.hideACWidget(),r.dirty="ForceClose",o(),r._closeAfterWarning(!1)}},Continue:{handler:function(){r.blockAutoSave=!1,r.cancelDialogLoad=!1,r._restoreFocus()}}},h=function(){r.blockAutoSave=!0,e.common.ui.DialogHelper.createCommon(l,c,function(e){e.set&&e.set("adAction","disableRetriggerOnOk")})};r.neoFire("composeEvent",{action:"showDeleteDraftDialog",sdcbk:e.bind(h,r)})})}function W(t){var n=this,r=n.baseNode&&n.baseNode.one(".attachment-button-attach"),i=n.baseNode&&n.baseNode.one("#rtetext");e.UA.gecko>0&&i&&(i.focus(),i.blur()),n.cancelDialogLoad=!0,n.hiliteCP&&n.hiliteCP.hide(),n.textCP&&n.textCP.hide();if(n.dirty==="ForceClose")return!0;var s=n.isDirty()||n.getDraftMID()&&!n.hasHardDraft&&!t,o=n.areAttachmentsPending();return o&&(s=n.dirty=1),n.get("isQuickReply")?n.doDiscardDraft(s):s?a.enabled("deleteDraftIcon")&&!o?n.doSaveAndClose():n.showSaveDraftDialog():r&&r.fire("compose:close"),!s}var t=e.common.Utils.substitute,n=e.mail.Controller.ReplyProcessor,r=e.common.Utils,i=r.log,s=e.ui.Templates,o={reply_sender:strings.str_reply,reply_all:strings.str_reply,edit:strings.str_reply,forward:strings.str_forward},u=s._shared_module_compose_message_header_fresh,a=r.features,f=r.settings,l=e.mail.ui.FolderUtils,c="Draft",h=f.value("composeAdRotationCheckInterval")||3e3,p=f.value("composeAdRotationInterval")||2e4,d=f.value("composeAdRotationQuietInterval")||5e3,v=f.value("composeAdRotationIdleInterval")||3e5,m=!1,g=function(n,r,f){var l=this,c=f&&f.showSubject;l.controller=r,l.header=new e.mail.Views.ComposeHeader(n,l),l.draft=n,l.isDraft=!l.draft.isFresh(),l.title=strings.str_comp_nosubject,l.parent=null,l.baseNode=null,l.compArea=null,l.loadingArea=null,l.type="compose",l.dirty=!1,l.focusNode=null,l.attachmentsLoading=[],l.attView=null,l.loadingTimer=null,l.allowEdit=!1,l.allowSend=!0,l.richFontInfo={fontFamily:null,fontSize:null},l.saveTimer=null,l.adRotationTimer=null,l.lastAutoSaveTime=new Date,l.hasHardDraft=!1,l.blockAutoSave=!1,l.lastSave=null,l.lastSaveType=null,l.isSending=!1,l.isRichText=null,l.isAutoSave=!1,i("#SS: mailcompose init"),l.cancelDialogLoad=!1,l.contentLoaded=!1,l.stopwatch=f?f.stopwatch:null,l.origMsgFID=f?f.fid:null,l.suppressDialog=!1,m=a.enabled("rtePopoutToolbar"),m?l.formatTmpl=s._shared_module_rte_well_content_format_pop_out:l.formatTmpl=s._shared_module_rte_well_content_format_fresh,l.handles=[],l.autoSaveTimePeriod=(NeoConfig.autoSaveInSec||120)*1e3,l.formatters={page_well_email:function(){return t(s._shared_module_rte_well_tabs_compose.base,{},l.wellTabFormatters,null,strings,s)},page_well_format:function(){return t(l.formatTmpl.base,{},l.formatters,null,strings,s)},page_well_format_fresh:function(){return t(l.formatTmpl.base,{},l.formatters,null,strings,s)},page_well_emoticons:function(){return t(s._shared_module_rte_well_content_emoticons.base,{},l.formatters,null,strings,s)},page_well_attachments:function(){return t(s._shared_module_rte_well_content_attachments.base,{},l.formatters,null,strings,s)},quick_reply_card_actions:function(){if(a.enabled("deleteDraftIcon")){var e=l.parent&&l.parent.hasClass("quickReply");return e?null:t(u.quick_reply_card_actions,{},l.formatters,0,strings,s)}return t(u.quick_reply_card_actions,{},l.formatters,0,strings,s)},show_delete_draft_icon:function(){if(a.enabled("deleteDraftIcon"))return t(s._shared_module_compose_fresh_conv.show_delete_draft_icon,{},null,null,strings,s)},quickCompose:function(){if(l.get("isQuickReply"))return t(u.quickCompose,{},0,0,strings,s)},make_reply_all:function(){if(l.get("isQuickReply"))return;var e=l.draft.origin,n=e.action,r={title:n==="reply_all"||e.fid==="Sent"?strings.str_comp_btn_reply_sender:strings.str_comp_btn_reply_all};return n!=="reply_all"&&n!=="reply_sender"?"":t(u.make_reply_all,r,0,0,strings)},make_reply_all_qr:function(){var e=l.draft.origin,n=e.action,r={title:n==="reply_all"||e.fid==="Sent"?strings.str_comp_btn_reply_sender:strings.str_comp_btn_reply_all};return n!=="reply_all"&&n!=="reply_sender"?"":t(u.make_reply_all_qr,r,0,0,strings)},spellCheckEnabled:function(){return a.enabled("spellCheck")?t(l.formatTmpl.spellCheckEnabled,{},l.formatters,null,strings,s):""},is_rtl:function(){var e;return NeoConfig.bidi?(e=strings.str_tog_loadRTLCss?l.formatTmpl.is_rtl:l.formatTmpl.is_rtl_else,t(e,{},l.formatters,null,strings,s)):""},bidi:function(){return NeoConfig.bidi?t(l.formatTmpl.bidi,{},l.formatters,null,strings,s):""},page_compose_conversation:function(){return""},compose_from_address:function(){return t(u.compose_from_address,{},l.formatters,null,strings,s)},timestamp_id:function(){return(new Date).getTime()},fromSelected:function(e){return e.isDefault?' selected="selected" class="nsel"':""},fromAddress:function(e){return typeof e=="string"?e:typeof e=="object"&&typeof e.address=="string"?e.address:""},global_path_img:function(){return NeoConfig.globalPathImg+"/u/assets/img"},display_av_logo:function(){return NeoConfig.avLogoUrl?t(s._shared_module_rte_well_content_file_count.display_av_logo,{},l.formatters,null,strings,s):""},antivirus_logo_path_img:function(){return NeoConfig.avLogoUrl},page_compose_email_else:function(){return"hidden"},reply_type:function(){var e=l.draft.origin.action;return e?o[e]:strings.str_reply},smartscroll:function(){return e.common.Utils.features.enabled("smartscroll")?s._shared_module_compose_fresh_conv.smartscroll:""},intl_fonts:function(){function n(e,n){var r=s._shared_module_rte_well_content_fontnamesize_fresh;return t(r.intl_fonts,{},{font_value:function(){return e},font_name:function(){return n}},null,strings,s)}var r="";if(strings.str_cfg_intl_fonts){var i=e.JSON.parse(strings.str_cfg_intl_fonts);e.Array.each(i,function(e){r+=n(e.value,e.name)})}return r},show_formatter_well:function(
){return m?"":t(s._shared_module_rte_well_fresh_conv.show_formatter_well,{},l.formatters,null,strings,s)},show_popout_toolbar:function(){return m?t(s._shared_module_rte_well_fresh_conv.show_popout_toolbar,{},l.formatters,null,strings,s):""},show_attachment_icon:function(){return t(s._shared_module_rte_well_fresh_conv.show_attachment_icon,{},l.formatters,null,strings,s)},ca_icon:function(){return a.enabled("richcompose")&&(!l.get("isQuickReply")||a.enabled("richcomposeInQuickReply"))?t(s._shared_module_rte_well_fresh_conv.ca_icon,{},l.formatters,null,strings,s):""},bottomToolbar:function(){return t(s._shared_module_compose_fresh.bottomToolbar,{},l.formatters,null,strings,s)},subject_hidden:function(){return l.get("isQuickReply")&&!c?u.subject_hidden:""},less_than_IE10:function(){var n=e.UA.ie>0&&e.UA.ie<10;return n?t(u.less_than_IE10,{},l.formatters,null,strings,s):""},is_underline:function(){return NeoConfig.enableUnderline?t(l.formatTmpl.is_underline,{},l.formatters,null,strings,s):""},has_quote:function(){var e=l.draft.origin.action;if(e==="reply_sender"||e==="reply_all"||e==="edit")return t(s._shared_module_compose_message_body.has_quote,{},l.formatters,null,strings,s)},ca_active:function(){return a.enabled("richcompose")&&(!l.get("isQuickReply")||a.enabled("richcomposeInQuickReply"))?s._shared_module_compose_fresh_conv.ca_active:""},squeezeToolbar:function(){return a.enabled("squeezeToolbar")?s._shared_module_compose_fresh_conv.squeezeToolbar:""}},g.superclass.constructor.call(l),l.addChild(l.header),l.header.on("HeaderBase:updateSubject",function(){l.neoFire("composeEvent",{action:"updateSubject"})}),l.header.on("HeaderBase:qrCancel",function(){l.neoFire("composeEvent",{action:"qrCancel"})}),l.after("activeChange",l._afterActiveChanged,l)};e.extend(g,e.mail.ui.BaseWidget),e.mix(g.prototype,{NAME:"MailCompose",isDirty:b,_setDirty:T,_setClean:N,getHeader:function(){return this.header.getHeader()},_setHeader:function(e){this.header.setHeader(e)},areAttachmentsPending:E,resetSaveTimer:L,canClose:W,showSaveDraftDialog:R,doSaveAndClose:q,doDiscardDraft:z,getRichFontInfo:I,saveProgress:F,getDraftMID:U,_alertProblem:H,_invokeSaveDraft:j,save:B,_cancelSaveTimer:A,_closeAfterWarning:function(){},_startAdRotationTimer:O,_startAdRotation:_,_cancelAdRotationTimer:M,_cancelAdRotation:D,_afterActiveChanged:P,_registerFocus:S,_restoreFocus:x,_getTextMode:C,_setTextMode:k,confirm:w,ondestroy:y},!0),e.namespace("mail.Views").MailCompose=g},"1.0.0",{requires:["autocomplete_css","common-persist-user-data","mail-persist-meta-data","mail-controller-messages","mail-model-datastore","mail-controller-reply-processor","_shared_module_compose_message_header_fresh","mail-ui-mailcompose-base-header-v3","comms-utils","mail-ui-basewidget","editor-inline","mail-services-message-service","mail-error-v3","mail-common-utils-features","mail-common-utils-settings","mail-ui-folder-utils"]});
YUI.add("comms-ui-menu-base",function(e){function h(s){function O(){o._link=s.host,p=o._root=P(s.menu),o.dontFocus=s.dontFocus||!1,o.dontFocus||o._root.setAttribute("tabIndex",-1),o._evt=[],o._tmFocus=null,o._fixedMenuGroup=s.fixedMenuGroup,o._setVisibleCbk=s.setVisibleCbk,o._overlap=s.overlap||!1,o._offset=s.offset||{x:0,menuUpY:0,menuDownY:0},o.closeMenu=e.Lang.isUndefined(s.closeMenu)?!0:s.closeMenu,et(),D(p,o._link),o.setAriaAttrs(p),Q(s.keys),G(s.enterAccel),M()}function M(e){var t=p.all("li");(e||t&&t.size()!==T||w[0]&&!w[0].inDoc())&&_(t)}function _(e){var t=e.size(),r=0,i,s,o,u,a,f;T=0,w=[];for(u=0;u<t;u++)a=e.item(u),T++,a.getStyle("display")!=="none"&&!a.ancestor().hasClass("disabled")&&(a.hasClass("disabled")?a.one(".icon-help")&&a.one(".help-text")&&w.push(a.one(".icon-help")):(f===undefined&&a.hasClass(n)&&(f=r),w.push(a),x&&(i=a.one("em"),i&&(s=i.get("childNodes"),s&&(o=s.item(0),o&&x===o.get("text")&&(S=a)))),r++));p.all("li."+n).removeClass(n),E=typeof f=="undefined"?-1:f}function D(e,t){t.set("aria-haspopup","true"),e.setAttrs({role:"menu","aria-labelledby":t.getAttribute("id"),"aria-hidden":"true"})}function P(t){var n,r=t instanceof e.Node;if(r||typeof t=="string")r?n=t:(f("body").append(t),n=f("body").get("lastChild"));return n.setStyles({position:"absolute",zIndex:u}),n}function H(e,t){var n=f("window"),r=L.getCachedWindowSize().height,i=o._fixedMenuGroup,s=null,u=o._setVisibleCbk,a="",p=t,v,b,w,S,x,T,C,k,A;if(e===o._root&&(!d||d())&&o._link.inDoc()){v=o._link.get("region");if(m)y&&(F(o._link),p=null),r>c&&(C=r-c),C<l&&(C=l),e.setStyles({maxHeight:C,overflowX:"hidden",overflowY:"auto",opacity:0}),b=I(p),g=t&&t.target||g;else{i&&(s=e.one("#"+i.menu),s.setStyle("maxHeight",i.height+"px")),e.setStyles({visibility:"hidden",display:"block",top:0,maxHeight:"none",opacity:0}),w=e.get("region").height,S=n.get("scrollTop"),k=v.top-S,A=r-(v.bottom-S),A>=k?a="below":w>A&&(a="above"),C=o._setMaxHeight(k,A,w,a),b=o._setPosition(v,a,w,C),e.setStyles({maxHeight:C,overflowX:"hidden",overflowY:"auto"}),s&&C<e.get("scrollHeight")&&s.setStyle("maxHeight","none"),x=L.getCachedWindowSize().width,x&&v.left+e.get("region").width>x&&(b.left="auto",b.right="0px");if(h||N)T=Math.max(v.left+v.width-e.get("region").width,0),b.left=T+"px",x>v.left+v.width&&(b.right="auto");b.visibility="visible"}u&&u(),M(),E=-1,e.setStyles(b),e.setStyle("opacity",1),o.dontFocus||e.focus()}}function B(e,t,n,r){var i={top:e.bottom,left:e.left,right:"auto"},s;return t==="below"?(o._overlap&&(i.top=e.top+o._offset.menuDownY),i.left+=o._offset.x):t==="above"?(o._overlap?s=e.bottom+o._offset.menuUpY:s=e.top,i.left+=o._offset.x,i.top=s-(n<r?n:r)+"px"):(o._overlap&&(i.top=e.top),i.left+=o._offset.x,i.top+=o._offset.menuDownY),i}function j(e,t,n,r){var i;return r==="below"?(i=t-c,i<l&&(i=l)):r==="above"?(i=e-c,i<l&&(i=l)):i=n,i}function F(t){var n=t.getXY(),r=parseInt(t.getStyle("height"),10)||20;return v=e.Lang.isNumber(r)?[n[0],n[1]+r]:n,v}function I(e){var t=o._root,n,r,i,s,u,a=15,f,l=L.getCachedWindowSize().height,c=0;return r=e?e.clientX:v[0],i=e?e.clientY:v[1],t.setStyles({display:"block",bottom:"auto",left:-1e3,right:"auto"}),f=parseInt(t.get("region").height,10),s=l-a-i<f,u=L.getCachedWindowSize().width-a-r<parseInt(t.get("region").width,10),n={top:i+c,left:r},s&&(n.top=l+c-f-a),u&&(n.left="auto",n.right=a+"px"),n}function q(e){e.setStyle("display","none"),e.removeClass(r),e.hasClass(t)&&e.removeClass(t),e!==o._root&&e.get("parentNode").removeClass(i),w[E]&&w[E].removeClass(n)}function R(t){var n;if(t){n=e.Node.getDOMNode(e.one(t)).nodeName,n=n.toUpperCase();switch(n){case"LI":return t;default:return t.ancestor("li")}}}function U(t){var n,r;n=R(t.target);if(!n)return;r=E,E=e.Array.indexOf(w,n),E>=0?$(r,E):E=r}function z(){var e;m||(e=o._link.one("a")||o._link,e&&e.focus())}function W(t){var n=E,r=t.target,i=e.one(document.activeElement),s,u;A=!0;switch(t.keyCode){case 38:case 40:t.halt(),V(t,n),s=w[E];if(!i||!i.hasClass("focus-node")){u=s&&s.one(".focus-node");if(!u||u.getStyle("display")==="none")u=s.one("a")||s;u&&u.focus()}break;case 27:o.hide(),t.halt(),z();break;case 13:e.use("node-event-simulate",function(){r.get("nodeName").toLowerCase()==="a"?(r.simulate("click"),t.halt(),o.hide()):r.hasClass("icon-help")?(r.simulate("click"),t.halt()):S&&(S.one("a").simulate("click"),o.hide())});break;default:b.length>0&&J(t)?(o.hide(t),z()):t.halt()}}function X(e){if(A){A=!1;return}switch(e.keyCode){case 38:case 40:e.halt()}}function V(e,t){e.keyCode===40?(E=E===w.length-1?0:E+1,$(t,E,!0)):e.keyCode===38&&(E=E<=0?w.length-1:E-1,$(t,E,!0))}function $(e,t,r){var i=this,s,o;if(s=w[e]){s.removeClass(n);if(!i.dontFocus){o=s.one(".focus-node");if(!o||o.getStyle("display")==="none")o=s.one("a")||s;o&&o.set("tabIndex",-1)}}if(s=w[t]){s.addClass(n);if(!i.dontFocus){o=s.one(".focus-node");if(!o||o.getStyle("display")==="none")o=s.one("a")||s;o&&(o.set("tabIndex",0),r&&o.scrollIntoView())}}}function J(t){var n,r,i,s,o,u,f;if(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey){for(s=0;s<b.length;s++)if((r=(b[s]+"").split("+"))&&r.length>1){u=0;for(o=0;o<r.length;o++){i=r[o],f=i.toLowerCase()==="cmd"?"metaKey":i.toLowerCase()+"Key";if(a.isNumber(i*1)&&i*1!==t.keyCode||!a.isNumber(i*1)&&!t[f])break;u++}if(r.length===u){n=!0;break}}}else e.Array.indexOf(b,t.keyCode)>-1&&(n=!0);return n}function K(e){b=e}function Q(e){a.isArray(e)?K(e):a.isFunction(e)?e.call(this,K):a.isString(e)&&K([e])}function G(e){e&&(a.isFunction(e)?e.call(this,Z):a.isString(e)&&Z([e]))}function Z(e){x=e}function et(){function t(){if(!o.isVisible())return;o.tmFocus&&o.tmFocus.cancel(),o._tmFocus=a.later(0,o,function(){try{var t=e.one("document").get("activeElement"),n=t.get("nodeName"),r;n!=="EMBED"&&n!=="OBJECT"&&(r=t.getAttribute("embed-type"),r!=="menu"&&o.hide())}catch(i){typeof globals!="undefined"&&globals.report?globals.report("caughterror:..-build-comms-shared-src-ui-menu-js-menu:1",i,"TRY_CATCH",1,1,1):window.console&&console.log&&console.log("caughterror:..-build-comms-shared-src-ui-menu-js-menu:1"
)}})}m?(o._evt.push(o._link.on("mousedown",function(){o.hide()},o)),o._evt.push(o._link.on("contextmenu",function(e){o.toggle(e)},o))):(o._evt.push(o._link.on("mousedown",function(e){e.halt(),o.toggle(e)},o)),o._evt.push(o._link.on("keydown",function(e){if(e.keyCode===13||e.keyCode===32)e.preventDefault(),o.toggle(e)},o))),o._evt.push(o._root.on("blur",t,o)),o._evt.push(e.on("windowresize",function(){var n=e.one("body").get("clientWidth"),r=e.one("body").get("clientHeight");if(n!==C||r!==k)C=n,k=r,t()},o)),o._evt.push(o._root.on("focus",function(){o._tmFocus&&o._tmFocus.cancel()},o)),o._evt.push(o._root.on("keydown",W,o)),o._evt.push(o._root.on("keypress",X,o)),o._evt.push(o._root.on("mouseover",U,o)),o._evt.push(o._root.on("menu:changed",function(){_(p.all("li"))}))}function tt(){return p}function nt(){return g}var o=this,h=f("body").getStyle("direction")==="rtl",p,d=s.button_enabled,v=s.xy||[0,0],m=s.isContext||!1,g=s.contextTarget||null,y=s.alignToTarget||!1,b=[],w=[],E,S=null,x=null,T=-1,N=s.flushLeft,C=e.one("body").get("clientWidth"),k=e.one("body").get("clientHeight"),L=e.common.Utils,A=!1;O(),e.mix(o,{setVisible:H,_setPosition:B,_setMaxHeight:j,hideMenu:q,checkDescendants:M,getMenuNode:tt,getContextTarget:nt,selectMenuItem:function(){this.simulate&&this.simulate("mouseover")},getHost:function(){return o._link}})}var t="menu-active",n="menu-active-item",r="menu-visible",i="menu-visible-path",s="role",o="aria-hidden",u=15500,a=e.Lang,f=e.one,l=80,c=40;h.prototype={_detachHdlr:null,setAriaAttrs:function(e){var t=this;e.all("ul").set(s,"group"),e.all("li,div,h4").each(function(e){e.get(s)||e.set(s,"presentation")});var n=e.all("a");n.set(s,"menuitem"),t.dontFocus&&n.set("tabIndex",-1)},show:function(e){var n=this,r=n._root;n.isVisible()||(r.addClass(t),n.setVisible(r,e),r.set(o,!1),n.attachClickHdlr(!0),r.fire("menu:state",{state:"show",link:n._link,context:e&&e.context}))},hide:function(e){var t=this,n,r=t._root,i=e?e.type:null;t.isVisible()&&t.closeMenu&&(r.set(o,!0),!t.dontFocus&&(n=r.one('a[tabindex="0"]'))&&n.set("tabIndex",-1),t.hideMenu(r),r.fire("menu:state",{state:"hide",link:t._link,origEvtType:i})),t._detachHdlr&&t.closeMenu&&t.attachClickHdlr(!1)},toggle:function(e){this[this.isVisible()?"hide":"show"](e)},attachClickHdlr:function(t){var n=this;n._detachHdlr&&(n._detachHdlr.detach(),n._detachHdlr=null);if(t===!1)return;n._detachHdlr=e.on("click",function(t){var r=t.target,i=e.Node.getDOMNode(r),s=n._link.contains(r)||n._link===r,o=!1;e.UA.webkit&&!e.UA.chrome&&i.nodeName==="UL"&&(o=!0),t.preventDefault(),!o&&!s&&(n._tmFocus&&n._tmFocus.cancel(),n._root&&n._root._node&&n.hide())},document),e.UA.webkit&&!e.UA.chrome&&n._root.on("mousedown",function(t){var n=t.target,r=e.Node.getDOMNode(n).nodeName;r!=="A"&&(n=n.ancestor("a")),n&&n.focus()})},destroy:function(){var t,n=this;n.attachClickHdlr(!1);for(t in n._evt)e.detach(n._evt[t])},isVisible:function(){var t=this._root;return!t._node&&e.one(".dummy_menu_node")&&(t=e.one(".dummy_menu_node").menu._root),t._node?t.getStyle("display")!=="none":!1}},h.NAME="Menu",h.NS="menu",e.namespace("Plugin").Menu=h},"1.0.0",{requires:["common-utils"]});
YUI.add("_shared_module_offscreen_bin_menus_loading",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_menus_loading={base:'<div role = "menu" id = "loadingMenu" class="optionMenu" aria-live="polite"> <ul> <li><a href="#"><span>{{str_galaxy_status_loading}}</span></a></li> </ul></div>'};},"1.0.0");YUI.add("common-ui-menu-helper",function(e){e.namespace("common.ui");var t=function(){function t(t,n,r){var i,s=e.one("#loadingMenu");t.menu&&t.unplug(e.Plugin.Menu),n.menu&&n.menu instanceof e.Node&&n.menu.detachAll(),n=n||{},s&&s.remove(),t.plug(e.Plugin.Menu,n),t.menuCreated=!0;if(t.menu){t.menu._root.on("menu:state",function(t){e.fire("menu:display-state",{state:t.state,intl:NeoConfig.intl})}),e.on("menu:display-menu-close",function(){t&&t.menu&&t.menu.hide()}),i=t.menu.getMenuNode(),i.delegate("click",function(r){var s=e.common.Utils.getDataAction(r),o=s.action,u,a=s.node,f=r.currentTarget.one("a");if(!o||a&&a.hasClass("disabled")){r.halt();return}f&&(!f.getAttribute("href")||"#"===f.getAttribute("href"))&&r.preventDefault();if(r.target.hasClass("icon-help")){u=r.target.get("parentNode").get("parentNode").one(".help-text");if(u){e.Node(r._currentTarget).all(".help-text").each(function(e){e!==u&&e.addClass("hidden")}),u.toggleClass("hidden"),r.halt();return}}n.allowSimClick&&i._node.click(),i.fire("menuSelected",{dataAction:o,item:a});try{t.menu&&t.menu.hide(),n.isContext?i.blur():n.blur||(t.one("a")?t.one("a").focus():t.focus())}catch(l){typeof globals!="undefined"&&globals.report?globals.report("caughterror:..-build-common-ui-menuhelper-menuhelper:1",l,"TRY_CATCH",1,1,1):window.console&&console.log&&console.log("caughterror:..-build-common-ui-menuhelper-menuhelper:1")}},"li, dd a"),e.fire("menu:created",i),!n.cbafter&&r&&r(),t.menu.show();if(!n.cbafter)return}r&&r()}function n(t,n){e.Lang.later(500,this,function(){var i=n?n.isContext?!0:!1:!1,s=t.get("region"),o=NeoConfig.isRTL,u=e.ui.Templates._shared_module_offscreen_bin_menus_loading,a=e.one("window"),f,l,c,h,p,d;if(e.one("#loadingMenu")||t.menuCreated)return;e.one("body").append(e.common.Utils.substitute(u.base,null,0,0,strings)),c=e.one("body").get("lastChild"),i?(f=n.xy||t.getXY(),l=r(t,c,f)):(c.setStyles({position:"absolute",visibility:"hidden",display:"block",top:0}),l={top:s.bottom,left:s.left,right:"auto"},h=c.get("region").height,p=a.get("scrollTop"),d=a.get("winHeight"),h>d-(s.bottom-p)&&h<s.top-p&&(l.top=s.top-h+"px"),o&&(l.left=s.left+s.width-c.get("region").width+"px"),l.visibility="visible"),l.zIndex=4e3,c.setStyles(l)})}function r(t,n,r){var i,s=r[0],o=r[1],u,a,f=15,l,c=t.get("winHeight"),h=e.one("window").get("scrollTop")||0;return n.setStyles({display:"block",bottom:"auto",left:-1e3,right:"auto",position:"absolute"}),l=parseInt(n.get("region").height,10),u=c-f-o<l,a=t.get("docWidth")-f-s<parseInt(n.get("region").width,10),i={top:o+h,left:s},u&&(i.top=c+h-l-f),a&&(i.left="auto",i.right=f+"px"),i}e.mix(this,{create:t,createLoadingMenu:n})};e.common.ui.MenuHelper=new t},"1.0.0",{requires:["common-utils","comms-ui-menu-base","_shared_module_offscreen_bin_menus_loading"]});
YUI.add("mail-services-plugins",function(B){var A={};function C(){}B.mix(C.prototype,{get:function(D){return(A[D]||[]).slice(0);},register:function(D,E){if(!A[D]){A[D]=[];}A[D].push(E);this.fire("added:"+D,E);},unregister:function(F,G){if(!A[F]){return;}var D=A[F],E=D.indexOf(G);D.splice(E,1);this.fire("removed:"+F,G);if(D.length===0){delete A[F];}}});B.augment(C,B.EventTarget);B.namespace("Mail.Services").Plugins=new C();},"1.0.0",{requires:["event-custom"]});YUI.add("_shared_module_compose_attach_item",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_compose_attach_item={base:'<li role="presentation" class="disposition-{{disposition}}"> <span aria-hidden="true" class="filename {{isViewable}}">{{filename}}</span> <div class="options" role="presentation"> <a role="button" class="remove" aria-label="{{str_comp_remove}} {{filename}}" href="#">{{str_comp_remove}}</a> <a role="button" class="download" aria-label="{{str_comp_attach_btn_download}} {{filename}}" href="{{download_url}}"> {{str_comp_attach_btn_download}} <i class="icon icon-chevron-down" aria-haspopup="true"></i> </a> </div> <div class="progress-bar" aria-hidden="true"> <span class="progress"> <span class="progress-content"></span> </span> </div></li>'}},"1.0.0");
YUI.add("_shared_module_compose_thumbnail_item",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_compose_thumbnail_item={base:'<li class="thumbnail-item disposition-{{disposition}} image-attachment"> <div class="options" role="presentation"> <div role="button" aria-label="{{str_comp_remove}} {{filename}}" class="remove icon icon-small-close" tabindex="0"></div> <div class="download photo-overlay" role="presentation"> <a role="button" tabindex="0" title="{{str_comp_attach_btn_download}} {{filename}}" href="{{download_url}}">{{str_comp_attach_btn_download}}<i aria-haspopup="true" class="icon icon-chevron-down"></i></a> </div> </div> <div class="progress-bar"> <span class="progress"> <span class="progress-content"></span> </span> </div></li>'}},"1.0.0");
YUI.add("_shared_module_compose_thumbnail_preview_item",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_compose_thumbnail_preview_item={base:'<li class="thumbnail-item doc-preview-compose disposition-{{disposition}} {{attachment_type_class}}" title="{{filename}}"> <div class="{{file_icon_class}}"></div> <div class="options" role="presentation"> <div role="button" aria-label="{{str_comp_remove}} {{filename}}" class="remove icon icon-small-close" tabindex="0"></div> <div class="download photo-overlay" role="presentation"> <a title="{{str_comp_attach_btn_download}} {{filename}}" href="{{download_url}}"><span class="download-txt">{{str_comp_attach_btn_download}}</span><i aria-haspopup="true" class="icon icon-chevron-down"></i></a> </div> </div> <div class="progress-bar"> <span class="progress"> <span class="progress-content"></span> </span> </div> <div class="filename"> <span class="basename">{{basename}}</span> <span class="fileextn">{{extn}}</span> </div></li>'}},"1.0.0");
YUI.add("mail-services-attach-io",function(e){function t(t){var n=[window.location.protocol+"//",window.location.host,"/ws/mail/v2.0/jsonrpc?","appid="+e.common.Utils.settings.value("appid"),"&m="+t,"&wssid="+NeoConfig.wssid,"&windowid="+NeoConfig.windowId,"&r="+(new Date).getTime()].join("");return n}function n(e){return{fid:"Draft",aid:e.contentId(),filename:e.file(),mid:e.mid(),pid:e.partId(),size:e.size()}}function r(){var e=new Date;return"Attachments_"+e.getFullYear()+(e.getMonth()+1)+e.getDate()}function i(t,n,r){e.io(t,{method:"POST",data:e.JSON.stringify(n),headers:{"Content-Type":"application/json"},on:r})}e.namespace("Mail.ComposeV3");var s={getDownLoadUrl:function(s){var o="VirusScanAttachments",u=t(o),a={method:o,params:[{downloadInfo:[n(s)],archiveName:r(),archive:!1}]};return new Promise(function(t,n){var r={success:function(r,i){try{var s=e.JSON.parse(i.response||i.responseText).result.attachInfoResult[0];s.virusFound.length===0?t(s.downloadUrl):n(Error("virusfound"))}catch(o){n(o)}},failure:function(e){n(e)}};i(u,a,r)})}};e.namespace("Mail.Services").AttachIO=s},"1.0.0",{requires:["io","json-parse","json-stringify"]});
YUI.add("mail-ui-tray",function(e){function d(){this.isInternal=!0,this.label=strings.str_comp_attachment_save_to_computer,this.iframes=[]}function v(e){this.tripodInTrayCalloutShown=!1,this.model=e.model,this.view=e.view,this.container=e.container,this.filesView=e.filesView,this.thumbnailsView=e.thumbnailsView,this.localDownloader=new d}function m(e){var t=e.map(function(e,t){return'<li role="presentation"><a role="menuitem" data-action="'+t+'" tabindex="-1">'+e.label+"</a>"});return t.unshift("<ul>"),t.push("</ul>"),t.join("")}var t=e.common.ui.MenuHelper,n=e.Mail.Services.Plugins,r=e.common.Utils,i=r.substitute,s=r.escapeHtml,o=r.unescapeHtml,u=e.ui.Templates._shared_module_compose_attach_item.base,a="in-progress",f=r.features.enabled("docPreview"),l=f?e.ui.Templates._shared_module_compose_thumbnail_preview_item.base:e.ui.Templates._shared_module_compose_thumbnail_item.base,c="non-image-attachment",h="image-attachment",p=1e4;d.prototype={deleteIframe:function(){var e=0;for(e=0;e<this.iframes.length;e++)document.body.removeChild(this.iframes[e]);this.iframes=[]},download:function(e){var t=this;t.deleteIframe(),e.forEach(function(e){var n=document.createElement("iframe");n.src=e.url,n.width=0,n.height=0,n.style.display="none",document.body.appendChild(n),t.iframes.push(n)},this)},injectIframe:function(e){var t=document.createElement("iframe");this.deleteIframe(),t.src=e,t.width=0,t.height=0,t.style.display="none",document.body.appendChild(t),this.iframes.push(t)},downloadV3:function(t){var n=this,r=e.common.Utils.guid(),i=location.origin+"/neo/iframemsg?id="+r,s,o,u;o=window.setTimeout(function(){e.fire("util:ymstats",{name:"download-tray-v3-success"}),s&&s.detach()},p),s=e.on("iframe-message",function(t){r===t.id&&(clearTimeout(o),n.handleIframeMessage(t),s&&s.detach())}),u=e.common.Utils.mergeQueryString(t,{error:i}),this.injectIframe(u)},handleIframeMessage:function(t){var n=e.JSON.parse(atob(t.data.replace(/_/g,"/").replace(/-/g,"+"))),r=n.error,i=e.Tictac.att.strings,s,o;s=r.code==="EC-4001"&&r.validationErrors&&r.validationErrors.join("").indexOf("virus")>=0,s?o=i.str_tictac_att_download_virus_error:o=i.str_tictac_att_download_server_error,e.common.ui.NotificationV2.notify(o,{type:"error",close:!0,customClass:"single-inline"}),e.fire("util:ymstats",{name:"download-tray-v3-fail",type:s?"virus":"fetch"})},destroy:function(){this.deleteIframe()}},v.prototype={constructor:v,render:function(){var t=this.model,r=this;t.attachments.length>0&&(this.container.removeClass("hidden"),t.attachments.length>1&&this.container.one(".attachments-header").removeClass("hidden"),t.attachments.forEach(this.sync,this)),this.filesView.removeClass("hidden"),t.on("attachmentAdded",this.sync,this),this.container.one(".removeAll").on("click",function(e){e.preventDefault(),t.attachments.forEach(function(e){e.setState("deleted")}),this.fire("attachmentRemoved")},this),this._createMenu(),n.on("added:attachmentDownloader",this._createMenu,this),this.container.one(".error").one(".dismiss").on("click",function(e){e.target.ancestor(".error").addClass("hidden"),e.preventDefault(),e.stopPropagation()}),this.showMessageInfo=function(e){var t=null,n;return n=function(r,i,s){if(!e.getDOMNode())return;s=s||1e4,i=i||"",e.setContent(r),r===""?e.addClass("hidden"):e.removeClass("hidden"),t&&clearTimeout(t),t=setTimeout(function(){if(i===""){e&&e.getDOMNode()&&e.addClass("hidden");return}n(i,"",2e3)},s)},n}(this.container.one(".self-close-msg")),this.hidMessageInfo=function(){r.showMessageInfo("","",0)},t.on("stateChanged",e.bind(this.handleAttachmentProgress,this))},handleAttachmentProgress:function(e){var t=9999e3,n=this.model.attachments,r=e.next==="saving"&&!!n&&n.filter(function(e){return e.state()==="uploading"||e.state()==="pending"}).length,i='<span class="spinner">'+strings.str_comp_attach_upload_progress+"</span>";r?this.showMessageInfo(i,strings.str_comp_attach_reattach_failure_title,t):this.hidMessageInfo()},repositionTripodOnBoarding:function(){var e=this.thumbnailsView,t=e&&e.one(".scout-tripodInTray"),n=e&&e.all("li.thumbnail-item").size();if(!t)return;t.setStyle("left",n*100)},showTripodOnboardingInTray:function(){var t=this.view;!this.tripodInTrayCalloutShown&&!r.isCalloutShown("tripodInTray")&&(e.mail.ui.Onboarding.registerDefaultOnboarding({name:"tripodInTray",parent:e.one(".attachments-well .thumbnails-attach"),node:e.one(".attachments-well .thumbnails-attach li:last-child"),hdText:strings.str_comp_onboard_tripodintray_title,offset:[100,0],bdText:strings.str_comp_onboard_tripodintray_body,linkText:strings.str_comp_onboard_tripodintray_link,onLinkClick:function(){t.fire("showComposeAssist",{clickSource:"tripodInTray"})}},!0),this.tripodInTrayCalloutShown=!0)},sync:function(t){function E(e,t){var n=new Image;n.onload=function(){if(!e.getDOMNode())return;var n=e.getStyle("backgroundImage"),r;typeof n=="string"&&v&&(r=n.match(/url\((.+)\)|^(blob:.+)/),r&&v.revokeObjectURL(r[1]||r[2])),e.setStyle("backgroundImage","url("+t+")")},n.src=t}function S(){var e=this.container.one(".error");e.removeClass("hidden"),m.one(".remove").setStyle("display","block"),m.one(".download").addClass("hidden"),m.addClass("attach-fail"),this.updateUI()}function x(){e.one("#attachment-button-input")&&e.one("#attachment-button-input").set("value","")}var n=this,p=t.getFileExtension(),d=t.getThumbnailUrl(),v=window.URL||window.webkitURL,m,g,y,b,w;p=(p!==""?".":"")+p.substr(0,4),w={filename:s(o(t.getFilename())),basename:s(o(t.getFilenameWithoutExtension())),extn:s(o(p)),file_icon_class:f?t.getAttachmentIconClass().join(" "):"",download_url:"#",attachment_type_class:t.isImage()?h:c,isViewable:r.features.enabled("slideshowInCompose")&&t.isViewable()?"viewable":"",disposition:t.isInline()?"inline":"attachment"},t.isImage()?(m=e.Node.create(i(l,w,0,0,strings)),v&&t.file()&&m.setStyle("backgroundImage","url("+v.createObjectURL(t.file())+")"),t.state()==="saved"||t.state()==="uploaded"?d&&E(m,t.getThumbnailUrl()):t.on("changedState",function(
){n.repositionTripodOnBoarding();if(!m.getDOMNode())return;if(this.state()==="saved"||this.state()==="uploaded")E(m,this.getThumbnailUrl()),m.removeClass(a),n.showTripodOnboardingInTray()}),this.thumbnailsView.append(m)):f?(m=e.Node.create(i(l,w,0,0,strings)),this.thumbnailsView.append(m)):(m=e.Node.create(i(u,w,0,0,strings)),this.filesView.append(m)),(t.state()==="pending"||t.state()==="uploading")&&m.addClass(a),e.common.Utils.features.enabled("slideshowInCompose")&&m.on("click",function(){t.isViewable()&&t.openSlideshow(n.localDownloader)}),m.one(".remove").on("click",function(e){e.halt(),t.setState("deleted"),this.fire("attachmentRemoved")},this),m.one(".download").on("click",function(e){this._download(t,this.localDownloader),e.halt()},this),m.one('.download [aria-haspopup="true"]').on("click",function(e){this._showDownloadMenu(e.target,t),e.halt()},this),t.on("saved",x,this),t.on("failed",S,this),t.on("infected",S,this),t.on("deleted",function(){m.remove().destroy(),this.updateUI()},this),t.on("progress",function(e){if(!m.getDOMNode())return;var t=m.one(".progress");e<1?(e=100*e,t&&t.setStyle("width",e+"%")):m.removeClass(a)}),this.updateUI({scrollToAttachmentTray:t.state()!=="saved"}),f&&(g=m.get("region").width,y=m.one(".basename").get("region").width,b=m.one(".fileextn").get("region").width,y+b>=g&&m.one(".basename").setStyle("width",g-b))},updateUI:function(t){var n=this,r=this.container,s=t||{},o=this.model.attachments.filter(function(e){return!e.isInline()}),u=r.one(".attachments-header"),a=o.filter(function(e){return e.state()!=="deleted"}).length,f=u&&u.one(".info"),l,c,h="";if(!u)return;a<1?(f.addClass("hidden"),r.addClass("hidden"),u.addClass("hidden")):a>1?f.removeClass("hidden"):(f.addClass("hidden"),r.removeClass("hidden"),u.removeClass("hidden")),r.one(".totalAttached").set("text",a),l=o.filter(function(e){return e.state()==="failed"}),c=o.filter(function(e){return e.state()==="infected"}),l.length===0&&c.length===0?this.container.one(".error").addClass("hidden"):(c.length===1?h=strings.str_rte_attachments_virus_single:c.length>1?h=i(strings.str_rte_attachments_virus_mult,{num_virus_files:c.length}):h=strings.str_comp_attach_upload_error,this.container.one(".error span").setContent(h)),s.scrollToAttachmentTray&&this.container.scrollIntoView&&setTimeout(function(){n.container.getDOMNode()&&(n.container.scrollIntoView(),e.fire("attachmentsChanged",n.container))},200)},showError:function(){this.container.one(".error").removeClass("hidden"),this.updateUI()},destroy:function(){var e=this;e._menuContainer&&e._menuContainer.remove(!0),e.localDownloader&&e.localDownloader.destroy(),e.model.attachments&&e.model.attachments.forEach(function(e){e.destroySlideshow()})},_createMenu:function(){var t=this,r=n.get("attachmentDownloader");if(r.length===0)return;r.unshift(this.localDownloader),t._downloaders=r,t._menuContainer&&t._menuContainer.remove(!0),t._menuContainer=e.Node.create('<div class="optionMenu"></div>'),t._menuContainer.append(m(t._downloaders)),e.one("body").append(t._menuContainer)},_showDownloadMenu:function(e,n){var r=this;t.create(e,{menu:r._menuContainer,blur:!0},function(){r._menuContainer.on("menuSelected",function(e){r._downloadMenuOptionSelected(e.dataAction,n)})})},_download:function(t,n){var r=t.getDownloadUrlV3();e.fire("util:ymstats",{name:"download-tray-v3-start"}),r?n.downloadV3(r):(this.showMessageInfo(strings.str_error_DownloadError),e.fire("util:ymstats",{name:"download-tray-v3-fail",type:"url-not-found"}))},_downloadMenuOptionSelected:function(e,t){this._download(t,this._downloaders[e])}};var g=!0,y=null,b={prefix:"attachmentsTray"};e.augment(v,e.EventTarget,g,y,b),e.Tray=v},"0.0.1",{requires:["node","comms-utils","event-custom","common-ui-menu-helper","mail-services-plugins","_shared_module_compose_attach_item","_shared_module_compose_thumbnail_item","_shared_module_compose_thumbnail_preview_item","mail-services-attach-io","mail-common-utils-features"]});
/*
YUI 3.16.0-ym19 (build 3.16.0-ym19)
Copyright 2016 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("swfdetect",function(e,t){function c(e){return parseInt(e,10)}function h(e){i.isNumber(c(e[0]))&&(r.flashMajor=e[0]),i.isNumber(c(e[1]))&&(r.flashMinor=e[1]),i.isNumber(c(e[2]))&&(r.flashRev=e[2])}var n=0,r=e.UA,i=e.Lang,s="ShockwaveFlash",o,u,a,f,l;if(r.gecko||r.webkit||r.opera){if(o=navigator.mimeTypes["application/x-shockwave-flash"])if(u=o.enabledPlugin)a=u.description.replace(/\s[rd]/g,".").replace(/[A-Za-z\s]+/g,"").split("."),h(a)}else if(r.ie){try{f=new ActiveXObject(s+"."+s+".6"),f.AllowScriptAccess="always"}catch(p){f!==null&&(n=6)}if(n===0)try{l=new ActiveXObject(s+"."+s),a=l.GetVariable("$version").replace(/[A-Za-z\s]+/g,"").split(","),h(a)}catch(d){}}e.SWFDetect={getFlashVersion:function(){return String(r.flashMajor)+"."+String(r.flashMinor)+"."+String(r.flashRev)},isFlashVersionAtLeast:function(e,t,n){var i=c(r.flashMajor),s=c(r.flashMinor),o=c(r.flashRev);return e=c(e||0),t=c(t||0),n=c(n||0),e===i?t===s?n<=o:t<s:e<i}}},"3.16.0-ym19",{requires:["yui-base"]});
YUI.add("mail-service-uploader-utils",function(e){e.namespace("Y.mail.UploaderUtils"),e.mail.UploaderUtils={getUploadCredential:function(t){var n=NeoConfig.launch_protocol+document.location.host+"/ya/upload_get_cred",r=e.mail.UploaderService,i={success:function(n){var i;n&&n.responseText&&(i=e.JSON.parse(n.responseText).Response.cred),r.UPLOAD_CREDENTIAL=i||"failed",!i,t&&t()},failure:function(){r.UPLOAD_CREDENTIAL="failed"},suppressCodes:"*"};e.common.net.SessionMgr.request(n,null,i,"GET",null,!0)},checkLimits:function(t){var n=t.files||[],r=t.cdo,i=t.uploader,s=e.common.persist.UserData,o=s.get("userFeaturePref.attachTotalSize"),u=s.get("userFeaturePref.attachFiles"),a,f,l,c=r&&r._getAttachmentsSize(),h=r&&r._getAttachmentsCount(),p,d=0;if(!n||!r||!i)return!0;for(p in n)a=n[p],f=a.get&&a.get("size")||a.size,l=a.get&&a.get("id")||a.id+"-"+a.name,(f>o||c+f>o)&&!i.processedFiles[l]&&!i.removedFiles[l]?(i.removedFiles[l]=1,d=1,delete n[p]):!i.processedFiles[l]&&!i.removedFiles[l]&&(c+=f,h++);e.mail.UploaderService.logIt("checkLimits found totalSize = "+c+", totalCount="+h);if(h>u){for(p in n){if(h<=u)break;a=n[p],l=a.get&&a.get("id")||a.id+"-"+a.name,!i.processedFiles[l]&&!i.removedFiles[l]&&(i.removedFiles[l]=1,delete n[p],h--)}return r.fire("CDO_ATTACHMENT_COUNT_VIOLATION"),!1}return c>o||d?(r.fire("CDO_ATTACHMENT_SIZE_VIOLATION"),!1):!0},handlePostRedirectResponse:function(t){var n=this,r=e.common.Utils.parseQueryString(t),i=e.mail.UploaderService.uploadersCreated[r.uploaderID],s=n.parseFormResponse(r,i);i.handlePostRedirectResponse(s)},parseFormResponse:function(e,t){var n=[],r,i,s=parseInt(e.cdoidx,10),o=(e.filename+"").split(","),u=(e.mimetype+"").split(","),a=(e.filesize+"").split(","),f=(e.diskfilename+"").split(","),l=(e.errorcode+"").split(",");for(i=0;i<l.length;i++)r={cdoIndex:s+i,filename:o[i],mimetype:u[i],size:{original:parseInt(a[i],10)},serverID:f[i],thumbData:null},this.setAttachmentState({item:r,state:l[i],uploader:t}),n.push(r);return n},setAttachmentState:function(t){var n=t.item,r=t.state||n.attachCode,i=t.uploader,s=i.type||i.uploaderType,o={attachcode:r,resampled:!1,cancelled:!1,rotated:!1,uploaded:!1,scanned:!1,failed:!1},u=0;switch(r){case"uploadAVNoVirus":case"uploadAVCleaned":o.scanned=!0,o.uploaded=!0;break;case"uploadAVInternalError":case"uploadAVError":case"uploadAVNotScannable":case"uploadAVServerDown":o.uploaded=!0,o.failed=!1,o.failCause="averror";break;case"uploadFileSizeError":case"uploadNoFileError":o.failed=!0,r==="uploadFileSizeError"?o.failCause="size":o.failCause="nofile",u=1;break;case"uploadAVCannotClean":case"uploadAVHasVirus":o.scanned=!0,o.uploaded=!0,o.failed=!0,o.failCause="virus",u=1;break;case"uploaderFormUploadNoResponse":o.failed=!0,o.failCause="form_upload_no_response",u=1;break;case"uploaderFormUploadUnexpectedResponse":o.failed=!0,o.failCause="form_upload_unexpected_response",u=1;break;case"uploaderFormUploadTimeout":o.failed=!0,o.failCause="form_upload_timeout",u=1;break;case"uploaderFormUserCancelled":o.cancelled=!0,o.failCause="form_upload_cancelled";break;case"uploaderYUIUploadError":case"uploaderHTML5UploadError":o.failed=!0,o.failCause=s+"_upload_error",u=1;break;case"uploaderYUIResponseTimeout":case"uploaderHTML5ResponseTimeout":o.failed=!0,o.failCause=s+"_response_timeout",u=1;break;case"uploaderYUIUploadStartTimeout":case"uploaderHTML5UploadStartTimeout":o.failed=!0,o.failCause=s+"_uploadstart_timeout",u=1;break;case"uploaderYUIProgressTimeout":case"uploaderHTML5ProgressTimeout":o.failed=!0,o.failCause=s+"_progress_timeout",u=1;break;case"uploaderYUIUploadCompleteTimeout":case"uploaderHTML5UploadCompleteTimeout":o.failed=!0,o.failCause=s+"_uploadcomplete_timeout",u=1;break;case"uploaderYUIUserCancelled":case"uploaderHTML5UserCancelled":o.cancelled=!0,o.failCause=s+"_upload_cancelled";break;case"uploaderYUIAutoRetryAll":case"uploaderHTML5AutoRetryAll":o.failed=!0,o.failCause=s+"_upload_error_retry";break;case"uploaderYUIAutoRetry2038":case"uploaderHTML5AutoRetry2038":o.failed=!0,o.failCause=s+"_upload_error2038";break;case"uploaderYUIError2049":case"uploaderHTML5Error2049":o.failed=!0,o.failCause=s+"_upload_error2049",u=1;break;case"uploaderYUICredExpired":case"uploaderHTML5CredExpired":o.failed=!0,o.failCause=s+"_upload_302";break;case"uploadInternalError":o.failed=!0,o.failCause="internal_server_error",u=1;break;case"uploadMailboxError":o.failed=!0,o.failCause="mailbox_error",u=1;break;case"uploadPartialFileError":o.failed=!0,o.failCause="partial_file_error",u=1;break;case"uploadAuthError":o.failed=!0,o.failCause="upload_auth_error",u=1;break;default:o.failed=!0,o.failCause="generic_"+r,u=1}o.failed&&e.use("common-utils-error",function(e){e.common.Utils.error.report(r+":"+o.failCause,1,0,1)}),n.state=o},createMenuNode:function(t){var n=parseInt(NeoConfig.switchAttachModeEnabled,10),r=t.node,i=t.uploader,s=t.cdo,o=t.attView,u=r.one("span.attach-btn-menu"),a=r.one(".attachment-button-html5")||r.one(".attachment-button-attach");if(n!==1)return;i.handles.push(a.on("click",function(){u&&u.menu&&u.menu.hide&&u.menu.hide(),s.fire("compose:restoreFocus")},i));var f="#attachment-button-input";e.one(f).on("click",function(){e.fire("mt:click",{action:"cmps_attfl",append:{t1:"cmpsTb"}})}),u.on("click",this.createAttachOptionMenu,i,s,o),a&&a.removeClass("right"),u&&u.removeClass("hidden")},selectDefaultMenuType:function(){var t=e.one("#menu-attach-options"),n=t?t.one(".active"):0;n&&n.get("id")==="switch-form"&&e.fire("compose:toggleUploaderType",{form:1,node:t,destroy:0})},createAttachOptionMenu:function(t,n,r){var i=this,s=t.currentTarget,o=e.mail.UploaderService,u="hidden";e.fire("mt:click",{action:"cmps_attflmnu",append:{t1:"cmpsTb"}}),t.preventDefault(),s.menu||e.use("common-ui-menu-helper","_shared_module_offscreen_bin_menus_compose_attach",function(e){var t=e.ui.Templates._shared_module_offscreen_bin_menus_compose_attach,a={html5_active:r.type===o.UPLOADER_TYPE_HTML5?"active":"",flash_active:r.type===o.UPLOADER_TYPE_FLASH?"active":""
,form_active:r.type===o.UPLOADER_TYPE_FORM?"active":""},f=e.one("#menu-attach-options");f||(f=e.one("body").appendChild(e.common.Utils.substitute(t.base,a,0,0,strings)),f.appendChild(i.attView.attachLargeBtn)),r.type===o.UPLOADER_TYPE_HTML5&&(f.one("#switch-flash").addClass(u),f.one("#switch-html5").removeClass(u)),e.common.ui.MenuHelper.create(s,{menu:f,blur:!0},function(){s.menu.getMenuNode().on("menuSelected",function(t){switch(t.dataAction){case"switch-html5":e.fire("compose:toggleUploaderType",{html5:1,node:f});break;case"switch-flash":e.fire("compose:toggleUploaderType",{flash:1,node:f});break;case"switch-form":e.fire("compose:toggleUploaderType",{form:1,node:f,destroy:0})}n.fire("compose:restoreFocus")})})})},verifyCrossDomainAccess:function(t){t=t||NeoConfig.attachmentServer;var n=e.mail.UploaderService,r=NeoConfig.launch_protocol+t+"/crossdomain.xml",i={success:function(){NeoConfig.attachmentServer!==t&&(NeoConfig.attachmentServer=t,n.UPLOAD_URL_BASE=NeoConfig.launch_protocol+(NeoConfig.attachmentServer?NeoConfig.attachmentServer+"/":"")+(NeoConfig.isSSL&&!NeoConfig.isAttachSSL?window.location.host:strings.str_cfg_base_intl+"."+NeoConfig.farm+".mail.yahoo.com")+"/ya/upload"),n.CROSS_DOMAIN_VERIFIED=!0},failure:function(){t!==NeoConfig.attachmentServerBackup&&NeoConfig.attachmentServerBackup?e.mail.UploaderUtils.verifyCrossDomainAccess(NeoConfig.attachmentServerBackup):(n.DEFAULT_UPLOADER=n.UPLOADER_TYPE_FORM,e.fire("compose:toggleUploaderType",{form:1,destroy:1}))},suppressCodes:"*"};e.common.net.SessionMgr.request(r,null,i,"GET",null,!0)}}},"1.0.0",{requires:["common-utils-stats","common-net-sessionmgr"]});
YUI.add("mail-ui-composeview-attach",function(C){C.namespace("mail");var L={"application/pdf":"pdf","application/mspowerpoint":"ppt","application/vnd.ms-powerpoint":"ppt","application/excel":"xls","application/vnd.ms-excel":"xls","application/msword":"doc","application/vnd.ms-msword":"doc","application/x-trof-msvideo":"video","video/mpeg":"video","video/x-ms-wmv":"video","video/mov":"video","video/movie":"video","video/quicktime":"video","audio/wav":"music","audio/x-wav":"music","audio/mpeg":"music","audio/mp3":"music","audio/mid":"music","audio/realaudio":"music","audio/x-pn-realaudio":"music","image/bmp":"img","image/gif":"img","image/jpe":"img","image/jpeg":"img","image/jpg":"img","image/png":"img","image/tiff":"img","application/x-compressed":"zip","application/x-stuffit":"zip","application/x-tar":"zip","application/x-gzip":"zip"},H={"LOZENGE":0,"ICON":1},A=C.ui.Templates,b=C.common.Utils,G=C.mail.UploaderUtils,m=b.substitute,W=b.escapeHtml,V=window.strings||{},n=C.common.persist.UserData,f=n.get("userFeaturePref.attachTotalSize"),Q=n.get("userFeaturePref.attachFiles"),P=Math.round(f/1048576),i="hidden",T="attachmentVisible",X,D=(parseInt(NeoConfig.uploaderVersion,10)===2);function d(o,Y){Y=Y||"str_rte_attachments_";return V[Y+o]||"";}C.mail.AttachmentView=function(w,s,o){var p=this,x,z,q,u,v,r,y;X=C.mail.UploaderService;p.cdo=w;if(!p.handles){p.handles=[];}y=p.handles;p.tab=s;p.tagPane=o&&o.tagPane?o.tagPane:".attachments-pane";p.tagWell=o&&o.tagWell?o.tagWell:".attachments-well";p.uiAttBar=s.one(p.tagPane);if(p.uiAttBar){p.uiAttRemoveAll=s.one(".attachment-button-removeall");p.uiAttCount=x=s.one(".attachments-count");p.uiAttSize=z=s.one(".attachments-size");p.uiAttAVLogo=s.one(".file-count img");p.uiAttMessage=s.one(".error");p.uiAttBtnForm=p.uiAttBar.one(".attachment-button-form")||null;p.uiAttBtnDisabled=p.uiAttBar.one(".attachment-button-disabled");}p.uiAttPane=s.one(p.tagWell);var t=p.uiAttPane;if(t){}if(p.uiAttPane){p.uiAttList=q=p.uiAttPane.one(".file-attach");p.uiAttWelcome=p.uiAttPane.one(".attachments-welcome");}if(q&&x&&z){var Y=s.one("div.rte li.active a");q.setAttrs({"aria-labelledby":(Y?Y.generateID():""),"aria-describedby":(x.generateID()+" "+z.generateID())});}p.errorFlags={tooMany:false,tooBig:false};p.attachPaneHidden=false;p.attachXY=null;p.uploaderConfig={"attView":p,"tab":s,"cdo":w,"attForm":p.uiAttBtnForm,"attInput":p.tab.one(".attachment-button-file")};p.toggleUploaderHandle=C.on("compose:toggleUploaderType",k,p);if(D){r=X.getDefaultUploaderType();switch(r){case X.UPLOADER_TYPE_HTML5:u="mail-uploader-html5";break;case X.UPLOADER_TYPE_FLASH:u="uploader-flash";break;default:u="mail-service-uploader-form";r=X.UPLOADER_TYPE_FORM;}p.type=r;}v=function(AA){p.uploader=AA;AA.updateUI&&AA.updateUI();p.updateSizeAndCount();if(AA.uploaderType!==C.mail.UploaderService.UPLOADER_TYPE_FORM&&parseInt(NeoConfig.switchAttachModeEnabled,10)===1){G.createMenuNode({uploader:AA,node:p.tab,cdo:p.cdo,attView:p});G.selectDefaultMenuType();}};C.use(u,function(){X.create(p.uploaderConfig,v,o?o.type:null);});y.push(p.cdo.on("CDO_ATTACHMENT_ADDED",function(AB,AA){p.addNewAttachment(AA);}));y.push(p.cdo.on("CDO_ATTACHMENT_DELETED",function(AB,AA){p.removeAttachment(AA);p.updateSizeAndCount();}));y.push(p.cdo.on("CDO_ATTACHMENT_PROCESSED",function(AC,AA){p.enableAttachment(AA);p.updateSizeAndCount();function AB(AD){var AE=AD.state;return(AE&&!AE.processed&&!AE.uploaded&&!AE.cancelled);}if(!p.cdo._getAttachmentsCount(AB)){p.checkOverLimit();}}));y.push(p.cdo.on("CDO_ATTACHMENT_SIZE_VIOLATION",function(){p.attachError("size");}));y.push(p.cdo.on("CDO_ATTACHMENT_COUNT_VIOLATION",function(){p.attachError("count");}));y.push(p.cdo.on("CDO_ATTACHMENT_UPLOAD_PROGRESS",function(AC,AB,AA){p.updateAttachmentProgress(AB,AA);}));y.push(p.cdo.on("CDO_THUMBNAIL_GENERATED",function(AD,AA,AC){var AB=p.uiAttList.all(".file-container").item(AA),AE=AB.one("div");if(!AE){AB.insert(C.Node.create("<div></div>"),0);AE=AB.one("div");}AE.setStyle("background","url('"+AC.src+"') no-repeat 0px "+((63-AC.height)/2)+"px");AB.ancestor("li").addClass("image");}));y.push(p.cdo.on("CDO_UPLOADER_CLEANUP",function(){var AA=p.cdo.get("attachments"),AC,AB;for(AC=0;AA&&AC<AA.length;AC++){AB=AA[AC];if(AB&&AB.timeout){clearTimeout(AB.timeout);AB.timeout=null;}if(AB&&AB.state&&!AB.processed&&!AB.state.cancelled){AB.processed=true;AB.state.failed=1;p.enableAttachment(AC);}}p.updateSizeAndCount();}));if(p.uiAttRemoveAll){y.push(p.uiAttRemoveAll.on("click",function(AA){p.cdo._removeAllAttachments();AA.preventDefault();}));}if(p.uiAttBtnDisabled){y.push(p.uiAttBtnDisabled.on("click",function(){p.checkOverLimit(1);}));}if(p.uiAttAVLogo){y.push(p.uiAttAVLogo.on("click",function(){window.open(NeoConfig.avTargetUrl);}));}};function O(Y){var o=this;if(Y==="icon"){o.iconType=H.ICON;o.uiAttList.addClass("icons");o.uiAttList.removeClass("lozenges");}else{o.iconType=H.LOZENGE;o.uiAttList.removeClass("icons");o.uiAttList.addClass("lozenges");}}function a(q,o){var t=this,s=C.mail.AttachmentView.attachErrorSize,p=o?C.all(".file-attach li").item(o):null,Y={"count":m(d("num_files_exceeded","str_comp_attach_"),{},{max_allowed:function(){return Q;}}),"size":m(d("size_exceeded","str_comp_attach_"),{},{max_size_MB:function(){return P;}}),"averror":d("noAVScanWarning")+(p?p.get("title"):""),"virus":d("alert_virus")},r=Y[q];if(p){p.set("title",r||"");}t.updateSizeAndCount();if(q==="size"&&s&&s(t.cdo)){}else{if(r){C.use("common-ui-dialog-helper",function(u){u.common.ui.DialogHelper.alert({hd:(q==="virus")?d("alert_virus_title"):d("error","str_comp_attach_"),bd:r,restoreFocusNode:t.uiAttBar});});}}}function J(Y){var o=this;o.addAttachment(Y);o.updateSizeAndCount();}function e(){var r=this,q=r.cdo._getAttachmentsCount(),Y=(q===1)?d("file_single"):m(d("num_files"),{},{file_attach_num_files:function(){return q;}}),v=r.cdo._getAttachmentsSize(),x=0,u=0,y,p,t,s,o,w=(q===1)?V.str_comp_remove:V.str_comp_removeall;if(q){if(r.uiAttWelcome){r.uiAttWelcome.addClass(i);
}r.uiAttList.removeClass(i);if(r.uiAttRemoveAll){r.uiAttRemoveAll.removeClass(i).one("a").setContent(w).set("title",w);}r.uiAttPane.removeClass(i);if(r.uiAttCount){r.uiAttCount.removeClass(i);}if(r.uiAttSize){r.uiAttSize.removeClass(i);}}else{r.uiAttList.addClass(i);if(r.uiAttRemoveAll){r.uiAttRemoveAll.addClass(i);}if(r.uiAttMessage){r.uiAttMessage.addClass(i);}r.uiAttPane.addClass(i);if(r.uiAttCount){r.uiAttCount.setContent("");}if(r.uiAttSize){r.uiAttSize.setContent("");}r.toggleOverLimit(0);if(r.uiAttWelcome){r.uiAttWelcome.removeClass(i);}return;}if(r.uiAttCount){r.uiAttCount.setContent(Y);}if(r.uiAttSize){var z="sizes_fresh";r.uiAttSize.setContent(m(d(z),{},{transferred_size:function(){return h(v);},total_size:function(){return P+" "+V.str_rte_attachments_megabyte;}}));}r.errorFlags.tooMany=q>Q;r.errorFlags.tooBig=v>f;if(v>f){r.toggleOverLimit(2);}else{if(q>=Q||v===f){r.toggleOverLimit(1);}else{r.toggleOverLimit(0);}}y=r.uiAttPane.all(".file-attach .transfer-error")._nodes;for(p=0,o=y.length;p<o;p++){t=C.one(y[p]);s=t.hasClass("lozenge")?t.get("parentNode"):t;if(!s.hasClass(i)){x++;if(t.hasClass("transfer-virus")){u++;}}}if(r.uiAttMessage){if(u){r.uiAttMessage.setContent((u===1)?d("virus_single"):m(d("virus_mult"),{},{num_virus_files:function(){return u;}}));r.uiAttMessage.removeClass(i);}else{if(x){r.uiAttMessage.setContent((x===1)?d("error_single"):m(d("error_mult"),{},{num_error_files:function(){return x;}}));r.uiAttMessage.removeClass(i);}else{r.uiAttMessage.addClass(i);}}}}function I(Y){var o=this;if(o.errorFlags.tooBig){o.attachError("size");}else{if(o.errorFlags.tooMany||Y){o.attachError("count");}else{return false;}}return true;}function R(v,x){var u=this,w=u.uiAttList||u.tab.one(".file-attach"),s=u.cdo.get("attachments")[v],Y=s.state||{},r=s.size||{},o,t,z,p,y,q=C.mail.UploaderService;r=Y.resampled?r.sampled:r.original;r=h(r);if(u.cdo.get("passive")){s.original=s.size.original;}if(s.original&&Y.uploaded){s.processed=true;}if(NeoConfig.bidi){C.use("comms-intl-bidi",function(AA){o=AA.Intl.detectDirection(unescape(s.filename));});}x=x||(u.uploader&&u.uploader.uploaderType)||q.DEFAULT_UPLOADER;t="_shared_module_rte_well_content_attach_item";z=A[t].browser_plus_attach_else;p=C.Node.create(m(z,s,{filename:function(AA){return W(AA.filename.split("\\").pop());},in_progress1:function(){return s.original?"":A[t].in_progress1;},transfer_error1:function(){return Y.failed?A[t].transfer_error1:"";},transfer_warn1:function(){return Y.failCause?A[t].transfer_warn1:"";},retry:function(){return m(A[t].retry,0,0,0,V);}},null,V));p.one("a").set("title",(s.filename.split("\\").pop()||"")+" ("+r+")");u.handles.push(p.one(".lozengeremove").on("click",function(){var AA=v;if(p.hasClass("downloading")&&u.uploader.cancelUpload){if(D){AA=u.cdo.get("attachments")[v].uploaderInternalID;}u.uploader.cancelUpload(AA);}u.cdo._removeAttachment(v);}));y=p.one(".lozengeretry");if(y){if(!C.UA.webkit&&x===q.UPLOADER_TYPE_FORM){y.addClass("hidden");}else{u.handles.push(y.on("click",function(){var AA=y.getAttribute("retries")||0;y.setAttribute("retries",++AA);u.retryOrSwitchAttachmentMode(v,AA);}));}}if(o){p.one(".btn").setAttribute("dir",o).addClass(o);}u.handles.push(p.on("click",function(){if(!p.hasClass("downloading")){u.downloadAttachment(v);}}));w.append(p);if(q.debug){u.handles.push(p.on("click",function(AA){if(AA.altKey){q.logIt(u.cdo.get("attachments")[v]);}}));}u.dirty=true;}function E(Y){var p=this,o;o=p.uiAttList.all("li")&&p.uiAttList.all("li").item(Y);if(o){o.addClass(i);o.removeClass(T);}p.uploader&&p.uploader.removeAttachment&&p.uploader.removeAttachment(Y);}function M(o,Y){var s=this,r,q,p;r=s.uiAttList.all("li")&&s.uiAttList.all("li").item(o);if(r){q=!!r.one(".lozenge");p=q?".lozengeProgress":".progress";r.one(p).setStyle("width",Y+"%");r.one(p).set("aria-valuenow",Y);}}function j(o){var x=this,z="",v="",s="",t=x.uiAttList.all("li")&&x.uiAttList.all("li").item(o),y,AB,r,u,AE,q,w,Y="",AD,AA,p=C.mail.UploaderService;if(!t){return;}y=!!t.one(".lozenge");if(y){t=t.one(".lozenge").get("parentNode");}else{t.one(".file-container").removeClass("processing");t.one(".prog-indicator").addClass(i);}AB=x.cdo.get("attachments")[o];u=AB.state||{};AE=u.failCause;if(u.failed){t.addClass("transfer-error");if(y){t.all(".lozenge").addClass("lozengeerror");}if(AE==="virus"){t.addClass("transfer-virus");z=d("virusWarning");}else{if(AE==="size"){t.removeClass("downloading");t.one(".lozenge a").set("title",d("alert_size"));}else{if(!y){t.one(".retry").removeClass(i);}z=d("attachFailedWarning");}}if((C.UA.webkit||p.type!==p.UPLOADER_TYPE_FORM)&&AE!=="virus"&&(AA=t.one(".lozengeretry"))){AA.removeClass(i);}x.attachError(AE,o);}else{if(AE){if(y){r=t.one("a");r.addClass("lozengewarn");z=d("noAVScanWarning");}else{t.addClass("transfer-warning");if(p.DEFAULT_UPLOADER!==p.UPLOADER_TYPE_FORM||C.UA.webkit){t.one(".lozengeretry").removeClass(i);}x.attachError(AB.state.failCause,o);}}else{if(y){if(t.hasClass("transfer-error")){t.removeClass("transfer-error");}if((AD=t.all(".lozenge"))&&AD.hasClass("lozengeerror")){AD.removeClass("lozengeerror");AA=t.one(".lozengeretry");if(AA){AA.addClass("hidden");}if(u.retry){t.addClass("downloading");}}}}}if(y){q=AB.size;w=AB.filename;if(!u.retry){t.removeClass("downloading");}q=u.resampled?q.sampled:q.original;q=h(q);try{Y=decodeURIComponent(w||"");}catch(AC){typeof globals!=="undefined"&&globals.report?globals.report("caughterror:..-build-mail-ui-composeview-compose-attach:1",AC,"TRY_CATCH",1,1,1):window.console&&console.log&&console.log("caughterror:..-build-mail-ui-composeview-compose-attach:1");Y=decodeURIComponent(escape(w)||"")||"";}if(AE==="yui_progress_timeout"){v=" YUI Upload Progress Timeout.";}if(NeoConfig.bidi&&V.str_tog_loadRTLCss){s=z+" "+Y+" \u202b("+q+")\u202c.";}else{s=z+" "+Y+" ("+q+").";}AD=t.one(".lozenge");AD&&AD.one("a").set("title",s);}else{C.use("event-mouseenter",function(){x.handles.push(t.on("mouseenter",function(){t.addClass("over");}));x.handles.push(t.on("mouseleave",function(){t.removeClass("over");
}));});}if(t.hasClass(i)){x.cdo._removeAttachment(o);}}function g(p,Y,q){var s=this,r,o=!(C.UA.webkit);if(s.uploader.uploaderType!==C.mail.UploaderService.UPLOADER_TYPE_FORM&&Y>1){C.use("common-ui-dialog-helper","_shared_module_offscreen_bin_modal_btn_ok",function(t){t.common.ui.DialogHelper.custom({hd:V.str_comp_attach_reattach_title,bd:V.str_comp_attach_reattach_body,ft:m(A._shared_module_offscreen_bin_modal_btn_ok.base,0,0,0,V,A)},{"ok":{handler:function(){t.fire("compose:toggleUploaderType",{form:1,destroy:q});r=s.uiAttList.all(".lozengeretry");if(r&&o){r.addClass("hidden");}}}});});}else{if(Y>3){C.use("common-ui-dialog-helper",function(t){t.common.ui.DialogHelper.alert({hd:V.str_comp_attach_reattach_failure_title,bd:V.str_comp_attach_reattach_failure_body},{"ok":{handler:function(){s.cdo._removeAttachment(p);}}});});}else{s.uploader.retryAttachment&&s.uploader.retryAttachment(p);}}}function c(v){var t=this,o=t.tab.one("#upload_file_selection"),p=D&&o&&o.one(".attachment-button-html5")||D&&o&&o.one(".attachment-button-attach")||t.tab.one(".attachment-button-attach"),q=C.mail.UploaderService,w,u=t.uploaderConfig,r=v.flashCrash||0,x=v.destroy||0,y=v.callback||0,s=v.skipDefault||0,Y;if(s){u.skipDefault=s;}if(x){p.fire("yuiuploader:destroy");}else{if(!s){t.reposAttachObj("offscreen");}}if(y){w=y;}else{w=function(z){t.uploader=z;z.updateUI&&z.updateUI();};}if(t.prevUploader&&t.prevUploader.uploaderType===q.UPLOADER_TYPE_FORM){Y=t.uploader;t.uploader=t.prevUploader;t.prevUploader=Y;q.type=q.UPLOADER_TYPE_FORM;w(t.uploader);q.logIt("compose-attach: Switch to "+q.type+" uploader (found existing)");}else{t.prevUploader=t.uploader;u.forceForm=1;u.previousType=t.prevUploader&&t.prevUploader.uploaderType;C.use("mail-service-uploader-form",function(){q.create(u,w,q.UPLOADER_TYPE_FORM);});q.type=q.UPLOADER_TYPE_FORM;q.logIt("compose-attach: Switch to "+q.type+" uploader, creating new uploader");}t.prevUploader&&t.prevUploader.detachEvents&&t.prevUploader.detachEvents();}function B(o){var r=this,p=C.mail.UploaderService,Y,q=0;o=o||p.UPLOADER_TYPE_FLASH;if(r.prevUploader&&r.prevUploader.uploaderType===o){Y=r.uploader;r.uploader=r.prevUploader;r.prevUploader=Y;p.logIt("compose-attach: Switch to "+o+" uploader");p.type=o;r.uploader.bindEvents&&r.uploader.bindEvents();q=1;}else{p.logIt("compose-attach: switch to "+o+", ERROR - existing uploader not found!!");}return q;}function K(p,Y,o){p.addClass("active");Y&&Y.hasClass("active")&&Y.removeClass("active");o&&o.hasClass("active")&&o.removeClass("active");}function S(){var q=this,p=C.mail.UploaderService,o=q.type,Y=q.tab;p.logIt("updateAttachButtonUI");if(o===p.UPLOADER_TYPE_FLASH&&Y.getStyle("visibility")==="visible"){q.reposAttachObj("restore");}else{q.reposAttachObj("offscreen");}if(D){p.toggleUploaderUI({type:o,tab:Y,attView:q});}}function k(u){var t=this,p=C.mail.UploaderService,q="#switch-form",Y="#switch-flash",x="#switch-html5",v,o=u.node||C.one("#menu-attach-options"),s=u.flashCrash||0,w=u.destroy||0,r,y,z;p.logIt("toggleUploaderType: form="+u.form+", flash="+u.flash+",html5="+u.html5);if(u.form&&t.type!==p.UPLOADER_TYPE_FORM){t.type=p.UPLOADER_TYPE_FORM;t.switchToFormUploader({flashCrash:s,destroy:w});t.updateAttachButtonUI({text:V.str_comp_attach_singular});if(!C.UA.webkit){v=t.tab.all(".lozengeretry");v&&v.addClass("hidden");}o&&K(o.one(q),o.one(Y),o.one(x));}else{if((u.flash&&t.type!==p.UPLOADER_TYPE_FLASH)||(u.html5&&t.type!==p.UPLOADER_TYPE_HTML5)){if(u.flash){r=Y;y=x;z=p.UPLOADER_TYPE_FLASH;}else{r=x;y=Y;z=p.UPLOADER_TYPE_HTML5;}o&&K(o.one(r),o.one(q),o.one(y));t.type=z;if(t.switchToUploader(z)){t.updateAttachButtonUI({text:V.str_comp_attach});}else{o&&K(o.one(q),o.one(Y),o.one(x));t.type=p.UPLOADER_TYPE_FORM;}}}}function h(o){var Y=V.str_rte_attachments_bytes;if(o>1048575){o/=1048576;Y=V.str_rte_attachments_megabyte;}else{if(o>1023){o/=1024;Y=V.str_rte_attachments_kilobyte;}}if(isNaN(o)){o=0;}return Math.round(o)+" "+Y;}function N(Y){var q=this,o=q.cdo.get("attachments")[Y],p=o&&o.state||0;if(p.uploaded&&!p.failed&&!p.cancelled){q.cdo.fire("compose:downloadAttachment",Y);}}function l(t){var s=this,q=s.saveUiBtnStyle,p=t===2?"addClass":"removeClass",r=t>0?"addClass":"removeClass",Y=t>0?"removeClass":"addClass",o=C.one(".yuiUploadBox")||null;if(!s.uploader){return;}if(s.uiAttBtnDisabled&&s.uploader.uploaderType===C.mail.UploaderService.UPLOADER_TYPE_FLASH){s.uiAttBtnDisabled[Y](i);}if(s.uiAttSize){s.uiAttSize[p]("overlimit");}if(s.uiAttBtnForm){s.uiAttBtnForm[r](i);}if(o){if(t>0){if(!q){s.saveUiBtnStyle=o.getAttribute("style");}o.setAttribute("style","position:absolute;top:0;left:0;width:1px;height:1px;");}else{if(typeof q!=="undefined"){o.setAttribute("style",q);}}}}function Z(p){var o=p&&p.state||{},q=p.mimetype||"",Y="";q=unescape(q);if(o.failed){Y="transfer-error ";if(o.failCause==="virus"){Y+="virus ";}}if(q){if(L[q]){Y+=L[q];}else{Y+="no-type";}}else{Y+="no-type";}return Y;}function F(r,u){var v=this,q=C.mail.UploaderService,w=v.uploader&&v.uploader.uploaderType,p=q&&q.UPLOADER_TYPE_FLASH,t="offscreen",Y="restore",o,s=v.uiAttBar.one("#upload_file_selection");if(q&&w===p&&v.uiAttBar){o=v.uiAttBar.one("span.attachment-button-attach");if(o.hasClass(i)){o=s;}u=u||o.getXY();if(r===t||v.attachPaneHidden){if(!v.attachXY||v.attachXY[0]!==0||v.attachXY[1]!==0){v.attachXY=[0,0];o.fire("compose:reposAttachObj",{x:0,y:0,resize:true,width:"1px",height:"1px"});D&&o.setStyle("position","absolute");}}else{if((!v.attachXY||u[0]!==v.attachXY[0]||u[1]!==v.attachXY[1])&&(v.type===p||!v.type)){if(D){s.setStyle("position","relative").setStyle("top","auto").setStyle("left","auto");return;}v.attachXY=[u[0],u[1]];if(r===Y){o.fire("compose:reposAttachObj",{x:u[0],y:u[1],resize:true,height:o.getStyle("height"),width:o.getStyle("width")});}else{o.fire("compose:reposAttachObj",{x:u[0],y:u[1],resize:false});}}}}}function U(){var o=this,Y=o.uploader;C.each(o.handles,function(p){p.detach&&p.detach();});o.handles=[];if(Y&&Y.handles){C.each(Y.handles,function(p){p.detach&&p.detach();
});Y.handles=[];Y.attView=null;Y.tab.uploader=null;Y.tab=null;delete X.uploadersCreated[Y.id];}if(Y&&Y.checkFlashTimeout){clearTimeout(Y.checkFlashTimeout);}o.toggleUploaderHandle&&o.toggleUploaderHandle.detach();o.toggleUploaderHandle=null;o.uploader=null;o.uiAttForm=null;o.tab=null;o.uiAttBar=null;o.uiRemoveAll=null;o.uiAttCount=null;o.uiAttSize=null;o.uiAttAVLogo=null;o.uiAttMessage=null;o.uiAttBtnForm=null;o.uiAttBtnDisabled=null;o.uiAttPane=null;o.uiAttList=null;o.uiAttWelcome=null;o.uploaderConfig=null;if(o.attachLargeBtn){o.attachLargeBtn.remove().destroy(true);o.attachLargeBtn=null;}}C.mail.AttachmentView.prototype={setAttachmentStyle:O,addAttachment:R,addNewAttachment:J,removeAttachment:E,enableAttachment:j,downloadAttachment:N,toggleOverLimit:l,updateAttachmentProgress:M,updateSizeAndCount:e,getIconClass:Z,attachError:a,checkOverLimit:I,retryOrSwitchAttachmentMode:g,switchToFormUploader:c,switchToUploader:B,toggleUploaderType:k,updateAttachButtonUI:S,reposAttachObj:F,cleanUp:U};},"1.0.0",{requires:["swfdetect","mail-service-uploader-utils"]});/*
YUI 3.16.0-ym19 (build 3.16.0-ym19)
Copyright 2016 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("editor-para-base",function(e,t){var n=function(){n.superclass.constructor.apply(this,arguments)},r="host",i="> p",s="p",o="<br>";e.extend(n,e.Base,{_getRoot:function(){return this.get(r).getInstance().EditorSelection.ROOT},_fixFirstPara:function(){var e=this.get(r),t=e.getInstance(),n,u,a=this._getRoot(),f=a.getHTML(),l=f.length?!0:!1;f===o&&(f="",l=!1),a.setHTML("<"+s+">"+f+t.EditorSelection.CURSOR+"</"+s+">"),u=a.one(i),n=new t.EditorSelection,n.selectNode(u,!0,l)},_afterEditorReady:function(){var e=this.get(r),t=e.getInstance(),n;t&&(t.EditorSelection.filterBlocks(),n=t.EditorSelection.DEFAULT_BLOCK_TAG,i="> "+n,s=n)},_afterContentChange:function(){var e=this.get(r),t=e.getInstance();t&&t.EditorSelection&&t.EditorSelection.filterBlocks()},_afterPaste:function(){var t=this.get(r),n=t.getInstance();e.later(50,t,function(){n.EditorSelection.filterBlocks()})},initializer:function(){var t=this.get(r);if(t.editorBR){e.error("Can not plug EditorPara and EditorBR at the same time.");return}t.after("ready",e.bind(this._afterEditorReady,this)),t.after("contentChange",e.bind(this._afterContentChange,this)),e.Env.webkit&&t.after("dom:paste",e.bind(this._afterPaste,this))}},{NAME:"editorParaBase",NS:"editorParaBase",ATTRS:{host:{value:!1}}}),e.namespace("Plugin"),e.Plugin.EditorParaBase=n},"3.16.0-ym19",{requires:["editor-base"]});
/*
YUI 3.16.0-ym19 (build 3.16.0-ym19)
Copyright 2016 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("editor-para",function(e,t){var n=function(){n.superclass.constructor.apply(this,arguments)},r="host",i="nodeChange",s="parentNode",o="> p",u="p",a="<br>",f="firstChild",l="li";e.extend(n,e.Plugin.EditorParaBase,{_getRoot:function(){return this.get(r).getInstance().EditorSelection.ROOT},_onNodeChange:function(t){var n=this.get(r),i=n.getInstance(),c,h,p,d,v,m=i.EditorSelection.DEFAULT_BLOCK_TAG,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D=":last-child",H,B,j,F,I,q=!1,R=this._getRoot(),U;switch(t.changedType){case"enter-up":H=this._lastPara?this._lastPara:t.changedNode,B=H.one("br.yui-cursor"),this._lastPara&&delete this._lastPara,B&&(B.previous()||B.next())&&B.ancestor(u)&&B.remove(),H.test(m)||(N=H.ancestor(m),N&&(H=N,N=null));if(H.test(m)){C=H.previous();if(C){F=C.one(D);while(!q)F?(I=F.one(D),I?F=I:q=!0):q=!0;F&&n.copyStyles(F,H)}}break;case"enter":e.UA.webkit&&t.changedEvent.shiftKey&&(n.execCommand("insertbr"),t.changedEvent.preventDefault()),t.changedNode.test("li")&&!e.UA.ie&&(c=i.EditorSelection.getText(t.changedNode),c===""&&(p=t.changedNode.ancestor("ol,ul"),j=p.getAttribute("dir"),j!==""&&(j=' dir = "'+j+'"'),p=t.changedNode.ancestor(i.EditorSelection.BLOCKS),d=i.Node.create("<p"+j+">"+i.EditorSelection.CURSOR+"</p>"),p.insert(d,"after"),t.changedNode.remove(),t.changedEvent.halt(),v=new i.EditorSelection,v.selectNode(d,!0,!1)));if(e.UA.gecko&&n.get("defaultblock")!=="p"){p=t.changedNode;if(!p.test(l)&&!p.ancestor(l)){p.test(m)||(p=p.ancestor(m)),d=i.Node.create("<"+m+"></"+m+">"),p.insert(d,"after"),v=new i.EditorSelection;if(v.anchorOffset){g=v.anchorNode.get("textContent"),h=i.one(i.config.doc.createTextNode(g.substr(0,v.anchorOffset))),y=i.one(i.config.doc.createTextNode(g.substr(v.anchorOffset))),w=v.anchorNode,w.setContent(""),E=w.cloneNode(),E.append(y),S=!1,T=w;while(!S)T=T.get(s),T&&!T.test(m)?(x=T.cloneNode(),x.set("innerHTML",""),x.append(E),b=T.get("childNodes"),U=!1,b.each(function(e){U&&x.append(e),e===w&&(U=!0)}),w=T,E=x):S=!0;y=E,v.anchorNode.append(h),y&&d.append(y)}d.get(f)&&(d=d.get(f)),d.prepend(i.EditorSelection.CURSOR),v.focusCursor(!0,!0),c=i.EditorSelection.getText(d),c!==""&&i.EditorSelection.cleanCursor(),t.changedEvent.preventDefault()}}break;case"keyup":e.UA.gecko&&R&&R.getHTML().length<20&&(R.one(o)||this._fixFirstPara());break;case"backspace-up":case"backspace-down":case"delete-up":e.UA.ie||(k=R.all(o),A=R,k.item(0)&&(A=k.item(0)),L=A.one("br"),L&&(L.removeAttribute("id"),L.removeAttribute("class")),h=i.EditorSelection.getText(A),h=h.replace(/ /g,"").replace(/\n/g,""),M=A.all("img"),h.length===0&&!M.size()&&(A.test(u)||this._fixFirstPara(),O=null,t.changedNode&&t.changedNode.test(u)&&(O=t.changedNode),!O&&n._lastPara&&n._lastPara.inDoc()&&(O=n._lastPara),O&&!O.test(u)&&(O=O.ancestor(u)),O&&!O.previous()&&O.get(s)&&O.get(s).compareTo(R)&&(t.changedEvent.frameEvent.halt(),t.preventDefault())),e.UA.webkit&&t.changedNode&&(t.preventDefault(),A=t.changedNode,A.test("li")&&!A.previous()&&!A.next()&&(c=A.get("innerHTML").replace(a,""),c===""&&A.get(s)&&(A.get(s).replace(i.Node.create(a)),t.changedEvent.frameEvent.halt(),i.EditorSelection.filterBlocks())))),e.UA.gecko&&this._fixGeckoOnBackspace(i)}e.UA.gecko&&t.changedNode&&!t.changedNode.test(m)&&(O=t.changedNode.ancestor(m),O&&(this._lastPara=O))},_fixGeckoOnBackspace:function(e){var t=new e.EditorSelection,n,r;if(!t.isCollapsed||t.anchorNode.get("nodeName")!=="P"||t.anchorOffset===0)return;r=t.anchorNode.get("childNodes"),n=t.anchorNode.get("lastChild");if(t.anchorOffset!==r.size()||n.get("nodeName")!=="BR")return;if(t.anchorOffset===1){t.selectNode(t.anchorNode,!0);return}n=n.get("previousSibling");if(n.get("nodeType")!==Node.TEXT_NODE)return;offset=n.get("length"),t.getEditorOffset()===offset&&t.selectNode(n,!0,offset)},initializer:function(){var t=this.get(r);if(t.editorBR){e.error("Can not plug EditorPara and EditorBR at the same time.");return}t.on(i,e.bind(this._onNodeChange,this))}},{NAME:"editorPara",NS:"editorPara",ATTRS:{host:{value:!1}}}),e.namespace("Plugin"),e.Plugin.EditorPara=n},"3.16.0-ym19",{requires:["editor-para-base"]});
/*
YUI 3.16.0-ym19 (build 3.16.0-ym19)
Copyright 2016 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("editor-br",function(e,t){var n=function(){n.superclass.constructor.apply(this,arguments)},r="host",i="li";e.extend(n,e.Base,{_onKeyDown:function(t){if(t.stopped){t.halt();return}if(t.keyCode===13){var n=this.get(r),s=n.getInstance(),o=new s.EditorSelection;o&&(e.UA.ie&&(!o.anchorNode||!o.anchorNode.test(i)&&!o.anchorNode.ancestor(i))&&(n.execCommand("inserthtml",s.EditorSelection.CURSOR),t.halt()),e.UA.webkit&&(!o.anchorNode||!o.anchorNode.test(i)&&!o.anchorNode.ancestor(i))&&(n.frame._execCommand("insertlinebreak",null),t.halt()))}},_afterEditorReady:function(){var t=this.get(r).getInstance(),n;try{t.config.doc.execCommand("insertbronreturn",null,!0)}catch(i){}if(e.UA.ie||e.UA.webkit)n=t.EditorSelection.ROOT,n.test("body")&&(n=t.config.doc),t.on("keydown",e.bind(this._onKeyDown,this),n)},_onNodeChange:function(e){switch(e.changedType){case"backspace-up":case"backspace-down":case"delete-up":var t=this.get(r).getInstance(),n=e.changedNode,i=t.config.doc.createTextNode(" ");n.appendChild(i),n.removeChild(i)}},initializer:function(){var t=this.get(r);if(t.editorPara){e.error("Can not plug EditorBR and EditorPara at the same time.");return}t.after("ready",e.bind(this._afterEditorReady,this)),e.UA.gecko&&t.on("nodeChange",e.bind(this._onNodeChange,this))}},{NAME:"editorBR",NS:"editorBR",ATTRS:{host:{value:!1}}}),e.namespace("Plugin"),e.Plugin.EditorBR=n},"3.16.0-ym19",{requires:["editor-base"]});
YUI.add("mail-controller-html-processor",function(e){function t(){}e.mix(t.prototype,{_convertAmpersand:function(e){return e.replace(/&amp;/g,"&")},_addTrackingParams:function(e){var t=/^https?:\/\/[a-zA-Z]+\.yahoo\.*/,n=/^https?:\/\/.*\.yahoo\.co\.jp.*/,r=/^https?:\/\/[a-zA-Z]+\.tumblr\.*/,i=e.getDOMNode(),s,o,u,a;s=i.href,o=i.search;if(!n.test(s)&&(t.test(s)||r.test(s)))if(!o)s=i.origin+i.pathname+"?soc_src=mail&soc_trk=ma"+i.hash;else{o=o.substring(1),u=o.split("&"),o="";for(a=0;a<u.length;a++)u[a].indexOf("soc_src=")!==0&&u[a].indexOf("soc_trk=")!==0&&(o+=u[a]+"&");s=i.origin+i.pathname+"?"+o+"soc_src=mail&soc_trk=ma"+i.hash}return s},_processAnchors:function(e){var t=e.all("a"),n=this;return t.each(function(e){var t;try{t=e.get("href")}catch(r){t=""}typeof t=="string"&&(t=n._addTrackingParams(e),t=n._convertAmpersand(t),e.set("href",t))}),e},_insertEmptyLineBeforeQuotedText:function(t){var n=t.one(".yahoo_quoted"),r="qtdSeparateBR",i=r.length,s,o;n=n?n:t.one("div[class*='yqt']"),n&&(s=n.previous(function(e){return o=e.get("className"),o&&o.indexOf(r,o.length-i)!==-1}),!s&&n.insert(e.Node.create(e.ui.Templates._shared_module_compose_reply.forward_rich_body),"before"))},_expandQuotedText:function(e,t){var n,r,i;if(e.one(".yahoo_quoted")&&e.one(".yahoo_quoted").getStyle("display")!=="block"||t){n=e.one(".yahoo_quoted"),this._insertEmptyLineBeforeQuotedText(e),n&&n.setStyle("display","block");if(t)for(i=0;i<t.length;i++)r=e.one("."+t[i]+"yahoo_quoted"),r&&r.setStyle("display","block")}return e},_removeControlCharacters:function(e){var t=e,n=/[\x01-\x08\x0B-\x0C\x0E-\x1F\x7F-\x84\x86-\x9F]/ig;return t=t.replace(n,""),t},_removeOriginalMessageDelimiter:function(e){var t=e;return t=t.replace("<!-- ORIGINAL -->",""),t},_removeCursor:function(e){var t=e;return t=t.replace(/<br\b([^>]*?)\bclass="yui-cursor"(.*?)>/ig,""),t},_removeParagraphTags:function(e){var t=e;return t=t.replace(/<p\b([^>]*)>/ig,"<div$1>"),t=t.replace(/<\/p\b[^>]*>/ig,"</div>"),t},_wrapWithUserFontInfo:function(e,t){var n=['<div style="color:',t.foreColor,"; background-color:",t.backColor,"; font-family:",t.fontFamily,";font-size:",t.fontSize,'">'].join("");return[n,e,"</div>"].join("")},_wrapWithHTMLTag:function(e,t){var n="<html>",r="<head></head>",i="<html "+['xmlns="http://www.w3.org/1999/xhtml"','xmlns:v="urn:schemas-microsoft-com:vml"','xmlns:o="urn:schemas-microsoft-com:office:office"'].join(" ")+">",s="<!--[if gte mso 9]><xml><o:OfficeDocumentSettings><o:AllowPNG/><o:PixelsPerInch>96</o:PixelsPerInch></o:OfficeDocumentSettings></xml><![endif]-->";return t&&(n=i,r="<head>"+s+"</head>"),[n,r,"<body>",e,"</body></html>"].join("")},processDocNode:function(e,t){return this._processAnchors(e),this._expandQuotedText(e,t),e},processRawHTML:function(e){return e=this._removeOriginalMessageDelimiter(e),e=this._removeControlCharacters(e),e=this._removeCursor(e),e=this._removeParagraphTags(e),e},wrap:function(e,t,n){return this._wrapWithHTMLTag(this._wrapWithUserFontInfo(e,t),n)}}),e.namespace("mail.Controller").HtmlProcessor=new t},"1.0.0",{requires:["_shared_module_compose_reply"]});
YUI.add("comms-intl-bidi",function(A){A.mix(A.namespace("Intl"),{_rtlChars:"[\uD83A\uD83B][\uDC00-\uDFFF]|[\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05FF\u0604\u0605\u0608\u060B\u060D\u061B-\u064A\u065F\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u070E\u0710\u0712-\u072F\u074B-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u082E-\u08FF\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD40-\uFDCF\uFDF0-\uFDFC\uFDFE\uFDFF\uFE70-\uFEFE]|\uD803[\uDC00-\uDE5F\uDE7F-\uDFFF]|\uD802[\uDC00-\uDD1E\uDD20-\uDE00\uDE04\uDE07-\uDE0B\uDE10-\uDE37\uDE3B-\uDE3E\uDE40-\uDF38\uDF40-\uDFFF]",_neutralChars:"[\uDB40-\uDB43][\uDC00-\uDFFF]|\uD802[\uDD1F\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDF39-\uDF3F]|\uD804[\uDC80\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA]|\uD803[\uDE60-\uDE7E]|\uD800[\uDD01\uDD40-\uDD8A\uDD90-\uDD9B\uDDFD]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDD00-\uDD0A]|[\u0000-\u0040\u005B-\u0060\u007B-\u00A9\u00AB-\u00B4\u00B6-\u00B9\u00BB-\u00BF\u00D7\u00F7\u02B9\u02BA\u02C2-\u02CF\u02D2-\u02DF\u02E5-\u02ED\u02EF-\u036F\u0374\u0375\u037E\u0384\u0385\u0387\u03F6\u0483-\u0489\u058A\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0600-\u0603\u0606\u0607\u0609\u060A\u060C\u060E-\u061A\u064B-\u065E\u0660-\u066C\u0670\u06D6-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07F6-\u07F9\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0900-\u0902\u093C\u0941-\u0948\u094D\u0951-\u0955\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09F2\u09F3\u09FB\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AF1\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0BF3-\u0BFA\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C78-\u0C7E\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0CF1\u0CF2\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E3F\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39-\u0F3D\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F90-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135F\u1390-\u1399\u1400\u1680\u169B\u169C\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DB\u17DD\u17F0-\u17F9\u1800-\u180E\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1940\u1944\u1945\u19DE-\u19FF\u1A17\u1A18\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1DC0-\u1DE6\u1DFD-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2000-\u200D\u2010-\u2070\u2074-\u207E\u2080-\u208E\u20A0-\u20B8\u20D0-\u20F0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u2150-\u215F\u2189\u2190-\u2335\u237B-\u2394\u2396-\u23E8\u2400-\u2426\u2440-\u244A\u2460-\u249B\u24EA-\u26AB\u26AD-\u26CD\u26CF-\u26E1\u26E3\u26E8-\u26FF\u2701-\u2704\u2706-\u2709\u270C-\u2727\u2729-\u274B\u274D\u274F-\u2752\u2756-\u275E\u2761-\u2794\u2798-\u27AF\u27B1-\u27BE\u27C0-\u27CA\u27CC\u27D0-\u27FF\u2900-\u2B4C\u2B50-\u2B59\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF9-\u2CFF\u2DE0-\u2E31\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u3004\u3008-\u3020\u302A-\u3030\u3036\u3037\u303D-\u303F\u3099-\u309C\u30A0\u30FB\u31C0-\u31E3\u321D\u321E\u3250-\u325F\u327C-\u327E\u32B1-\u32BF\u32CC-\u32CF\u3377-\u337A\u33DE\u33DF\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA60D-\uA60F\uA66F-\uA673\uA67C-\uA67F\uA6F0\uA6F1\uA700-\uA721\uA788\uA802\uA806\uA80B\uA825\uA826\uA828-\uA82B\uA838\uA839\uA874-\uA877\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uABE5\uABE8\uABED\uFB1E\uFB29\uFD3E\uFD3F\uFDD0-\uFDEF\uFDFD\uFE00-\uFE19\uFE20-\uFE26\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF0-\uFFFF]|\uD835[\uDEDB\uDF15\uDF4F\uDF89\uDFC3\uDFCE-\uDFFF]|\uD834[\uDD67-\uDD69\uDD73-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE00-\uDE45\uDF00-\uDF56]",_initializeBidiPatterns:function(){this._rtlPattern=new RegExp("^(?:"+this._neutralChars+")*(?:"+this._rtlChars+")");this._neturalPattern=new RegExp("^(?:"+this._neutralChars+")*$");},setBidiChars:function(B,C){if(B!==undefined){this._rtlChars=B;}if(C!==undefined){this._neutralChars=C;}this._initializeBidiPatterns();},detectDirection:function(C,B){if(this._rtlPattern.test(C)){return"rtl";}else{if(B==="ltr"){return"ltr";}else{if(this._neturalPattern.test(C)){if(B==="rtl"){return"rtl";}else{return"";}}else{return"ltr";}}}}});A.Intl._initializeBidiPatterns();A.mix(A.namespace("Intl"),{bidiDirection:A.Intl.detectDirection});},"1.0.0");YUI.add("comms-node-setdir",function(B){var A={ltr:"rtl",rtl:"ltr"};B.Node.addMethod("setDirection",function(E,F){var D,C;if(F==="ltr"||F==="rtl"){D=B.one(E);C=D.getStyle("direction");D.setAttribute("dir",F);D.setStyle("direction","");D.removeClass(B.ClassNameManager.getClassName(A[F]));D.addClass(B.ClassNameManager.getClassName(F));if(F!==C){B.fire("directionChange",{target:D,dir:F});}}return D;});},"1.0.0",{requires:["classnamemanager","node-base","node-style"]});YUI.add("comms-bidi-textentry",function(B){function A(){A.superclass.constructor.apply(this,arguments);}A.NS="bidiTextEntry";A.NAME="bidiTextEntry";B.extend(A,B.Plugin.Base,{initializer:function(C){var E=this.get("host"),D;E.BIDI_DISABLED=false;E.PREVIOUS_DIRECTION=E.getStyle("direction");if(!E.PREVIOUS_DIRECTION){E.PREVIOUS_DIRECTION=E.getAttribute("dir");}E.DETECT_DEFAULT_DIRECTION=(C&&C.detect_default_direction===true);if(!E.DETECT_DEFAULT_DIRECTION){E.setDirection(E.PREVIOUS_DIRECTION);}else{D=B.Intl.detectDirection(E.get("value"));E.setDirection(D);E.PREVIOUS_DIRECTION=D;}this.afterHostEvent("valueChange",function(H){var G=this.get("host"),J,I=G.BIDI_DISABLED,F=G.PREVIOUS_DIRECTION,K;if(I){return;}K=G.getAttribute("dir");if(F!==K){G.BIDI_DISABLED=true;return;}J=B.Intl.detectDirection(H.newVal);if(J==="rtl"||J==="ltr"){G.PREVIOUS_DIRECTION=J;}G.setDirection(J);});}});B.namespace("Plugin");B.Plugin.BidiTextEntry=A;B.Plugin.BidiTextInput=A;},"1.0.0",{requires:["plugin","event-valuechange","comms-intl-bidi","comms-node-setdir"]});YUI.add("comms-editor-autobidi",function(D){var B=function(){B.superclass.constructor.apply(this,arguments);},A="host",C="text";D.extend(B,D.Base,{autoBidiOff:false,watchForAction:true,redetectDirection:false,disableAutoBidi:false,throttledFindEmptyParas:null,findEmptyParas:function(){var F=this.get(A).getInstance();if(F){var E=F.Selection.DEFAULT_BLOCK_TAG;if(F.all(E).size()===0){E=B.PARAGRAPHS;}F.all(E).each(function(H){var G=H.get(C);if(G===""||G===" "||G==="\u00A0"){H.setData(B.AUTO_BIDI,true);}});}},_onKeyDown:function(E){if(this.watchForAction&&!(E.crtlKey||E.metaKey)){this.throttledFindEmptyParas();this.watchForAction=false;}},autoBidi:function(J){var I,H,G,F,E;if(((J&&J.keyCode&&!B.NODETECT_KEYS[J.keyCode])||(J&&J.type&&J.type==="paste"))&&!this.autoBidiOff&&!this.disableAutoBidi){I=this.get(A).getInstance();E=I.Selection.DEFAULT_BLOCK_TAG;H=new I.Selection();G=H.anchorNode;if(G&&!(G.test(B.PARAGRAPHS))){G=G.ancestor(B.PARAGRAPHS);}if((G&&G.getData(B.AUTO_BIDI))||(G&&this.redetectDirection)){F=D.Intl.detectDirection(G.get(C));if(F){G.setAttribute("dir",F);G.setData(B.AUTO_BIDI,false);this.redetectDirection=false;}}}},_afterNodeChange:function(E){if(E.changedType==="mouseup"||(E.changedType==="keydown"&&(E.changedEvent.crtlKey||E.changedEvent.metaKey))){this.watchForAction=true;this.redetectDirection=true;}if(B.AFFECTING_EVENTS[E.changedType]){this.watchForAction=true;this.disableAutoBidi=false;}else{if(B.REDIRECTING_EVENTS[E.changedType]&&!this.disableAutoBidi){this.redetectDirection=true;}else{if(E.changedType!=="keydown"&&E.changedType!=="keyup"){D.later(50,this,this.autoBidi,E.changedEvent);}}}},_disableAutoBidi:function(){this.watchForAction=false;this.disableAutoBidi=true;},_turnAutoBidiOff:function(E){this.autoBidiOff=E.status;},initializer:function(){var E=this.get(A);E.on("ready",function(){E.after("nodeChange",D.bind(this._afterNodeChange,this));E.frame.on("dom:keydown",D.bind(this._onKeyDown,this));E.on("disableautobidi",D.bind(this._disableAutoBidi,this));E.on("turnautobidioff",D.bind(this._turnAutoBidiOff,this));this.throttledFindEmptyParas=D.throttle(D.bind(this.findEmptyParas,this),150);},this);}},{PARAGRAPHS:"P, DIV, UL, OL",AUTO_BIDI:"autobidi",AFFECTING_EVENTS:{"enter":true,"backspace":true,"delete":true},REDIRECTING_EVENTS:{"home":true,"left":true,"right":true},NODETECT_KEYS:{8:"backspace",9:"tab",13:"enter",16:"shift",18:"alt",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",46:"delete"},NAME:"editorAutoBidi",NS:"editorAutoBidi",ATTRS:{host:{value:false}}});D.namespace("Plugin");D.Plugin.EditorAutoBidi=B;},"1.0.0",{requires:["editor-base","comms-intl-bidi"]});/*
YUI 3.16.0-ym19 (build 3.16.0-ym19)
Copyright 2016 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("editor-bidi",function(e,t){var n=function(){n.superclass.constructor.apply(this,arguments)},r="host",i="dir",s="nodeChange",o="bidiContextChange",u="style";e.extend(n,e.Base,{lastDirection:null,firstEvent:null,_checkForChange:function(){var e=this.get(r),t=e.getInstance(),i=new t.EditorSelection,s,u;i.isCollapsed?(s=n.blockParent(i.focusNode,!1,t.EditorSelection.ROOT),s&&(u=s.getStyle("direction"),u!==this.lastDirection&&(e.fire(o,{changedTo:u}),this.lastDirection=u))):(e.fire(o,{changedTo:"select"}),this.lastDirection=null)},_afterNodeChange:function(e){if(this.firstEvent||n.EVENTS[e.changedType])this._checkForChange(),this.firstEvent=!1},_afterMouseUp:function(){this._checkForChange(),this.firstEvent=!1},initializer:function(){var t=this.get(r);this.firstEvent=!0,t.after(s,e.bind(this._afterNodeChange,this)),t.after("dom:mouseup",e.bind(this._afterMouseUp,this))}},{EVENTS:{"backspace-up":!0,"pageup-up":!0,"pagedown-down":!0,"end-up":!0,"home-up":!0,"left-up":!0,"up-up":!0,"right-up":!0,"down-up":!0,"delete-up":!0},BLOCKS:e.EditorSelection.BLOCKS,DIV_WRAPPER:"<DIV></DIV>",blockParent:function(t,r,i){var s=t,o,u;return i=i||e.EditorSelection.ROOT,s||(s=i),s.test(n.BLOCKS)||(s=s.ancestor(n.BLOCKS)),r&&s.compareTo(i)&&(o=e.Node.create(n.DIV_WRAPPER),s.get("children").each(function(e,t){t===0?u=e:o.append(e)}),u.replace(o),o.prepend(u),s=o),s},_NODE_SELECTED:"bidiSelected",addParents:function(t,r){var i,s,o;tester=function(e){if(!e.getData(n._NODE_SELECTED))return o=!1,!0},r=r||e.EditorSelection.ROOT;for(i=0;i<t.length;i+=1)t[i].setData(n._NODE_SELECTED,!0);for(i=0;i<t.length;i+=1)s=t[i].get("parentNode"),!r.compareTo(s)&&!s.getData(n._NODE_SELECTED)&&(o=!0,s.get("children").some(tester),o&&(t.push(s),s.setData(n._NODE_SELECTED,!0)));for(i=0;i<t.length;i+=1)t[i].clearData(n._NODE_SELECTED);return t},NAME:"editorBidi",NS:"editorBidi",ATTRS:{host:{value:!1}},RE_TEXT_ALIGN:/text-align:\s*\w*\s*;/,removeTextAlign:function(e){return e&&(e.getAttribute(u).match(n.RE_TEXT_ALIGN)&&e.setAttribute(u,e.getAttribute(u).replace(n.RE_TEXT_ALIGN,"")),e.hasAttribute("align")&&e.removeAttribute("align")),e}}),e.namespace("Plugin"),e.Plugin.EditorBidi=n,e.Plugin.ExecCommand.COMMANDS.bidi=function(t,s){var o=this.getInstance(),u=new o.EditorSelection,a=this.get(r).get(r).editorBidi,f,l,c,h=o.EditorSelection.ROOT,p,d,v;if(!a){e.error("bidi execCommand is not available without the EditorBiDi plugin.");return}return o.EditorSelection.filterBlocks(),u.isCollapsed?(l=n.blockParent(u.anchorNode,!1,h),l||(l=h.one(o.EditorSelection.BLOCKS)),l=n.removeTextAlign(l),s||(v=l.getAttribute(i),!v||v==="ltr"?s="rtl":s="ltr"),l.setAttribute(i,s),e.UA.ie&&(c=l.all("br.yui-cursor"),c.size()===1&&l.get("childNodes").size()===1&&c.remove()),f=l):(p=u.getSelected(),d=[],p.each(function(e){d.push(n.blockParent(e,!1,h))}),d=o.all(n.addParents(d,h)),d.each(function(e){var t=s;e=n.removeTextAlign(e),t||(v=e.getAttribute(i),!v||v==="ltr"?t="rtl":t="ltr"),e.setAttribute(i,t)}),f=d),a._checkForChange(),f}},"3.16.0-ym19",{requires:["editor-base"]});
YUI.add("_shared_module_message_loading_error",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_message_loading_error={base:'<div id="loadingpane" class="msg-loadingpane"> {{loading_error}} {{diff_folder_error}} {{loading_error_else}}</div>',msg_deleted_error:'<div class="message"> {{str_msg_deleted_error}} </div> ',is_perm:"{{str_comp_loading_error_perm}} ",multi_retry:"{{str_comp_multi_retry}} ",multi_retry_else:"{{str_comp_loading_error}} ",is_perm_else:"{{multi_retry}} {{multi_retry_else}} ",can_retry:"<div class='message'> <span class='retry' data-action=\"retry-msg-load\">{{str_try_again}}</span> </div> ",show_tae:'<div class="message error_code">{{str_error_code}} {{tae_code}}</div>',msg_deleted_error_else:"<div class='message'> {{is_perm}} {{is_perm_else}} </div> {{can_retry}} {{show_tae}} ",loading_error:"{{msg_deleted_error}} {{msg_deleted_error_else}} ",diff_folder_error:"<div class='message'>{{str_error_msg_diff_folder_switch}}</div> ",loading_slow_else:'<div class="msg-loading s-loader"></div> ',loading_slow:"<div class='message'> {{str_comp_slow_loading}} </div> <div class='message'> <span class='retry' data-action=\"retry-msg-load\">{{str_try_again}}</span> </div> ",loading_error_else:"{{loading_slow_else}} {{loading_slow}} "};},"1.0.0");YUI.add("_shared_module_rte_well_content_attach_item",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_rte_well_content_attach_item={base:"{{browser_plus_attach}}{{browser_plus_attach_else}}",transfer_error:"transfer-error",waiting:"in-queue ",image:'<div style="background-image:url({{thumbnailurl}});"></div> ',in_progress:'<div class="prog-indicator"> <div class="progress" style="width:{{progress}}%"></div> </div> ',browser_plus_attach:'<li role="presentation" class="attachmentVisible {{transfer_error}} {{waiting}} {{type}}"> <div class="file-container"> {{image}} <b/></b> </div> <span class="fname">{{filename}}</span> {{in_progress}}</li>',waiting1:"in-queue ",in_progress1:"downloading ",transfer_error1:"lozengeerror",transfer_warn:"lozengewarn",retry:'<span role="presentation" class="btn lozenge lozengeretry small hidden"><a role="presentation" tabindex="-1" title="{{str_btn_retry_file_attr}}">&nbsp;<b></b></a></span>',transfer_error2:"lozengeerror-remove",browser_plus_attach_else:'<li role="presentation" class="attachmentVisible {{waiting1}} {{in_progress1}} {{type}}"><div tabindex="-1" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" class="lozengeProgress"></div> <span role="presentation" class="btn lozenge {{transfer_error1}} left small"><a role="option" title="{{filesize}}" tabindex="-1" class="{{transfer_warn}}">{{filename}}</a></span>{{retry}}<span role="presentation" class="btn lozenge lozengeremove {{transfer_error2}} right small"><a role="presentation" tabindex="-1" title="{{str_btn_remove_file_attr}}">&nbsp;<b></b></a></span></li>'};},"1.0.0");YUI.add("_shared_module_rte_well_content_attachments_well_fresh",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_rte_well_content_attachments_well_fresh={base:'<div tabindex="0" aria-label="{{str_aria_label_attachments}}" class="attachments-well {{page_compose_email_else}} {{browser_plus_attach_else}}"> <div class="attachments-welcome"> {{browser_plus_attach}} </div> <div class="attachments-header hidden"> <div class="error hidden"> <span>{{str_comp_attach_upload_error}}</span> <a role="button" href="#" class="dismiss">{{str_comp_attach_dismiss}}</a> </div> <div class="self-close-msg hidden"> <span></span> </div> <ul class="info hidden"> <li> <h3 id="total-attached"><span class="totalAttached">0</span> {{str_comp_attachments}}</h3> </li> <li> <a class="removeAll" role="button" href="#" aria-labelledby="total-attached" title="{{str_comp_attach_removeall}}">{{str_comp_attach_removeall}}</a> </li> </ul> </div> <ul role="list" aria-label="{{str_aria_label_image_attachments}}" aria-live="polite" class="thumbnails-attach"></ul> <ul role="list" aria-label="{{str_aria_label_file_attachments}}" aria-live="polite" class="file-attach hidden"> {{file_attach_files}} </ul> <div role="alert" class="error transfer-error hidden"> <span class="attachmenterror"> {{attachments_error}} </span> </div></div>',page_compose_email_else:"hidden",attached_files_else:"hidden",browser_plus_attach_else:"simple-upload {{attached_files_else}} ",browser_plus_attach:"<h2>{{str_rte_attachments_attach_files}}</h2> <h3>{{str_rte_attachments_drag_files}}</h3> ",file_attach_files:"{{_shared_module_rte_well_content_attach_item}} ",multiple_files_failed:"{{str_rte_attachments_error_mult}}",multiple_files_failed_else:"{{str_rte_attachments_error_single}}",attachments_error:"{{multiple_files_failed}} {{multiple_files_failed_else}} "}},"1.0.0",{requires:["_shared_module_rte_well_content_attach_item"]});
YUI.add("_shared_module_compose_message_body",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_compose_message_body={base:'<div class="inner"> <label for="msg" class="offscreen">{{str_comp_messagebody}}</label> <div id="plaintext" class="cm-plaintext"> {{conversation_body_else}} </div> {{_shared_module_message_loading_error}} <div id="rtetext" class="cm-rtetext undoreset" role="document" aria-label="{{str_comp_messagebody}}" spellcheck="true" autocorrect="false" style="visibility:hidden;"> {{conversation_body}} </div> {{has_quote}} <div id="pastebuffer" style="display:none" contenteditable="false"></div> {{_shared_module_rte_well_content_attachments_well_fresh}} </div> ',conversation_body_else:'<textarea id="msg"></textarea> ',conversation_body:'<div class="msg"> {{conversation_body}} </div> ',has_quote:'<div class="compose-quoted-text unselectable hidden" contenteditable="false" onselectstart="return false;" title="{{str_qtd_expand}}"> <span class="icon icon-chevron-right qtd-expansion-icon unselectable" data-action="quoted-text"></span> <span tabindex="0" role="button" class="qtd-expansion-text unselectable" data-action="quoted-text">{{str_qtd_expand}}</span> </div> '}},"1.0.0",{requires:["_shared_module_message_loading_error","_shared_module_rte_well_content_attachments_well_fresh"]});
YUI.add("_shared_module_rte_well_content_attachments_fresh",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_rte_well_content_attachments_fresh={base:'<div role="presentation" class="attachments-pane gwell rte-pane-fresh shaded" > <div role="group"> <form method="post" enctype="multipart/form-data" class="attachment-button-form" target="" action=""> <span class="icon icon-attachment attachment-button-attach" title="{{str_comp_attach_singular}}"> <input type="file" id="attachment-button-input" multiple="true" name="uploadfile" class="attachment-button-file" role="button" aria-label="{{str_comp_attach_singular}}" tabindex="0"/> </span> <span id="upload_file_selection" aria-hidden="true" class="hidden" title="{{str_comp_attach_singular}}"> <span id="uploader-v2"></span> </span> <span id="attach-btn-menu" aria-hidden="true" class="hidden icon icon-chevron-down attach-btn-menu" title="{{str_comp_attach_menu_title_fresh}}" data-action="menu"></span> </form> <span class="btn left right menu attachment-button-disabled hidden"> <a role="button" href="#" tabindex="-1" >{{str_comp_attach}}</a> </span> <span role="alert" class="switch-to-basic-link hidden"> {{str_rte_attachments_basic_message}} <a role="button" href="#">{{str_rte_attachments_basic_link_text}}</a>. </span> </div></div>'}},"1.0.0");
YUI.add("_shared_module_rte_well_content_format_fresh",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_rte_well_content_format_fresh={base:'<div role="presentation" class="rte-pane-fresh format-pane gwell shaded"> <div role="group" class="format-inner"> <span id="btn-fontnamesize" class="icon icon-choose-font" data-action="menu" tabindex="-1" role="button" title="{{str_comp_font_menu_attr_fresh}}"> </span> <span data-action="bold" class="icon icon-bold" tabindex="-1" role="button" title="{{str_rte_bold_attr}}" > </span> <span data-action="italic" tabindex="-1" role="button" class="icon icon-italic" title="{{str_rte_italic_attr_fresh}}"> </span> {{is_underline}} <span id="btn-forecolor" data-action="menu" tabindex="-1" role="button" aria-haspopup="true" aria-label="{{str_rte_color_attr_fresh}}" class="icon icon-text-highlight" title="{{str_rte_color_attr_fresh}}"></span> <span id="btn-insertunordered" data-action="menu" tabindex="-1" role="button" class="icon icon-list-bullets" title="{{str_rte_list_menu_attr_fresh}}"></span> <span id="btn-indent" data-action="menu" tabindex="-1" role="button" class="icon icon-indent" title="{{str_rte_indentation_menu_attr_fresh}}"></span> <span id="btn-text-align" data-action="menu" tabindex="-1" role="button" aria-haspopup="true" class="icon icon-align-left" title="{{str_rte_text_alignment_menu_attr_fresh}}"></span> {{bidi}} <span data-action="insertlink" tabindex="-1" role="button" class="icon icon-link" title="{{str_rte_link_attr_fresh}}"> </span> <span id="emoticon" data-action="menu" tabindex="-1" role="button" aria-haspopup="true" class="icon icon-emoticons" title="{{str_comp_emoticons}}"> </span> <span class="om-buttons"></span> {{spellCheckEnabled}} <span id="switchtext-plain" class="switchtext btn-isPlain last icon icon-chevron-double-right" tabindex="-1" role="button" title="{{str_rte_richtext}}" target="plain-text"> </span> <span id="switchtext-rich" class="switchtext btn-isRich last hidden icon icon-chevron-double-left" role="button" title="{{str_rte_plaintext}}" target="rich-text"> </span> </div> </div> ',is_underline:'<span data-action="underline" tabindex="-1" role="button" class="icon icon-underline" title="{{str_rte_underline_attr}}"> </span> ',is_rtl:'<span id="btn-rtl" data-action="bidi" value="rtl" tabindex="-1" role="button" class="icon icon-rtl" title="{{str_rte_right_to_left}}"> </span> <span id="btn-ltr" data-action="bidi" value="ltr" tabindex="-1" role="button" class="icon icon-ltr" title="{{str_rte_left_to_right}}"> </span> ',is_rtl_else:'<span id="btn-ltr" data-action="bidi" value="ltr" tabindex="-1" role="button" class="icon icon-ltr" title="{{str_rte_left_to_right}}"> </span> <span id="btn-rtl" data-action="bidi" value="rtl" tabindex="-1" role="button" class="icon icon-rtl" title="{{str_rte_right_to_left}}"> </span> ',bidi:"{{is_rtl}} {{is_rtl_else}} ",spellCheckEnabled:'<span id="btn-spellchk" data-action="spellcheck" tabindex="-1" role="button" class="icon icon-check-spelling" title="{{str_rte_check_spelling_attr_fresh}}"> </span> <span id="btn-spell-langs" data-action="menu" tabindex="-1" role="button" aria-haspopup="true" title="{{str_toolbar_spelling_menu_toggle_attr_fresh}}" class="icon icon-chevron-down"> </span> '};},"1.0.0");