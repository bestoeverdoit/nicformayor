YUI.add("tictac-dropbox",function(a){"use strict";function b(a,b){return f.getAssetURL(a,"tictac-dropbox",b)}var c=a.common.Utils.features.enabled("ComposeWithCard"),d=!1,e=a.namespace("Tictac.dropbox"),f=a.Tictac.base,g=f.getTictacVersion("dropbox");e.loader=function(){d||(yui.use("mail-services-plugins","tictac-dropbox-strings",function(a){var b=e.strings,c=a.Mail.Services.Plugins;c.register("composeUploader",{index:0,label:b.str_share_from_db,className:"menu-attach-dropbox",choose:function(){return new Promise(function(b,c){a.use("tictac-dropbox-dropboxdialog",function(){e.DropboxDialog.chooseFiles().then(b,c)})})}}),c.register("largeFileUploaders",{upload:function(b){return new Promise(function(c,d){a.use("tictac-dropbox-directupload",function(){e.DirectUpload.upload(b).then(c,d)})})}}),c.register("attachmentDownloader",{label:b.str_dropbox_saveto_menuitem,download:function(b){return new Promise(function(c,d){a.use("tictac-dropbox-dropboxsaver",function(){e.DropboxSaver.save(b).then(c,d)})})}})}),d=!0)},a.Tictac.base.defineModuleGroup("tictacs",{filter:g.filter,modules:{"tictac-dropbox-rollups":{path:b("js/tictac-dropbox-rollups_"+NeoConfig.lang+"-min.js")},"tictac-dropbox-api":{path:b("js/api-min.js")},"tictac-dropbox-auth":{path:b("js/auth-min.js"),requires:["common-ui-dialog-helper","tictac-base-utils","tictac-dropbox-rollups","tictac-dropbox-strings","tictac-dropbox-stats","tictac-dropbox-api"]},"tictac-dropbox-cardhandler":{path:b("js/cardhandler-min.js"),requires:["tictac-base-utils","tictac-dropbox-strings","tictac-dropbox-stats","tictac-att-filter","array-extras","tictac-attach-enhancr-card"]},"tictac-dropbox-footer":{path:b("js/footer_nocard-min.js")},"tictac-dropbox-controller":{path:b("js/controller"+(c?"":"_nocard")+"-min.js"),requires:["common-ui-dialog-helper","tictac-base-utils","tictac-dropbox-alfview","tictac-dropbox-api","tictac-dropbox-auth","tictac-dropbox-strings","tictac-dropbox-rollups","tictac-dropbox-stats","tictac-dropbox-chooser","tictac-dropbox-saver"]},"tictac-dropbox-chooser":{path:b("js/chooser-min.js"),requires:["tictac-base-utils","tictac-dropbox-api","tictac-dropbox-strings"]},"tictac-dropbox-saver":{path:b("js/saver-min.js"),requires:["tictac-base-utils","tictac-dropbox-api","tictac-dropbox-strings"]},"tictac-dropbox-alfview":{path:b("js/alfview-min.js"),requires:["common-ui-dialog-helper","tictac-base-utils","tictac-dropbox-stats","tictac-dropbox-strings","tictac-dropbox-rollups","tictac-att-progressbar"]},"tictac-dropbox-stats":{path:b("js/stats-min.js"),requires:["tictac-base-stats"]},"tictac-dropbox-strings":{path:b("js/strings/lang_"+NeoConfig.lang+"-min.js")},"tictac-dropbox-dropboxdialog":{path:b("js/dropboxdialog-min.js"),requires:["common-ui-dialog-helper","tictac-dropbox-utils","tictac-dropbox-api","tictac-dropbox-auth","tictac-dropbox-strings","tictac-dropbox-rollups"]},"tictac-dropbox-dropboxsaver":{path:b("js/dropboxsaver-min.js"),requires:["common-ui-dialog-helper","tictac-dropbox-utils","tictac-dropbox-api","tictac-dropbox-auth","tictac-dropbox-strings","tictac-dropbox-rollups"]},"tictac-dropbox-directupload":{path:b("js/directupload-min.js"),requires:["common-ui-dialog-helper","tictac-att-progressbar","tictac-base-utils","tictac-dropbox-utils","tictac-dropbox-uploader","tictac-dropbox-api","tictac-dropbox-strings","tictac-dropbox-rollups"]},"tictac-dropbox-utils":{path:b("js/utils-min.js"),requires:["tictac-dropbox-strings"]},"tictac-dropbox-uploader":{path:b("js/uploader-min.js"),requires:["tictac-dropbox-api"]}}}),a.one("head").append('<link rel="stylesheet" href="'+b("css/dropbox.css","tictac-dropbox",!0)+'" class="tictac-dropbox-css" />')},"1.0.0",{requires:["node","tictac-base","mail-common-utils-features"]});YUI.add("tictac-flickr",function(a){"use strict";function b(a,b){return d.getAssetURL(a,"tictac-flickr",b)}var c=a.common.Utils.features.enabled("ComposeWithCard"),d=a.Tictac.base,e=d.getTictacVersion("flickr"),f=!1,g=window.NeoConfig?window.NeoConfig.lang:"en-US";a.namespace("Tictac.flickr").loader=function(){f||(yui.use("mail-services-plugins","tictac-flickr-strings",function(a){a.Mail.Services.Plugins.register("composeUploader",{index:2,label:a.Tictac.flickr.strings.str_share_from_flickr,className:"menu-attach-flickr",choose:function(){return new Promise(function(b,c){a.use("tictac-flickr-chooserdialog",function(){a.Tictac.flickr.ChooserDialog.chooseFiles().then(b,c)})})}})}),f=!0)},a.Tictac.base.defineModuleGroup("tictacs",{filter:e.filter,modules:{"tictac-flickr-auth":{path:b("js/auth-min.js"),requires:["tictac-base-utils","tictac-flickr-stats","tictac-flickr-strings","tictac-flickr-rollups","tictac-flickr-ws","common-ui-dialog-helper"]},"tictac-flickr-chooser":{path:b("js/chooser-min.js"),requires:["array-extras","common-ui-dialog-helper","_shared_module_offscreen_bin_modal_btns_ok_cancel","node-scroll-info","event-hover","tictac-base-utils","tictac-flickr-justifier","tictac-flickr-model","tictac-flickr-rollups","tictac-flickr-strings","tictac-flickr-stats","tictac-flickr-uploadctrl"]},"tictac-flickr-controller":{path:b("js/controller"+(c?"":"_nocard")+"-min.js"),requires:["tictac-flickr-auth","tictac-flickr-chooser","tictac-flickr-stats","tictac-base-utils","tictac-attach-enhancr-card"]},"tictac-flickr-justifier":{path:b("js/justifier-min.js"),requires:["tictac-base-utils"]},"tictac-flickr-model":{path:b("js/model-min.js"),requires:["tictac-base-utils","tictac-flickr-strings","tictac-flickr-ws"]},"tictac-flickr-stats":{path:b("js/stats-min.js"),requires:["tictac-base-stats"]},"tictac-flickr-uploadctrl":{path:b("js/uploadctrl-min.js"),requires:["datatype-xml-parse","tictac-att-progressbar","tictac-base-utils","tictac-flickr-uploader-form","tictac-flickr-rollups","tictac-flickr-strings","tictac-flickr-stats"]},"tictac-flickr-uploader-form":{path:b("js/uploaderform-min.js"),requires:["tictac-base-utils","tictac-flickr-stats","tictac-flickr-strings","tictac-flickr-rollups","tictac-flickr-ws","common-ui-dialog-helper"]},"tictac-flickr-ws":{path:b("js/ws-min.js"),requires:["io","tictac-base-utils"]},"tictac-flickr-footer":{path:b("js/footer_nocard-min.js")},"tictac-flickr-chooserdialog":{path:b("js/chooserdialog-min.js"),requires:["tictac-flickr-auth","tictac-flickr-chooser","tictac-flickr-stats","tictac-base-utils"]},"tictac-flickr-strings":{path:b("js/strings/lang_"+g+"-min.js")},"tictac-flickr-rollups":{path:b("js/tictac-flickr-rollups_"+g+"-min.js")}}}),a.one("head").append('<link rel="stylesheet" href="'+b("css/flickr"+(c?"":"_nocard")+".css","tictac-flickr",!0)+'" class="tictac-flickr-css" />')},"1.0.0",{requires:["tictac-base","mail-common-utils-features"]});"use strict";YUI.add("tictac-unsubscribr",function(a){function b(b,c){return a.Tictac.base.getAssetURL(b,"tictac-unsubscribr",c)}var c=a.Tictac.base.getTictacVersion("unsubscribr");a.namespace("Tictac").unsubscribr={loader:function(){var d,e=[],f=!1,g=!1;a.Tictac.base.defineModuleGroup("unsubscribr",{filter:c.filter,modules:{"tictac-unsubscribr-utils":{path:b("js/")+"utils-min.js",requires:["tictac-base-mailpreferences","tictac-base-mail-io","tictac-base-batch-transport"]}}}),YUI().use("tictac-unsubscribr-utils","tictac-base","tictac-base-stats","tictac-base-mail-io","tictac-base-batch-transport","mail-common-utils-settings",function(a){d=a.Tictac.unsubscribr.Utils,yui.on("unsubscribe:emails",function(a){e=a.emails,g=a.block,f=a.deleteEmails,"1"!==g&&"1"!==f||d.issueDeleteRequest(e,g,f),"1"===g&&d.setMetadataForUnsubscribr(e)})})}}},"1.0.0",{requires:["tictac-base"]});"use strict";YUI.add("tictac-livestream",function(a){function b(){a.StyleSheet("#video-mode-module iframe { border: 0; width: 288px; height: 620px; }","video-mode")}function c(){var b=a.common.Utils,c="site=mail",f="region="+NeoConfig.intl,g="lang="+NeoConfig.lang,h=b.settings.value("livestreamBaseUrl"),i=b.settings.value("livestreamQueryString"),j=[h,c,f,g,i].join("&"),k=a.one("#theAd"),l='allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"',m="<iframe "+l+' src="'+j+'"></iframe>',n='<div id="video-mode-module">'+m+"</div>";k&&(d(),e=a.Node.create(n),k.append(e))}function d(){e&&(e.remove().destroy(!0),e=null)}var e,f={LOAD:"livestream:load",UNLOAD:"livestream:unload"};a.namespace("Tictac").livestream={loader:function(){b(),yui.on(f.LOAD,c),yui.on(f.UNLOAD,d),yui.fire("livestream:ready")}}},"1.0.0",{requires:["event-base","mail-common-utils-features","stylesheet","tictac-base","tictac-lib"]});