YUI.add("mail-ui-onboarding-imap-in-upsell",function(e){var t,n=e.common.Utils.settings,r=n.value("imapProviderDomain"),i=n.value("imapInUpsellLinkUrl"),s=e.mail.persist.MetaData,o=e.common.Utils.substitute;t={init:function(){var t=e.one("#imapNavWrapper"),n,u,a=NeoConfig.upsellEmail,f=a&&a.email,l=a&&a.emailDomainBrand,c=a&&a.accountType,h=c==="SENDAS",p=c==="ALTER",d=c==="XOBNI",v,m=strings.str_imap_ob_upsell_btnCanc,g,y,b,w,E,S,x,T,N,C,k,L;if(!a||!p&&!h&&!d)return;S=strings[r[l].strRid]||strings.str_email_cnt_one,h||p?(n=e.one(".imapfolder.needSetup"),x=o(strings.str_imap_ob_upsell_bd1,{mailProvider:S},null,null,strings),v=strings.str_imap_ob_upsell_btnPrim,h?(g=n&&n.getAttribute("data-fid"),N=strings.str_imap_ob_upsell_send_only_hd1,y="imapInUpsellSendOnlyNav",b="neo.pref.imapInUpsell",w="neo.pref.imapInUpsellSendOnlyNav",E="neo.pref.imapInUpsellSendOnlySetting"):p&&(N=o(strings.str_imap_ob_upsell_alter_hd1,{mailProvider:S},null,null,strings),y="imapInUpsellAltNav",b="neo.pref.imapInUpsellAlt",w="neo.pref.imapInUpsellAltNav",E="neo.pref.imapInUpsellAltSetting")):d&&(n=e.one(".btn-inbox"),N=o(strings.str_imap_ob_upsell_xobni_hd1,{mailProvider:S},null,null,strings),x=o(strings.str_imap_ob_upsell_xobni_bd1,{mailProvider:S},null,null,strings),v=strings.str_imap_ob_upsell_xobni_btnPrim,L=i[l],y="imapInUpsellXobniNav",w="neo.pref.imapInUpsellXobniNav",E="neo.pref.imapInUpsellXobniSetting"),e.mail.ui.Onboarding.registerDefaultOnboarding({name:y,node:n,offset:[140,-15],pointer:"left-top",hdText:N,bdText:x,btnPrimaryText:v,btnCancelText:m,classNames:["imapInUpsellNavOb"],imgSrc:L,imgPlace:"top",onSuccess:function(){e.fire("util:ymstats",{name:"imapInUpsellAction",tags:{type:c.toLowerCase(),button:"upgrade",position:"navcallout"}}),d||e.on("removeUpsellAccount",function(){s.set(w,1),s.set(b,1),s.set(E,1),NeoConfig.upsellEmail=null,t&&t.remove(!0),e.one("#storm-listnav").setStyle("display",""),e.one("#shellcontent").removeClass("imapin-upsell"),T=e.one("#imapInUpsellWrapper"),T&&T.remove(!0)}),e.fire("openOptions",{view:"accounts",subView:{sid:"upgradeUpsell",type:c,accId:g,domain:l,emailAddr:f}})},onCancel:function(){e.fire("util:ymstats",{name:"imapInUpsellAction",tags:{type:c.toLowerCase(),button:"notnow",position:"navcallout"}}),d?(u=e.one("#yucs-help"),C=strings.str_imap_ob_upsell_cancel_hd1,k=strings.str_imap_ob_upsell_cancel_bd1,e.mail.ui.Onboarding.showDefaultOnboarding({name:"imapInUpsellXobniNav",node:u,offset:[-270,-17],pointer:"right-top",hdText:C,bdText:k,classNames:["imapInUpsellNavCancelOb"]})):(s.set(w,null),s.save())}})}},t.init(),e.namespace("mail.ui.onboarding").imapInUpsellNav=t},"1.0.0",{requires:["common-utils","mail-ui-onboarding","mail-common-utils-settings","mail-persist-meta-data","mail-ui-imap-in"]});
