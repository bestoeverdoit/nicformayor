YUI.add("_shared_module_rte_well_content_format_pop_out",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_rte_well_content_format_pop_out={base:'<div role="presentation" class="rte-pane-fresh format-pane gwell shaded"><div role="group" class="format-popout"> <a role="presentation" tabindex="-1" class="tool format-tool" href="#"> <span class="format-popout-icon tool-icon" tabindex="-1" role="button" aria-haspopup="true" title="{{str_rte_formating_options}}">Aa</span> <div class="format-popout popout"> <div class="popout-inner"> <span id="btn-fontnamesize" class="icon icon-choose-font" data-action="menu" tabindex="-1" role="button" title="{{str_comp_font_menu_attr_fresh}}"> </span> <span data-action="bold" class="icon icon-bold" tabindex="-1" role="button" title="{{str_rte_bold_attr}}" > </span> <span data-action="italic" tabindex="-1" role="button" class="icon icon-italic" title="{{str_rte_italic_attr_fresh}}"> </span> {{is_underline}} <span id="btn-forecolor" data-action="menu" tabindex="-1" role="button" aria-haspopup="true" aria-label="{{str_rte_color_attr_fresh}}" class="icon icon-text-highlight" title="{{str_rte_color_attr_fresh}}"> </span> <span class="seperator"></span> <span data-action="insertunorderedlist" class="icon icon-list-bullets" title="{{str_rte_bullet_list_attr}}" role="button" > </span> <span data-action="insertorderedlist" class="icon icon-list-numbers" title="{{str_rte_numbered_list_attr}}" role="button" > </span> <span class="seperator"></span> <span data-action="indent" class="icon icon-indent" title="{{str_menu_indent}}" role="button" > </span> <span data-action="outdent" class="icon icon-outdent" title="{{str_menu_outdent}}" role="button"> </span> <span class="seperator"></span> <span data-action="align-l" class="icon icon-align-left" title="{{str_rte_align_l}}" role="button"> </span> <span data-action="align-c" class="icon icon-align-center" title="{{str_rte_align_c}}" role="button"> </span> <span data-action="align-r" class="icon icon-align-right" title="{{str_rte_align_r}}" role="button"> </span> {{bidi}} </div> </div> <div class="notch border-notch"></div> <div class="notch"></div> </a> <span data-action="insertlink" tabindex="-1" role="button" class="icon icon-link" title="{{str_rte_link_attr_fresh}}"> </span> <span id="emoticon" data-action="menu" tabindex="-1" role="button" aria-haspopup="true" class="icon icon-emoticons" title="{{str_comp_emoticons}}"> </span> {{spellCheckEnabled}} <span id="switchtext-plain" class="switchtext btn-isPlain last icon icon-chevron-double-right" tabindex="-1" role="button" title="{{str_rte_richtext}}" target="plain-text"> </span> <span id="switchtext-rich" class="switchtext btn-isRich last hidden icon icon-chevron-double-left" role="button" title="{{str_rte_plaintext}}" target="rich-text"> </span></div></div>',is_underline:'<span data-action="underline" tabindex="-1" role="button" class="icon icon-underline" title="{{str_rte_underline_attr}}"> </span> ',is_rtl:'<span class="seperator"></span> <span id="btn-rtl" data-action="bidi" value="rtl" tabindex="-1" role="button" class="icon icon-rtl" title="{{str_rte_right_to_left}}"> </span> <span id="btn-ltr" data-action="bidi" value="ltr" tabindex="-1" role="button" class="icon icon-ltr" title="{{str_rte_left_to_right}}"> </span> ',is_rtl_else:'<span class="seperator"></span> <span id="btn-ltr" data-action="bidi" value="ltr" tabindex="-1" role="button" class="icon icon-ltr" title="{{str_rte_left_to_right}}"> </span> <span id="btn-rtl" data-action="bidi" value="rtl" tabindex="-1" role="button" class="icon icon-rtl" title="{{str_rte_right_to_left}}"> </span> ',bidi:"{{is_rtl}} {{is_rtl_else}} ",spellCheckEnabled:'<span id="btn-spellchk" data-action="spellcheck" tabindex="-1" role="button" class="icon icon-check-spelling" title="{{str_rte_check_spelling_attr_fresh}}"> </span> <span id="btn-spell-langs" data-action="menu" tabindex="-1" role="button" aria-haspopup="true" title="{{str_toolbar_spelling_menu_toggle_attr_fresh}}" class="icon icon-chevron-down"> </span> '}},"1.0.0");
YUI.add("_shared_module_ca_openhide",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_ca_openhide={base:'<div class="ca-showhide-ctrl" aria-hidden="true"> <button class="btn-ca-showhide icon icon-add ca-content-visible icon-disabled" title="{{str_quick_attach_title}}" disabled></button></div>'}},"1.0.0");
YUI.add("_shared_module_rte_well_fresh_conv",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_rte_well_fresh_conv={base:'<div class="rte-well-container" role="toolbar">{{show_attachment_icon}}{{show_formatter_well}}{{show_popout_toolbar}}</div>{{ca_icon}}',show_attachment_icon:"{{_shared_module_rte_well_content_attachments_fresh}}",show_formatter_well:"{{_shared_module_rte_well_content_format_fresh}}",show_popout_toolbar:"{{_shared_module_rte_well_content_format_pop_out}}",ca_icon:"{{_shared_module_ca_openhide}}"}},"1.0.0",{requires:["_shared_module_rte_well_content_attachments_fresh","_shared_module_rte_well_content_format_fresh","_shared_module_rte_well_content_format_pop_out","_shared_module_ca_openhide"]});
YUI.add("_shared_module_compose_fresh_conv",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_compose_fresh_conv={base:'<div tabindex="0" role="widget" aria-label="{{str_btn_compose_email}}" class="compose {{smartscroll}} {{ca_active}}"><div class = "composeshim hidden"></div><table border="0" style="margin:0;width:100%;border-spacing:0; border-collapse:collapse;table-layout:fixed"> <tbody role="presentation"> <tr role="presentation"> <td role="presentation"> {{_shared_module_compose_message_header_fresh}} </td> </tr> <tr role="presentation"> <td role="presentation"> <div class="compose-message {{page_well_is_open}}">{{_shared_module_compose_message_body}}</div> </td> </tr> <tr role="presentation"> <td role="presentation" class="footer-separator"> <div role="alert" tabindex="0" aria-labelledby="notification" class="bottomNotification"> <span class="s-loader"></span> <span class="notification">{{str_comp_sending}}</span> </div> <div class="bottomToolbar {{squeezeToolbar}}"> <span class="btn default" data-action="send" role="button"> <a tabindex="0" href="#" role="button" title="{{str_comp_send_attr}}">{{str_comp_send}}</a> </span> {{show_autocompose_well}} {{_shared_module_rte_well_fresh_conv}} {{show_delete_draft_icon}} <span class="save-draft-msg hidden" tabindex="0" role="note" data-action="savedraft">{{lastsaved}}</span> <span id="enhancr-spinner" class="hidden"></span> </div> </td> </tr> </tbody></table></div>',smartscroll:"smartscroll",ca_active:"ca-active",page_well_is_open:"rich-text ",squeezeToolbar:"squeeze-toolbar",show_autocompose_well:'<span class="autocompose-well"> <span class="btn left btn-secondary" title="Autocompose" data-action="randomize"> <i class="icon {{icon}}" style="color: {{icon_color}}"></i> Autocompose </span><span class="btn right btn-secondary" data-action="menu"><i class="icon icon-chevron-down"></i></span> </span> ',show_delete_draft_icon:'<span id="btn-draft-delete" class="draft-delete-btn icon icon-delete" data-action="delete" role="button" title="{{str_delete_draft}}"></span> ',lastsaved:"{{str_comp_autosave}}"}},"1.0.0",{requires:["_shared_module_compose_message_header_fresh","_shared_module_compose_message_body","_shared_module_rte_well_fresh_conv"]});
YUI.add("_shared_module_toolbar_compose_fresh",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_toolbar_compose_fresh={base:'<div id="pagetoolbar" class="{{msgliststate}}"> <a class="btn" href="#" data-action="send" title="{{str_comp_send_attr}}">{{str_comp_send}}</a> <a class="btn btn-cancel-compose" href="#" data-action="cancelcompose" title="{{str_comp_cancel_attr}}">{{str_comp_cancel}}</a> <a class="btn savedraft {{isDirty}}" href="#" data-action="savedraft" title="{{str_comp_savedraft_attr}}">{{str_comp_savedraft}}</a></div>',isDirty:"disabled"};},"1.0.0");YUI.add("_shared_module_compose_loading",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_compose_loading={base:'<div id="loadingpane" class="cm-loadingpane"> {{start}} {{slow}} {{error}} {{populate}}</div>',start:"<h2>{{str_comp_loading}}</h2> ",slow:'<h2>{{str_comp_loadslow}} <span class="btn left right small"><a href="#" class="retryOrigin">{{str_comp_loadretry}}</a></span></h2> ',can_retry:'<span class="btn left right small"><a href="#" class="retryOrigin">{{str_comp_loadretry}}</a></span> ',error:"<h2>{{str_comp_loaderr}} {{can_retry}} </h2> ",populate:"<h2>{{str_comp_loadpopulate}}</h2> "};},"1.0.0");YUI.add("_shared_module_offscreen_bin_compose_menu_spellcheck",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_compose_menu_spellcheck={base:'<div id="menu-spellcheck" class="optionMenu"> <ul> {{word_suggestions}} </ul> <ul> <li><a href="#" data-action="spellcheck-ignore-all" title="{{str_comp_ignore_all_attr}}"><span>{{str_comp_ignore_all}}</span></a></li> </ul></div>',word_suggestions:'<li><a href="#" data-action="spellcheck-replace"><span>{{word_suggestion}}</span></a></li> '};},"1.0.0");YUI.add("_shared_module_offscreen_bin_compose_modal_cancel_compose",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_compose_modal_cancel_compose={base:'<div id="modal-cancel-compose" class="modal lg"> <h2 class="modal-hd"> {{str_comp_close}} {{_shared_module_offscreen_bin_modal_close_icon}} </h2> <div class="modal-bd"> <span>{{str_comp_close_confirm}}</span> </div> <div class="modal-ft"> {{url}} </div></div>',url:'<span class="btn left right default"><a href="{{url_minty_drafts}}">{{str_comp_savetodrafts}}</a></span><span class="btn left right"><a href="{{url_minty_inbox}}">{{str_comp_abandon}}</a></span><span class="btn left right"><a href="modal-cancel-compose.mu#">{{str_comp_keepwriting}}</a></span> '};},"1.0.0",{requires:["_shared_module_offscreen_bin_modal_close_icon"]});YUI.add("_shared_module_rte_well_content_emoticons_fresh",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_rte_well_content_emoticons_fresh={base:'<div role="tabpanel" class="emoticons-pane optionMenu" id="menu-emoticon"> <ul role="toolbar"> <li role="button" data-value="emoticon_1*{{str_emoticon_happy}}" data-action="emoticon" class="emoticon_1" title="{{str_emoticon_happy}}" tabindex="0"><a></a></li> <li role="button" data-value="emoticon_2*{{str_emoticon_sad}}" data-action="emoticon" class="emoticon_2" title="{{str_emoticon_sad}}"><a></a></li> <li role="button" data-value="emoticon_3*{{str_emoticon_winking}}" data-action="emoticon" class="emoticon_3" title="{{str_emoticon_winking}}"><a></a></li> <li role="button" data-value="emoticon_4*{{str_emoticon_confused}}" data-action="emoticon" class="emoticon_4" title="{{str_emoticon_confused}}"><a></a></li> <li role="button" data-value="emoticon_5*{{str_emoticon_lovestruck}}" data-action="emoticon" class="emoticon_5" title="{{str_emoticon_lovestruck}}"><a></a></li> <li role="button" data-value="emoticon_6*{{str_emoticon_blushing}}" data-action="emoticon" class="emoticon_6" title="{{str_emoticon_blushing}}"><a></a></li> <li role="button" data-value="emoticon_7*{{str_emoticon_tongue}}" data-action="emoticon" class="emoticon_7" title="{{str_emoticon_tongue}}"><a></a></li> <li role="button" data-value="emoticon_8*{{str_emoticon_kiss}}" data-action="emoticon" class="emoticon_8" title="{{str_emoticon_kiss}}"><a></a></li> <li role="button" data-value="emoticon_9*{{str_emoticon_broken_heart}}" data-action="emoticon" class="emoticon_9" title="{{str_emoticon_broken_heart}}"><a></a></li> <li role="button" data-value="emoticon_10*{{str_emoticon_sigh}}" data-action="emoticon" class="emoticon_10" title="{{str_emoticon_sigh}}"><a></a></li> <li role="button" data-value="emoticon_11*{{str_emoticon_wits_end}}" data-action="emoticon" class="emoticon_11" title="{{str_emoticon_wits_end}}"><a></a></li> <li role="button" data-value="emoticon_12*{{str_emoticon_surprise}}" data-action="emoticon" class="emoticon_12" title="{{str_emoticon_surprise}}"><a></a></li> <li role="button" data-value="emoticon_13*{{str_emoticon_angry}}" data-action="emoticon" class="emoticon_13" title="{{str_emoticon_angry}}"><a></a></li> <li role="button" data-value="emoticon_14*{{str_emoticon_cool}}" data-action="emoticon" class="emoticon_14" title="{{str_emoticon_cool}}"><a></a></li> <li role="button" data-value="emoticon_15*{{str_emoticon_devil}}" data-action="emoticon" class="emoticon_15" title="{{str_emoticon_devil}}"><a></a></li> <li role="button" data-value="emoticon_16*{{str_emoticon_crying}}" data-action="emoticon" class="emoticon_16" title="{{str_emoticon_crying}}"><a></a></li> <li role="button" data-value="emoticon_17*{{str_emoticon_straight_face}}" data-action="emoticon" class="emoticon_17" title="{{str_emoticon_straight_face}}"><a></a></li> <li role="button" data-value="emoticon_18*{{str_emoticon_raised_eyebrows}}" data-action="emoticon" class="emoticon_18" title="{{str_emoticon_raised_eyebrows}}"><a></a></li> <li role="button" data-value="emoticon_19*{{str_emoticon_angel}}" data-action="emoticon" class="emoticon_19" title="{{str_emoticon_angel}}"><a></a></li> <li role="button" data-value="emoticon_20*{{str_emoticon_nerd}}" data-action="emoticon" class="emoticon_20" title="{{str_emoticon_nerd}}"><a></a></li> <li role="button" data-value="emoticon_21*{{str_emoticon_phbbbbt}}" data-action="emoticon" class="emoticon_21" title="{{str_emoticon_phbbbbt}}"><a></a></li> <li role="button" data-value="emoticon_22*{{str_emoticon_wave}}" data-action="emoticon" class="emoticon_22" title="{{str_emoticon_wave}}"><a></a></li> <li role="button" data-value="emoticon_23*{{str_emoticon_rolling_eyes}}" data-action="emoticon" class="emoticon_23" title="{{str_emoticon_rolling_eyes}}"><a></a></li> <li role="button" data-value="emoticon_24*{{str_emoticon_sick}}" data-action="emoticon" class="emoticon_24" title="{{str_emoticon_sick}}"><a></a></li> <li role="button" data-value="emoticon_25*{{str_emoticon_shh}}" data-action="emoticon" class="emoticon_25" title="{{str_emoticon_shh}}"><a></a></li> <li role="button" data-value="emoticon_26*{{str_emoticon_party}}" data-action="emoticon" class="emoticon_26" title="{{str_emoticon_party}}"><a></a></li> <li role="button" data-value="emoticon_27*{{str_emoticon_yawn}}" data-action="emoticon" class="emoticon_27" title="{{str_emoticon_yawn}}"><a></a></li> <li role="button" data-value="emoticon_28*{{str_emoticon_thinking}}" data-action="emoticon" class="emoticon_28" title="{{str_emoticon_thinking}}"><a></a></li> <li role="button" data-value="emoticon_29*{{str_emoticon_laughing}}" data-action="emoticon" class="emoticon_29" title="{{str_emoticon_laughing}}"><a></a></li> <li role="button" data-value="emoticon_30*{{str_emoticon_rofl}}" data-action="emoticon" class="emoticon_30" title="{{str_emoticon_rofl}}"><a></a></li> <li role="button" data-value="emoticon_31*{{str_emoticon_big_grin}}" data-action="emoticon" class="emoticon_31" title="{{str_emoticon_big_grin}}"><a></a></li> <li role="button" data-value="emoticon_32*{{str_emoticon_cowboy}}" data-action="emoticon" class="emoticon_32" title="{{str_emoticon_cowboy}}"><a></a></li> <li role="button" data-value="emoticon_33*{{str_emoticon_wasnt_me}}" data-action="emoticon" class="emoticon_33" title="{{str_emoticon_wasnt_me}}"><a></a></li> <li role="button" data-value="emoticon_34*{{str_emoticon_batting_eyelashes}}" data-action="emoticon" class="emoticon_34" title="{{str_emoticon_batting_eyelashes}}"><a></a></li> <li role="button" data-value="emoticon_35*{{str_emoticon_big_hug}}" data-action="emoticon" class="emoticon_35" title="{{str_emoticon_big_hug}}"><a></a></li> <li role="button" data-value="emoticon_36*{{str_emoticon_smug}}" data-action="emoticon" class="emoticon_36" title="{{str_emoticon_smug}}"><a></a></li> <li role="button" data-value="emoticon_37*{{str_emoticon_worried}}" data-action="emoticon" class="emoticon_37" title="{{str_emoticon_worried}}"><a></a></li> <li role="button" data-value="emoticon_38*{{str_emoticon_whew}}" data-action="emoticon" class="emoticon_38" title="{{str_emoticon_whew}}"><a></a></li> <li role="button" data-value="emoticon_39*{{str_emoticon_talk_to_the_hand}}" data-action="emoticon" class="emoticon_39" title="{{str_emoticon_talk_to_the_hand}}"><a></a></li> <li role="button" data-value="emoticon_40*{{str_emoticon_sleepy}}" data-action="emoticon" class="emoticon_40" title="{{str_emoticon_sleepy}}"><a></a></li> <li role="button" data-value="emoticon_41*{{str_emoticon_loser}}" data-action="emoticon" class="emoticon_41" title="{{str_emoticon_loser}}"><a></a></li> <li role="button" data-value="emoticon_42*{{str_emoticon_not_talking}}" data-action="emoticon" class="emoticon_42" title="{{str_emoticon_not_talking}}"><a></a></li> <li role="button" data-value="emoticon_43*{{str_emoticon_on_the_phone}}" data-action="emoticon" class="emoticon_43" title="{{str_emoticon_on_the_phone}}"><a></a></li> <li role="button" data-value="emoticon_44*{{str_emoticon_daydreaming}}" data-action="emoticon" class="emoticon_44" title="{{str_emoticon_daydreaming}}"><a></a></li> <li role="button" data-value="emoticon_45*{{str_emoticon_clown}}" data-action="emoticon" class="emoticon_45" title="{{str_emoticon_clown}}"><a></a></li> <li role="button" data-value="emoticon_46*{{str_emoticon_silly}}" data-action="emoticon" class="emoticon_46" title="{{str_emoticon_silly}}"><a></a></li> <li role="button" data-value="emoticon_47*{{str_emoticon_drooling}}" data-action="emoticon" class="emoticon_47" title="{{str_emoticon_drooling}}"><a></a></li> <li role="button" data-value="emoticon_48*{{str_emoticon_doh}}" data-action="emoticon" class="emoticon_48" title="{{str_emoticon_doh}}"><a></a></li> <li role="button" data-value="emoticon_49*{{str_emoticon_applause}}" data-action="emoticon" class="emoticon_49" title="{{str_emoticon_applause}}"><a></a></li> <li role="button" data-value="emoticon_50*{{str_emoticon_nail_biting}}" data-action="emoticon" class="emoticon_50" title="{{str_emoticon_nail_biting}}"><a></a></li> <li role="button" data-value="emoticon_51*{{str_emoticon_hypnotized}}" data-action="emoticon" class="emoticon_51" title="{{str_emoticon_hypnotized}}"><a></a></li> <li role="button" data-value="emoticon_52*{{str_emoticon_liar}}" data-action="emoticon" class="emoticon_52" title="{{str_emoticon_liar}}"><a></a></li> <li role="button" data-value="emoticon_53*{{str_emoticon_waiting}}" data-action="emoticon" class="emoticon_53" title="{{str_emoticon_waiting}}"><a></a></li> <li role="button" data-value="emoticon_54*{{str_emoticon_call_me}}" data-action="emoticon" class="emoticon_54" title="{{str_emoticon_call_me}}"><a></a></li> <li role="button" data-value="emoticon_57*{{str_emoticon_cheer}}" data-action="emoticon" class="emoticon_57" title="{{str_emoticon_cheer}}"><a></a></li> <li role="button" data-value="emoticon_58*{{str_emoticon_dizzy}}" data-action="emoticon" class="emoticon_58" title="{{str_emoticon_dizzy}}"><a></a></li> <li role="button" data-value="emoticon_59*{{str_emoticon_cook}}" data-action="emoticon" class="emoticon_59" title="{{str_emoticon_cook}}"><a></a></li> <li role="button" data-value="emoticon_60*{{str_emoticon_eat}}" data-action="emoticon" class="emoticon_60" title="{{str_emoticon_eat}}"><a></a></li> <li role="button" data-value="emoticon_61*{{str_emoticon_give_up}}" data-action="emoticon" class="emoticon_61" title="{{str_emoticon_give_up}}"><a></a></li> <li role="button" data-value="emoticon_62*{{str_emoticon_cold}}" data-action="emoticon" class="emoticon_62" title="{{str_emoticon_cold}}"><a></a></li> <li role="button" data-value="emoticon_63*{{str_emoticon_hot}}" data-action="emoticon" class="emoticon_63" title="{{str_emoticon_hot}}"><a></a></li> <li role="button" data-value="emoticon_64*{{str_emoticon_music}}" data-action="emoticon" class="emoticon_64" title="{{str_emoticon_music}}"><a></a></li> <li role="button" data-value="emoticon_65*{{str_emoticon_puke}}" data-action="emoticon" class="emoticon_65" title="{{str_emoticon_puke}}"><a></a></li> <li role="button" data-value="emoticon_66*{{str_emoticon_sing}}" data-action="emoticon" class="emoticon_66" title="{{str_emoticon_sing}}"><a></a></li> <li role="button" data-value="emoticon_67*{{str_emoticon_catch}}" data-action="emoticon" class="emoticon_67" title="{{str_emoticon_catch}}"><a></a></li> <li role="button" data-value="emoticon_68*{{str_emoticon_exercise}}" data-action="emoticon" class="emoticon_68" title="{{str_emoticon_exercise}}"><a></a></li> <li role="button" data-value="emoticon_69*{{str_emoticon_high_five}}" data-action="emoticon" class="emoticon_69" title="{{str_emoticon_high_five}}"><a></a></li> <li role="button" data-value="emoticon_70*{{str_emoticon_play_game}}" data-action="emoticon" class="emoticon_70" title="{{str_emoticon_play_game}}"><a></a></li> <li role="button" data-value="emoticon_71*{{str_emoticon_search_me}}" data-action="emoticon" class="emoticon_71" title="{{str_emoticon_search_me}}"><a></a></li> <li role="button" data-value="emoticon_72*{{str_emoticon_spooky}}" data-action="emoticon" class="emoticon_72" title="{{str_emoticon_spooky}}"><a></a></li> <li role="button" data-value="emoticon_73*{{str_emoticon_studying}}" data-action="emoticon" class="emoticon_73" title="{{str_emoticon_studying}}"><a></a></li> <li role="button" data-value="emoticon_74*{{str_emoticon_tv}}" data-action="emoticon" class="emoticon_74" title="{{str_emoticon_tv}}"><a></a></li> <li role="button" data-value="emoticon_75*{{str_emoticon_gift}}" data-action="emoticon" class="emoticon_75" title="{{str_emoticon_gift}}"><a></a></li> <li role="button" data-value="emoticon_76*{{str_emoticon_unlucky}}" data-action="emoticon" class="emoticon_76" title="{{str_emoticon_unlucky}}"><a></a></li> <li role="button" data-value="emoticon_77*{{str_emoticon_down_on_luck}}" data-action="emoticon" class="emoticon_77" title="{{str_emoticon_down_on_luck}}"><a></a></li> <li role="button" data-value="emoticon_78*{{str_emoticon_fight}}" data-action="emoticon" class="emoticon_78" title="{{str_emoticon_fight}}"><a></a></li> </ul></div>'};
},"1.0.0");YUI.add("_shared_module_rte_well_content_fontnamesize_fresh",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_rte_well_content_fontnamesize_fresh={base:'<div id="menu-fontnamesize" class="optionMenu rte-menu multicol"> <div id="menu-fontname" class="menu-group column"> <ul> {{intl_fonts}} <li data-action="fontname" data-value="{{str_rte_font_arial_attr}}"><i class="icon"></i><a href="#"><span style="font-family: {{str_rte_font_arial_attr}};">{{str_rte_font_modern}}</span></a></li> <li data-action="fontname" data-value="{{str_rte_font_verdana_attr}}"><i class="icon"></i><a href="#"><span style="font-family: {{str_rte_font_verdana_attr}};">{{str_rte_font_modernwide}}</span></a></li> <li data-action="fontname" data-value="{{str_rte_font_times_attr}}"><i class="icon"></i><a href="#"><span style="font-family: {{str_rte_font_times_attr}};">{{str_rte_font_classic}}</span></a></li> <li data-action="fontname" data-value="{{str_rte_font_bookman_attr}}"><i class="icon"></i><a href="#"><span style="font-family: {{str_rte_font_bookman_attr}};">{{str_rte_font_classicwide}}</span></a></li> <li data-action="fontname" data-value="{{str_rte_font_courier_attr}}"><i class="icon"></i><a href="#"><span style="font-family: {{str_rte_font_courier_attr}};">{{str_rte_font_courier}}</span></a></li> <li data-action="fontname" data-value="{{str_rte_font_garamond_attr}}"><i class="icon"></i><a href="#"><span style="font-family: {{str_rte_font_garamond_attr}};">{{str_rte_font_garamond}}</span></a></li> <li data-action="fontname" data-value="{{str_rte_font_lucida_attr}}"><i class="icon"></i><a href="#"><span style="font-family: {{str_rte_font_lucida_attr}};">{{str_rte_font_lucida}}</span></a></li> </ul> </div> <div id="menu-fontsize" class="menu-group column"> <ul class="varht"> <li data-action="fontsize" data-value="1"><i class="icon"></i><a href="#"><span style="font-size:10px;">{{str_rte_font_size_xxsmall}}</span></a></li> <li data-action="fontsize" data-value="2"><i class="icon"></i><a href="#"><span style="font-size:13px;">{{str_rte_font_size_small}}</span></a></li> <li data-action="fontsize" data-value="3"><i class="icon"></i><a href="#"><span style="font-size:16px;">{{str_rte_font_size_medium}}</span></a></li> <li data-action="fontsize" data-value="5"><i class="icon"></i><a href="#"><span style="font-size:24px;">{{str_rte_font_size_large}}</span></a></li> <li data-action="fontsize" data-value="6"><i class="icon"></i><a href="#"><span style="font-size:32px;">{{str_rte_font_size_xlarge}}</span></a></li> <li data-action="fontsize" data-value="7"><i class="icon"></i><a href="#"><span style="font-size:48px;">{{str_rte_font_size_xxlarge}}</span></a></li> </ul> </div></div> ',intl_fonts:'<li data-action="fontname" data-value="{{font_value}}"><i class="icon"></i><a href="#"><span style="font-family: {{font_value}};">{{font_name}}</span></a></li> '};},"1.0.0");YUI.add("_shared_module_rte_well_tabs_compose_fresh",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_rte_well_tabs_compose_fresh={base:'<div class="rte"> <ul role="tablist" aria-describedby="tablist-instr"> </ul></div>'};},"1.0.0");YUI.add("_shared_module_compose_dropzone",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_compose_dropzone={base:'<div class="compose-droparea"> <div class="dropzone-text"> <span class="icon icon-attachment"></span> <span>{{str_comp_drag_here}}</span> </div></div>'};},"1.0.0");YUI.add("_shared_module_offscreen_bin_compose_menu_list",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_compose_menu_list={base:'<div id="menu-list" class="optionMenu rte-menu"> <ul> <li data-action="insertunorderedlist"><a href="#" title="{{str_rte_bullet_list_attr}}"><i class="icon icon-list-bullets" title="{{str_rte_bullet_list_attr}}"></i></a></li> <li data-action="insertnumberedlist"><a href="#" title="{{str_rte_numbered_list_attr}}"><i class="icon icon-list-numbers" title="{{str_rte_numbered_list_attr}}"></i></a></li> </ul></div>'};},"1.0.0");YUI.add("_shared_module_offscreen_bin_compose_menu_text_align",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_compose_menu_text_align={base:'<div id="menu-text-align" class="optionMenu rte-menu"> <ul> <li data-action="align-l"><a href="#"><i class="icon icon-align-left" title="{{str_rte_align_l}}"></i></a></li> <li data-action="align-c"><a href="#"><i class="icon icon-align-center" title="{{str_rte_align_c}}"></i></a></li> <li data-action="align-r"><a href="#"><i class="icon icon-align-right" title="{{str_rte_align_r}}"></i></a></li> </ul></div>'};},"1.0.0");YUI.add("_shared_module_offscreen_bin_compose_menu_indent",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_compose_menu_indent={base:'<div id="menu-indent" class="optionMenu rte-menu"> <ul> <li data-action="indent"><a href="#" title="{{str_rte_indentation_more_attr}}"><i class="icon icon-indent" title="{{str_rte_indentation_more_attr}}"></i></a></li> <li data-action="outdent"><a href="#" title="{{str_rte_indentation_less_attr}}"><i class="icon icon-outdent" title="{{str_rte_indentation_less_attr}}"></i></a></li> </ul></div>'};},"1.0.0");YUI.add("mail-captcha-turnkey-iframe",function(B){var A=B.namespace("Mail.Captcha.Turnkey").Iframe=function(E,C){this.el=document.createElement("iframe");var D=B.one(this.el);D.setAttribute("frameborder",0);D.setAttribute("scrolling",0);D.setAttribute("width",E);D.setAttribute("height",C);};B.mix(A.prototype,{cleanup:function(){this.el.parentNode.removeChild(this.el);},getDoc:function(){return this.el.contentDocument;},getBody:function(){return this.getDoc().body;},getHead:function(){return this.getDoc().head;},write:function(C){var D=B.common.Utils.unescapeHtml(C);D=D.replace(/http:\/\/l.yimg.com\//g,"https://s.yimg.com/");this.getDoc().write(D);},makeIframeContent:function(C){return""+"<html><head><style>"+(C.css||"")+"</style><script>"+(C.js||"")+"<\/script></head><body>"+(C.html||"")+"</body></html>";},exec:function(E){var C=Array.prototype.slice.call(arguments,1),D=this.getIn(E);if(typeof D!=="function"){throw new Error(typeof(D)+" is not a function");}return D.apply(this,C);},getIn:function(D,C){if(!D){return;}if(!C){C=this.el.contentWindow;}if(typeof D==="string"){D=D.split(".");}if(D.length===1){return C[D[0]];}var E=D.splice(0,1)[0];C=C[E];if(!C){return;}return this.getIn(D,C);},assocIn:function(E,D,C){if(!E){return;}if(!C){C=this.el.contentWindow;}if(typeof E==="string"){E=E.split(".");}if(E.length===1){C[E[0]]=D;return(C[E[0]]);}var F=E.splice(0,1)[0];C=C[F]||(C[F]={});return this.assocIn(E,D,C);}});},"0.0.1",{requires:["node","common-utils"]});YUI.add("mail-captcha-turnkey-view",function(E){var B=350,C=180,A='<div style="width:'+B+"px;height:"+C+'px;"></div>',F={X:50,Y:130};var D=E.namespace("Mail.Captcha.Turnkey").View=function(G){var H=this;this.markup=G.markup;this.script=G.script;this.css=G.css;this.el=document.createElement("div");this.yel=E.one(this.el);this.iframe=new E.Mail.Captcha.Turnkey.Iframe(B,C);this._onComplete=E.bind(this._onComplete,this);this._onReject=E.bind(this._onReject,this);this.content=G.content;E.Object.each(this.events,function(I,J){H.yel.on(J,E.bind(H[I],H));});};E.mix(D.prototype,{COMPLETE_CALLBACK:"YAHOO.CAPTCHA.hook.complete",REJECT_CALLBACK:"YAHOO.CAPTCHA.hook.reject",TEMPLATE:'<div class="captcha-iframe"></div>',events:{"click":"_submitHandler"},_submitHandler:function(){this.injectCallbacks();this.iframe.exec("YAHOO.CAPTCHA.hook");if(this.captchaDlg){this.captchaDlg.destroy();}},_createCaptchaDialog:function(I){var J=this,G={hd:strings.str_comp_captcha_modal_header,bd:A,centered:true},H={ok:{handler:I.okCallback,stopDestroy:true},cancel:{handler:I.cancelCallback,stopDestroy:false}};E.common.ui.DialogHelper.confirm(G,H,function(L){var K=L._parentNode.one(".modal-bd");L.set("width",I.width+"px");L.set("height",I.height+"px");L._parentNode.one(".modal").setStyle("width",I.width+"px");J.el.innerHTML=J.TEMPLATE;E.one(J.el).one(".captcha-iframe").appendChild(J.iframe.el);K.setContent("");K.appendChild(J.el);J.embedTurnkeyCaptcha();if(typeof(I.createdCallback)==="function"){I.createdCallback(L);}});},_createInvisibleCaptcha:function(){this.invisibleCaptchanNode=E.Node.create('<div class="invisible-captcha-node"></div>');this.invisibleCaptchanNode.appendChild(this.iframe.el);E.one("body").appendChild(this.invisibleCaptchanNode);this.embedTurnkeyCaptcha();this._submitHandler();E.all(".invisible-captcha-node").setStyle("display","none");},render:function(){var H=this,G={okCallback:E.bind(this._submitHandler,this),cancelCallback:function(I){H._reject(I);},width:(B+F.X),height:(C+F.Y),createdCallback:function(I){H.captchaDlg=I;}};if(H.content.Mode==="invisible"){H._createInvisibleCaptcha();}else{H._createCaptchaDialog(G);}},invoke:function(H,G){this._resolve=H;this._reject=G;},embedTurnkeyCaptcha:function(){var G=this.iframe.makeIframeContent({html:this.markup,css:this.css,js:this.script});this.iframe.write(G);},injectCallbacks:function(){this.iframe.assocIn(this.COMPLETE_CALLBACK,this._onComplete);this.iframe.assocIn(this.REJECT_CALLBACK,this._onReject);},cleanup:function(){this.el.parentNode.removeChild(this.el);},_onComplete:function(G){this._resolve(G);},_onReject:function(G){this._reject(G);}});},"0.0.1",{requires:["common-ui-dialog-helper","mail-captcha-turnkey-iframe","oop","node"]});YUI.add("mail-views-send-validation-error-handlers",function(e){function t(e){this.composeView=e}t.prototype={SEND_STATES:{ADDRESS_INVALID:"addInvld",ADDRESS_EMPTY:"addEmpty",SUBJECT_AND_CONTENT_INVALID:"sbCntInvld",SPAM_DETECTED:"spame"},_makeInvalidAddressMessage:function(t){return strings.str_comp_invalidAddressA+"<br><br>"+e.common.Utils.escapeHtml(t)+"<br><br>"+e.common.Utils.substitute(strings.str_comp_invalidAddressB,null,null,null,strings)},handleAddressInvalid:function(e){var t=strings.str_comp_title_invalidAddr,n=this._makeInvalidAddressMessage(e);this.composeView._alertProblem(t,n),this.composeView.lastSendState=this.SEND_STATES.ADDRESS_INVALID},handleNoRecipients:function(){var t=strings.str_comp_title_emptyToField,n=strings.str_comp_emptyToField;this.composeView._alertProblem(t,n),this.composeView._registerFocus(e.one("#to-field")),this.composeView.lastSendState=this.SEND_STATES.ADDRESS_EMPTY},handleTooManyRecipients:function(){var e=strings.str_comp_dialogheader,t=strings.str_comp_send_toomanyrecipients;this.composeView._alertProblem(e,t)},handleUploadInProgress:function(){var e=strings.str_comp_dialogheader,t=strings.str_comp_still_uploading;this.composeView._alertProblem(e,t)},handleBadAttachments:function(e){var t=e?strings.str_rte_attachments_alert_virus_title:strings.str_comp_dialogtitle_invalidSendAttachments,n=e?strings.str_rte_attachments_alert_virus:strings.str_comp_dialogbody_invalidSendAttachments;this.composeView._alertProblem(t,n)},handleEmptyMessage:function(t,n){var r=strings.str_modal_send_msg_title,i=strings.str_comp_invalidSubject,s=strings.str_comp_send,o=this;this.composeView.confirm(r,i,function(){t()},function(){n(),o.composeView.restoreAfterDialog(e.one("#subject-field"))},s),this.composeView.lastSendState=this.SEND_STATES.SUBJECT_AND_CONTENT_INVALID},handleSpame:function(){var e=strings.str_comp_title_spame,t=strings.str_comp_spame_general;this.composeView._alertProblem(e,t),this.composeView.lastSendState=this.SEND_STATES.SPAM_DETECTED},handleCaptcha:function(t,n,r){r.captchaAnswer=null;var i=r.captcha.captchaPayload.createResponse.Content,s=new e.Mail.Captcha.Turnkey.View({markup:i.Turnkey,script:i.Javascript.CONTENT,css:i.CSS.CONTENT,content:i});(new Promise(function(e,t){s.render(),s.invoke(e,t)})).then(function(e){r.captchaAnswer=e,t()})["catch"](n)},handleNewRecipients:function(t,n,r){var i=e.mail.Controller.ReplyProcessor,s=r.draft,o={to:s.to,cc:s.cc},u,a;u=i.getParentMsg(s,{fetchGDM:!0}),u.then(function(f){var l=new e.Mail.Models.Serializers.DraftGdmUnserializer,c={},h={},p,d,v;c.oMsg=f,c.action="reply_all",c.fid=e.common.Utils.getVal(s,"origin.parentMsg.fid"),p=i.getHeaderContent(c),d=i.matchRecipients(o,p),d.hasNewRecipients&&l.hasNonInlineAttachments(c.oMsg)?(a={ok:function(){e.fire("mt:click",{action:"cmps_dlg_attch_rply_ok"}),l.addNonInlineAttachments(s,f),r&&(r.attachOnSend=!0),t()},cancel:function(r){v=e.common.Utils.getVal(r,"item").hasClass("icon")&&e.common.Utils.getVal(r,"item").hasClass("close"),v?(e.fire("mt:click",{action:"cmps_dlg_attch_rply_cls"}),n()):(e.fire("mt:click",{action:"cmps_dlg_attch_rply_no"}),t()),t()}},h={hd:strings.str_comp_new_recipient_added,bd:strings.str_comp_new_recipient_body,suppressRestoreFocus:!0},e.common.ui.DialogHelper.confirm(h,{ok:{text:strings.str_comp_new_recipient_dialogue_ok_button,handler:a.ok},cancel:{text:strings.str_comp_new_recipient_dialogue_cancel_button,handler:a.cancel}})):t(f)},function(t){n(t)})}},e.namespace("mail.Views").SendValidationErrorHandlers=t},"1.0.0",{requires:["common-utils","node","mail-captcha-turnkey-view","mail-controller-reply-processor","mail-models-serializers-draft-gdm-unserializer"]});
YUI.add("mail-ui-composetictacapi",function(e){function o(e){var t=[],n=e.map(function(e,n){var r=e.label,i=e.className||"";if(i!=="parent-attach-file")return'<li class="'+i+'" role="presentation">'+'<a role="menuitem" data-action="'+n+'" tabindex="-1">'+r+"</a></li>";t.push(u(e))});return n.unshift("<ul>"),n.push("</ul>"),t.unshift(n.join("")),t.join("")}function u(e){var t=e.className,n=e.label,r=0;return'<ul><li class="'+t+'" role="presentation">'+'<a role="menuitem" data-action="attachFromParent" tabindex="-1">'+n+"</a></li> </ul>"}function a(e){var t=this;t._handles=[],t.editor=e,t.editor.once("ready",function(){s.get("composeEditor").forEach(t._plugEditorPlugin,t),t._handles.push(s.on("added:composeEditor",t._plugEditorPlugin,t))})}var t=e.common.ui.MenuHelper,n=e.mail.Controller.ReplyProcessor,r=e.common.Utils.features,i=e.common.Utils,s=e.Mail.Services.Plugins;a.prototype={render:function(e){var t=this;t._parent=e,t._renderMenu(),t._handles.push(s.on("added:composeUploader",t._renderMenu,t))},bindUI:function(){},destroy:function(){var e=this;e._menuContainer&&(e._menuContainer.remove(),e._menuContainer.destroy(!0)),e._handles.forEach(function(e){e.detach()})},_plugEditorPlugin:function(e){var t=this;e.getPlugin().then(function(e){if(r.enabled("enhancrV2")&&e.NAME==="cards")return;t.editor.getRTE().plug(e)})},_attachFromComputerMenuitem:function(){var e=this;return{label:strings.str_comp_attachment_from_computer,className:"menu-attach-file-from-computer",choose:function(){return window.setTimeout(function(){e._parent.one("#attachment-button-input").getDOMNode().click()},1),Promise.resolve([])}}},_attachFromRecentAttachments:function(){var e=this;return e._composeAssistLoaded=!1,{label:strings.str_comp_browse_recent_attachments,className:"menu-attach-file-from-recent-attachments",choose:function(e){var t=e.editor.composeView,n,r;return new Promise(function(e){function i(){t.fire("composeAssist:submitQuery",{query:"",mime:"docs"})}t.fire("showComposeAssist",{clickSource:"attachFromCompose"}),i(),r=t.on("composeAssist:rootMounted",function(){i(),clearTimeout(n),r.detach()}),n=setTimeout(function(){r.detach()},1e4),e({})})}}},_showIncludeOriginalAttachOptn:function(t){var r=this,s=i.getVal(r,"editor.composeView.draft"),o=i.getVal(r,"editor.composeView.draft.origin"),a=i.getVal(o,"action"),f,l,c,h,p,d;c=e.common.Utils.getVal(s,"attachments"),c.forEach(function(e){e.isInline()||(l=!0)}),a==="edit"&&!l&&(d=s.makeInReplyTo(),i.getVal(d,"replied")&&(a="reply_sender")),p=n.getParentMsg(s,{fetchGDM:!1}),p.then(function(n){var i=0,s,o;if(!n)return;s=n.attachments;for(i=0;i<s.length;i++){o=s[i];if(o.disposition!=="inline"&&o.referencedInline!==!0){h=!0;break}}r._menuContainer&&(!l&&h&&a==="reply_all"||a==="reply_sender")&&(t.push(r._includeParentAttachment()),r._menuContainer.append(u(r._includeParentAttachment())))},function(t){})},_includeParentAttachment:function(){var t=this,r=i.getVal(t,"editor.composeView.controller"),s;return{label:strings.str_comp_attach_parent,className:"parent-attach-file",attachmentHandler:function(){var i=t.editor.rte.composeView.draft;s=n.includeAttachment(i,{fetchGDM:!0}),s.then(function(){var n=e.one(".parent-attach-file");n&&(n.addClass("disabled"),r.attachInReply=!1),Promise.resolve([])},function(){Promise.reject([])})}}},_renderMenu:function(){var n=this,u=i.getVal(n,"editor.composeView.draft.origin");n._uploaders=s.get("composeUploader");if(n._uploaders.length===0)return;window.FormData&&window.FileReader&&(r.enabled("attachFromAnotherEmail")&&n._uploaders.unshift(n._attachFromRecentAttachments()),n._uploaders.unshift(n._attachFromComputerMenuitem())),r.enabled("attachInReply")&&e.common.Utils.getVal(u,"parentMsg.flags.hasAttachment")&&n._showIncludeOriginalAttachOptn(n._uploaders),n._menuContainer&&(n._menuContainer.remove(),n._menuContainer.destroy(!0)),n._menuBtn=n._parent.one(".attach-btn-menu"),n._menuBtn.removeClass("hidden"),n._menuBtn.on("click",function(r){t.create(r.currentTarget,{menu:n._menuContainer,blur:!0},function(){r.preventDefault(),n._menuContainer.on("menuSelected",function(t){var r,i=t&&t.item&&t.item.get("parentNode")._node,s=n._uploaders.length;i&&(i.className.indexOf("attach-flickr")!==-1?e.fire("mt:click",{action:"cmps_attflk",append:{t1:"cmpsTb"}}):i.className.indexOf("attach-dropbox")!==-1?e.fire("mt:click",{action:"cmps_attlgfl",append:{t1:"cmpsTb"}}):i.className.indexOf("attach-file-from-computer")!==-1&&e.fire("mt:click",{action:"cmps_attflmnu",append:{t1:"cmpsTb"}})),t.dataAction==="attachFromParent"?(r=e.one(".parent-attach-file"),r&&!r.hasClass("disabled")&&(e.fire("mt:click",{action:"cmps_attchReply_mnu"}),n._uploaders[s-1].attachmentHandler())):n._uploadMenuOptionSelected(t.dataAction)})})}),n._menuContainer=e.Node.create('<div class="optionMenu"></div>'),n._menuContainer.append(o(n._uploaders)),e.one("body").append(n._menuContainer)},_uploadMenuOptionSelected:function(e){var t=this,n=t._uploaders[e];n.choose(t).then(function(e){t.editor.getRTE().fire("cardify",e.cardInfo,e.type)},function(){})}},e.namespace("mail.Views").ComposeTictacApi=a},"1.0.0",{requires:["event-custom","common-ui-menu-helper","mail-services-plugins","mail-controller-reply-processor","mail-common-utils-features"]});
YUI.add("rte-file-utils",function(e){var t="Files",n={dragObjContainsFiles:function(e){var t=0;if(e.dataTransfer.types)for(t=0;t<e.dataTransfer.types.length;t++)if(e.dataTransfer.types[t]==="Files")return!0;return!1},dragObjContainsOnlyImages:function(e){var t=0,n;if(!e.dataTransfer||!e.dataTransfer.types||!e.dataTransfer.items&&!e.dataTransfer.files)return!1;n=e.dataTransfer.items||e.dataTransfer.files;for(t=0;t<n.length;t++)if(n[t].type.indexOf("image")!==0)return!1;return!0},dragShouldShowDropzone:function(n,r,i){var s=0,o={},u=!1,a=!1,f=e.mail.DataTransferUtils,l,c,h;if(f){if(f.hasData(t,n)||f.hasData("showdroptarget",n))u=!0,a=f.hasData(t,n);for(l in i)o[i[l]]=f.hasData(i[l],n);r&&typeof r=="function"&&!f.hasData(t,n)&&(u=u&&r(o))}else{if(n.dataTransfer.types){c=n.dataTransfer.types.length;for(s=0;s<c;s++){h=n.dataTransfer.types[s];if(h===t||h==="showdroptarget")u=!0,h===t&&(a=!0);o[h]=!0}}r&&!a&&(u=u&&r(o))}return u},dragObjectIsOnlyText:function(e){var t=0,n=e.dataTransfer,r;if(n&&n.types)for(t=0;t<n.types.length;t++){r=n.types[t];if(r!=="text/plain"&&r!=="text/html"&&r!=="text/_moz_htmlinfo"&&r!=="text/_moz_htmlcontext"&&r.toLowerCase()!=="text"&&r.toLowerCase()!=="public.utf8-plain-text"&&n.getData(r))return!1}return!0},getFilteredFile:function(e,t){var n=e.dataTransfer&&e.dataTransfer.files||[],r=[];return n=[].slice.call(n),r=n.filter(function(e){switch(t){case"image":return e.type.indexOf("image")>=0;case"nonimage":return e.type.indexOf("image")<0;default:return!0}}),r},inlineImageEnabled:function(){return window.FileReader&&window.URL&&e.mail.Core.feature("inlineimage").isOn()&&e.mail.Core.feature("ymrte").isOn()},canProcessImage:function(e){return e.dataTransfer&&e.dataTransfer.types&&window.FileReader&&window.URL?!0:!1},doesClipboardContainFiles:function(e){var n=e.clipboardData&&e.clipboardData.types;return n&&n.length>0?(n=Array.prototype.slice.call(n,0),n&&n.indexOf(t)>=0?!0:!1):!1},getFileFromDataURI:function(e){var t=e.match(/^data:(.+)?;(.+?),/),n,r,i,s,o,u,a;if(!t||!window.atob)return null;i=e.split(",")[1],t[2]==="base64"?n=atob(i):n=window.unescape(i),u=n.length,r=t[1],s=new Uint8Array(u);for(o=0;o<u;o++)s[o]=n.charCodeAt(o);return a=new Blob([s],{type:r}),a.name="datauri-file."+r.substring(6),a},getFilesfrmDragObj:function(e){return e.dataTransfer.files||[]},getImageFilesfrmClipBoard:function(e){var t=0,n=[],r,i;i=e.clipboardData.items||e.clipboardData.files;for(t=0;t<i.length;t++){r=i[t].getAsFile?i[t].getAsFile():i[t];if(!(r&&r.type.indexOf("image")>=0))return[];r.name="blob.jpg",n.push(r)}return n}};e.namespace("mail.rte").fileUtil=n},"0.0.1",{requires:[]});
YUI.add("_shared_module_compose_signature_tweet",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_compose_signature_tweet={base:'<br><table role="presentation" class="yahoo-compose-assist-card ymail-preserve-class" style="table-layout:fixed;font-family:Arial;font-size:13px;border:1px solid #e6e6e6;background-color:white;width:300px;border-spacing:0!important;border-spacing:0;color:black"> <tr>  <td style="padding:15px 15px 10px 15px"> <table style="table-layout:fixed;border-collapse:collapse;width:100%;font-family:Arial;font-size:13px"> <tr>  <td style="width:36px;padding-right:10px"><a title="{{str_hovercard_twitter_profile}}" rel="nofollow noreferrer" href="https://twitter.com/{{accountHandle}}"><img border="0" width="36" height="36" class="yahoo-ignore-inline-image" src="{{profileImgUrl}}"></a></td> <td style="width:202px;vertical-align:top">  <div><a title="{{str_hovercard_twitter_profile}}" rel="nofollow noreferrer" style="color:#444;font-weight:bold;text-decoration:none!important;text-decoration:none" href="https://twitter.com/{{accountHandle}}">{{userName}}</a></div> <a title="{{str_hovercard_twitter_profile}}" rel="nofollow noreferrer" style="color:#b2b2b2;text-decoration:none!important;text-decoration:none" href="https://twitter.com/{{accountHandle}}">@{{accountHandle}}</a></div> </td>  <td style="width:10%;text-align:right;vertical-align:top"><a title="{{str_comp_signature_twitter_link}}" href="https://twitter.com" rel="nofollow noreferrer"><img class="yahoo-ignore-inline-image" border="0" width="16" height="16" src="https://s.yimg.com/nq/a/img/twitter32_2.png"></a></td> </tr> </table> </td> </tr> <tr><td style="white-space:pre-wrap;word-wrap:break-word;width:100%;padding:0 15px">{{tweetText}}</td></tr> <tr>  <td style="padding:10px 15px"> <table style="table-layout:fixed;border-collapse:collapse;width:100%;font-family:Arial"> <tr> <td style="width:70%"><a style="color:#b2b2b2;font-size:11px;text-decoration:none!important;text-decoration:none" title="{{str_comp_signature_twitter_tweet_permalink}}" href="https://twitter.com/{{accountHandle}}/status/{{tweetId}}">{{tweetDate}}</a></td>  <td style="text-align:left"><a title="{{str_comp_signature_twitter_reply}}" rel="nofollow noreferrer" href="https://twitter.com/intent/tweet?in_reply_to={{tweetId}}"><img border="0" width="16" height="16" class="yahoo-ignore-inline-image" src="https://s.yimg.com/nq/a/img/twitter_reply16_1.png"></a></td> <td style="text-align:center"><a title="{{str_comp_signature_twitter_retweet}}" rel="nofollow noreferrer" href="https://twitter.com/intent/retweet?tweet_id={{tweetId}}"><img border="0" width="16" height="16" class="yahoo-ignore-inline-image" src="https://s.yimg.com/nq/a/img/twitter_retweet16_1.png"></a></td> <td style="text-align:right"><a title="{{str_comp_signature_twitter_favorite}}" rel="nofollow noreferrer" href="https://twitter.com/intent/favorite?tweet_id={{tweetId}}"><img border="0" width="16" height="16" class="yahoo-ignore-inline-image" src="https://s.yimg.com/nq/a/img/twitter_favorite16_1.png"></a></td> </td> </tr> </table> </td> </tr></table>'}},"1.0.0");
/*
YUI 3.16.0-ym19 (build 3.16.0-ym19)
Copyright 2016 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("querystring-stringify",function(e,t){var n=e.namespace("QueryString"),r=[],i=e.Lang;n.escape=encodeURIComponent,n.stringify=function(e,t,s){var o,u,a,f,l,c,h=t&&t.sep?t.sep:"&",p=t&&t.eq?t.eq:"=",d=t&&t.arrayKey?t.arrayKey:!1;if(i.isNull(e)||i.isUndefined(e)||i.isFunction(e))return s?n.escape(s)+p:"";if(i.isBoolean(e)||Object.prototype.toString.call(e)==="[object Boolean]")e=+e;if(i.isNumber(e)||i.isString(e))return n.escape(s)+p+n.escape(e);if(i.isArray(e)){c=[],s=d?s+"[]":s,f=e.length;for(a=0;a<f;a++)c.push(n.stringify(e[a],t,s));return c.join(h)}for(a=r.length-1;a>=0;--a)if(r[a]===e)throw new Error("QueryString.stringify. Cyclical reference");r.push(e),c=[],o=s?s+"[":"",u=s?"]":"";for(a in e)e.hasOwnProperty(a)&&(l=o+a+u,c.push(n.stringify(e[a],t,l)));return r.pop(),c=c.join(h),!c&&s?s+"=":c}},"3.16.0-ym19",{requires:["yui-base"]});
YUI.add("xobni-utilities",function(e){"use strict";var t=e.common.Utils,n=e.common.net.Session,r="NO_YMREQID_LOADED",i="prodxobni.mail.yahoo.com",s;s=function(){function a(){return n.genReqID?n.genReqID():r}var s,o,u;o=function(){var e;return t.features.enabled("xobniUE",!1)?e=t.settings.value("unifiedEdgeURL")+t.settings.value("xobniUEPath"):e="https://"+t.settings.value("xobniDomain",i),{url:e,xdr:{use:"native",credentials:!0}}},s=function(){return{appid:t.settings.value("appid"),wssid:NeoConfig.wssid,ymreqid:a()}},u=function(){var t=this,n=t.getXobniBaseURL(),r,i=s(),o;return NeoConfig.isCorpmail&&(i.onboard="true"),r=n.url+"/pachinko/v2/xobnified?",o=e.QueryString.stringify(i),o&&(r+=o),{url:r,xdr:n.xdr}},e.mix(this,{getDefaultParams:s,getXobniBaseURL:o,getXobnifiedUrlObj:u})},e.namespace("xobniContacts"),e.xobniContacts.Utils=new s},"1.0.0",{requires:["querystring-stringify","common-utils","common-net-session","mail-common-utils-settings"]});
YUI.add("isXobnifiedCheck",function e(t){function p(n){e.isXobniAvailable=n,t.fire(s,n)}function d(n){e.isXobnified=n,t.fire(o,n)}function v(){n.ymmastats.stat("xobni_call_result","success="+e.isXobniAvailable+",xobnified="+e.isXobnified)}var n=t.common.Utils,r=t.mail.persist.MetaData,i=t.namespace("xobniContacts"),s="xobni:xobniStatusDetermined",o="xobni:xobnifiedDetermined",u="isXobnified",a=r.get(u),f='"ready"',l=0,c,h;NeoConfig.isXobniOverride==="yes"?e.isXobnified=!0:NeoConfig.isXobniOverride==="no"&&(e.isXobnified=!1),t.Lang.isUndefined(e.isXobnified)?(h=t.xobniContacts.Utils.getXobnifiedUrlObj(),c={timeout:5e3,xdr:h.xdr,on:{success:function(t,n){p(!0),a||(d(n.responseText===f),e.isXobnified&&(r.set(u,!0),r.save())),v()},failure:function(){if(l>=1){a||d(!1),p(!1),v();return}l++,setTimeout(function(){t.io(h.url,c)},500)},complete:function(){var e=window.performance,n={m:"xobni_request_latency",browserInfo:NeoConfig.browser,colo:NeoConfig.colo,farm:NeoConfig.farm,retryNum:l},r=["startTime","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd","duration"],i;e&&e.getEntriesByName&&(i=e.getEntriesByName(h.url).pop(),i&&(r.forEach(function(e){n[e]=i[e]}),t.fire("MailLog",n)))}}},a&&d(!0),t.io(h.url,c)):t.fire(o,e.isXobnified),i.isXobnified=function(n){return typeof n=="function"&&(e.isXobnified===undefined?t.once(o,function(){n(e.isXobnified)}):n(e.isXobnified)),e.isXobnified},i.isXobniAvailable=function(n){return typeof n=="function"&&(typeof e.isXobniAvailable=="undefined"?t.once(s,function(){n(e.isXobniAvailable)}):n(e.isXobniAvailable)),e.isXobniAvailable},i.isXobnifiedAndAvailable=function(t){return typeof t=="function"&&i.isXobnified(function(e){e?i.isXobniAvailable(t):t(e)}),e.isXobnified&&e.isXobniAvailable}},"1.0.0",{requires:["io-base","common-utils","xobni-utilities","ymma-stats","mail-persist-meta-data"]});
YUI.add("xobni-contacts-search-api",function(e){function u(e){var t;try{e&&e.responseText&&e.responseText.length&&(t=i.json.tryParse(e.responseText))}catch(n){typeof globals!="undefined"&&globals.report?globals.report("caughterror:..-build-comms-shared-src-xobniContacts-xobni-contacts-search-api:1",n,"TRY_CATCH",1,1,1):window.console&&console.log&&console.log("caughterror:..-build-comms-shared-src-xobniContacts-xobni-contacts-search-api:1")}return t}function a(){return s.stringify(t.getDefaultParams())}var t=e.xobniContacts.Utils,n=t.getXobniBaseURL(),r=e.common.Utils.ymmastats,i=e.common.Utils,s=e.QueryString,o;e.namespace("xobniContacts").searchAPI={fetch:function(i,s,a){var f=i.timeout||2e3,l="limit"in i?i.limit:5,c,h,p,d;return c=n.url+"/v4/contacts/s?",h=e.mix(t.getDefaultParams(),{q:i.query,l:i.limit||l}),p=e.QueryString.stringify(h),o=Date.now(),d={on:{success:function(t,n){var i=u(n),a=i&&e.Lang.isArray(i.r)?i.r:[];r.stat("xobni_contacts_s_latency","","milliseconds","duration",Date.now()-o),s&&s(a)},failure:function(e,t){t.statusText!=="abort"&&(t.statusText==="timeout",a&&a())}},timeout:f},n.xdr&&(d.xdr=n.xdr),i.origin?r.stat("search_xobnicontact","type=>searchsuggestion"):r.stat("search_xobnicontact","type=>normal"),e.io(c+p,d)},getAllContacts:function(s,a,f){var l=n.url+"/v4/contacts?",c={include_types:"smtp",no_me_contact:!0,count:i.settings.value("restartFlippedAllContactsCount")},h=e.merge(c,s,t.getDefaultParams()),p=e.QueryString.stringify(h),d;return o=Date.now(),d={on:{success:function(t,n){var i=u(n),s=i&&i["total-ranked-contacts-count"],f=i&&i["contacts-with-ranks"];f=e.Lang.isArray(f)?f:[],r.stat("xobni_All_Contacts_latency","","milliseconds","duration",Date.now()-o),r.stat("xobni_All_Contacts_Total","count=>"+s),a&&a(f)},failure:function(e,t){var n=u(t);t.statusText!=="abort"&&t.statusText==="timeout",f(n)}}},n.xdr&&(d.xdr=n.xdr),e.io(l+p,d)},getImportantContacts:function(i,s,a){var f=n.url+"/v4/contacts/important?",l={include_types:"smtp",exclude_known_entities:!0,no_me_endpoint:!0,max_count:20},c=e.merge(l,i,t.getDefaultParams()),h=e.QueryString.stringify(c),p;return o=Date.now(),p={on:{success:function(t,n){var i=u(n),a=i&&i["contacts-with-ranks"];a=e.Lang.isArray(a)?a:[],r.stat("xobni_contacts_important_latency","","milliseconds","duration",Date.now()-o),s&&s(a)},failure:function(e,t){var n=u(t);t.statusText!=="abort"&&t.statusText==="timeout",a(n)}}},n.xdr&&(p.xdr=n.xdr),e.io(f+h,p)},edit:function(t,i,s){var f,l;return f=n.url+"/v4/contacts/edit?"+a()+"&y-dc=hc-"+NeoConfig.buildNumber,o=Date.now(),l={method:"POST",data:e.JSON.stringify(t.data),headers:{"Content-Type":"text/plain"},on:{success:function(e,t){var n=u(t);r.stat("xobni_edit_latency","","milliseconds","duration",Date.now()-o),i&&i(n)},failure:function(e,t){var n=u(t);s(n)}}},n.xdr&&(l.xdr=n.xdr),e.io(f,l)},removePhoto:function(t,i,s){var f,l;return f=n.url+"/v4/contacts/removePhoto?"+a()+"&y-dc=hc-"+NeoConfig.buildNumber,o=Date.now(),l={method:"POST",data:e.JSON.stringify(t.data),headers:{"Content-Type":"text/plain"},on:{success:function(e,t){var n=u(t);r.stat("xobni_removePhoto_latency","","milliseconds","duration",Date.now()-o),i&&i(n)},failure:function(e,t){var n=u(t);s(n)}}},n.xdr&&(l.xdr=n.xdr),e.io(f,l)},contactsByEp:function(t,i,s){var f,l;return f=n.url+"/v4/contacts/by/ep?"+a()+"&y-dc=hc-"+NeoConfig.buildNumber,o=Date.now(),l={method:"POST",data:e.JSON.stringify({ep:t.eps,is_composing:t.isCompose,enable_tmp:!0,contact_limit:1}),headers:{"Content-Type":"text/plain"},on:{success:function(e,t){var n=u(t);r.stat("xobni_contactsByEp_latency","","milliseconds","duration",Date.now()-o),i&&i(n)},failure:function(e,t){var n=u(t);s(n)}}},n.xdr&&(l.xdr=n.xdr),e.io(f,l)},workflow:function(t,i,s){var f,l;return f=n.url+"/credentials/workflow?source="+t+"&"+a(),o=Date.now(),l={method:"POST",on:{success:function(e,t){var n=u(t);r.stat("xobni_workflow_latency","","milliseconds","duration",Date.now()-o),i&&i(n)},failure:function(e,t){var n=u(t);s(n)}}},n.xdr&&(l.xdr=n.xdr),e.io(f,l)},formatted:function(t,i){var s,f;return s=n.url+"/v4/util/credentials/formatted?"+a(),o=Date.now(),f={on:{success:function(e,n){var i=u(n);r.stat("xobni_formatted_latency","","milliseconds","duration",Date.now()-o),t&&t(i)},failure:function(e,t){var n=u(t);i&&i(n)}}},n.xdr&&(f.xdr=n.xdr),e.io(s,f)},photo:function(i,u,a){var f,l=t.getDefaultParams(),c;return delete l.ymreqid,f=n.url+"/v4/contacts/"+i.id+"/photo?spsize=10X10&badge=true&u="+i.updated+"&y-dc=hc-"+NeoConfig.buildNumber+"&"+s.stringify(l),o=Date.now(),c={method:"GET",on:{success:function(e,t){var n=t.getResponseHeader("x-image-source");r.stat("xobni_photo_latency","","milliseconds","duration",Date.now()-o),u&&u(n)},failure:function(e,t){a&&a()}}},n.xdr&&(c.xdr=n.xdr),e.io(f,c)}}},"1.0.0",{requires:["io-base","querystring-stringify-simple","json","ymma-stats","xobni-utilities","common-utils-jsonparse","common-net-session"]});
YUI.add("common-utils-rapid-clickmap",function(e){e.namespace("common.Utils").RapidCM={ml_srch:["hdr","hdr","srchMlLnk"],ml_srch_sugg:["hdr","hdr","sggstnLnk"],uh_themes_lnk:["hdr","hdr","thmsLnk"],uh_options_lnk:["hdr","hdr","mlOptnsLnk"],uh_msgr_options_lnk:["hdr","hdr","mssngrOptnsLnk"],uh_Calendar_options_lnk:["hdr","hdr","clndrOptnsLnk"],uh_upgrade_lnk:["hdr","hdr","upgrdLnk"],uh_help_lnk:["hdr","hdr","hlpLnk"],uh_feedback_lnk:["hdr","hdr","fdbckLnk"],uh_privacy_lnk:["hdr","hdr","prvcyLnk"],uh_legal_lnk:["hdr","hdr","lglLnk"],uh_copyright_lnk:["hdr","hdr","cpyRghtLnk"],uh_ads_lnk:["hdr","hdr","adsLnk"],uh_fullmail_lnk:["hdr","hdr","fllLnk"],uh_help_upgrade_lnk:["hdr","hdr","upgrdLnk"],mail_search:["hdr","hdr","srchMailBtn"],folder_tab:["tabs","{{activeTab}}","tab"],messageread_tab:["tabs","msgRdTb","tab"],compose_menu_toolbar:["msgLstTlbr","{{activeTab}}","tlbr","cmpsMnu"],compose_menu_toolbar_sel:["msgLstTlbr","{{activeTab}}","tlbr","cmpsMnuSel"],compose_new_nav_toolbar:["msgLstTlbr","{{activeTab}}","tlbr","cmpsBtn"],"tlbr_selectAll-message":["msgLstTlbr","{{activeTab}}","tlbr","selectAll"],tlbr_delete:["msgLstTlbr","{{activeTab}}","tlbr","dltBtn"],tlbr_reply_sender:["msgLstTlbr","{{activeTab}}","tlbr","rplyBtn"],tlbr_reply_all:["msgLstTlbr","{{activeTab}}","tlbr","rplyAllBtn"],tlbr_forward:["msgLstTlbr","{{activeTab}}","tlbr","frwrdBtn"],tlbr_spam:["msgLstTlbr","{{activeTab}}","tlbr","spmBtn"],"tlbr_menubtn-spam":["msgLstTlbr","{{activeTab}}","tlbr","spmMnu"],"tlbr_menusel-spam":["msgLstTlbr","{{activeTab}}","tlbr","spmMnuSel"],"tlbr_menubtn-move":["msgLstTlbr","{{activeTab}}","tlbr","mvMsgMnu"],"tlbr_menusel-move":["msgLstTlbr","{{activeTab}}","tlbr","mvMsgMnuSel"],"tlbr_menubtn-actions":["msgLstTlbr","{{activeTab}}","tlbr","actnMnu"],"tlbr_menusel-actions":["msgLstTlbr","{{activeTab}}","tlbr","actnMnuSel"],"tlbr_select-dd":["msgLstTlbr","{{activeTab}}","tlbr","slctMnuBtn"],"tlbr_menubtn-conv-view":["msgLstTlbr","{{activeTab}}","tlbr","vwMnuBtn"],tlbr_themes:["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","thms"],tlbr_tab:["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","tb"],tlbr_recent:["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","rcnt"],tlbr_date:["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","srtDt"],"tlbr_date-asc":["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","srtDtAsc"],"tlbr_date-desc":["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","srtDtDesc"],tlbr_unRead:["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","srtUnrd"],tlbr_attachment:["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","srtAtt"],"tlbr_sort-flagged":["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","srtFlg"],"tlbr_menusel-conv-view":["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","vwChng"],"tlbr_reply-im":["msgLstTlbr","{{activeTab}}","tlbr","rplyBtn"],"tlbr_menubtn-conv-actions":["msgLstTlbr","{{activeTab}}","tlbr","actnMnu",{t1:"chtTb"}],"tlbr_menusel-conv-actions":["msgLstTlbr","{{activeTab}}","tlbr","actnMnuSel",{t1:"chtTb"}],tlbr_edit:["msgLstTlbr","drftTb","tlbr","edtDrft"],tlbr_notspam:["msgLstTlbr","spmTb","tlbr","ntSpmBtn"],msglist_selectMnu:["msgLst","{{activeTab}}","msgLst","selectMnu"],msglist_retry:["msgLst","{{activeTab}}","msgLst","retry"],flag_message:["msgLst","{{activeTab}}","msgLst","flg"],unflag_message:["msgLst","{{activeTab}}","msgLst","unflg"],msglist_delBtn:["msgLst","{{activeTab}}","msgLst","delBtn"],msglist_archiveBtn:["msgLst","{{activeTab}}","msgLst","archiveBtn"],msglist_sortMnu:["msgLst","{{activeTab}}","msgLst","sortMnu"],open_msg:["msgLst","{{activeTab}}","msgLst","msg"],rt_click_msglst_preview:["msgLst","{{activeTab}}","msgLst","rtClkMenuPreview"],rt_click_msglst:["msgLst","{{activeTab}}","msgLst","rtClkMenu"],click_select:["msgLst","{{activeTab}}","msgLst","slctMsg"],mas_frm_srch:["msgLst","{{activeTab}}","msgLst","frmSrch"],mas_sbj_srch:["msgLst","{{activeTab}}","msgLst","sbjSrch"],msglist_delBtn_thrd:["msgLst","{{activeTab}}","msgLst","delBtnThrd"],msglist_archiveBtn_thrd:["msgLst","{{activeTab}}","msgLst","archiveBtnThrd"],click_select_thrd:["msgLst","{{activeTab}}","msgLst","selThrd"],flag_thrd:["msgLst","{{activeTab}}","msgLst","flgThrd"],unflag_thrd:["msgLst","{{activeTab}}","msgLst","unflgThrd"],expand_thrd:["msgLst","{{activeTab}}","msgLst","expThrd"],retry_expand_thrd:["msgLst","{{activeTab}}","msgLst","retryExpThrd"],collapse_thrd:["msgLst","{{activeTab}}","msgLst","clpseThrd"],flag_thrd_msg:["msgLst","{{activeTab}}","msgLst","thrdLst","flg"],unflag_thrd_msg:["msgLst","{{activeTab}}","msgLst","thrdLst","unflg"],msglist_delBtn_thrd_msg:["msgLst","{{activeTab}}","msgLst","thrdLst","delBtn"],msglist_archiveBtn_thrd_msg:["msgLst","{{activeTab}}","msgLst","thrdLst","archiveBtn"],open_thrd_msg:["msgLst","{{activeTab}}","msgLst","thrdLst","msg"],open_thrd_drftMsg:["msgLst","{{activeTab}}","msgLst","thrdLst","drftMsg"],move_thrd_msg:["msgLst","{{activeTab}}","msgLst","thrdLst","move"],account_switch_primary:["acctLst","leftRail","acctLst","acctSwtchPrmr"],account_switch_external:["acctLst","leftRail","acctLst","acctSwtchExtrnl"],toggle_account_list_expand:["acctLst","leftRail","acctLst","tgglAcctLstExpnd"],toggle_account_list_collapse:["acctLst","leftRail","acctLst","tgglAcctLstCllps"],imap_upsell_generic:["acctLst","leftRail","acctLst","genUpsell"],inbox_fldr:["fldrLst","leftRail","fldrLst","fldrInbx"],conversations_fldr:["fldrLst","leftRail","fldrLst","fldrCnv"],drafts_fldr:["fldrLst","leftRail","fldrLst","fldrDrft"],sent_fldr:["fldrLst","leftRail","fldrLst","fldrSnt"],archive_fldr:["fldrLst","leftRail","fldrLst","fldrArchv"],spam_fldr:["fldrLst","leftRail","fldrLst","fldrSpm"],trash_fldr:["fldrLst","leftRail","fldrLst","fldrTrsh"],inbox_leftnav:["fldrLst","leftRail","fldrLst","inbxBtn"],calendar_leftnav:["fldrLst","leftRail","fldrLst","cldrBtn"],contacts_leftnav:["fldrLst","leftRail","fldrLst","cntctBtn"],notepad_leftnav:["fldrLst","leftRail","fldrLst","ntpdBtn"],msngr_nav:["fldrLst","leftRail","fldrLst","msngrBtn"],custom_expand:["fldrLst","leftRail","fldrLst","cstmexpnd"],custom_collapse:["fldrLst","leftRail"
,"fldrLst","cstmclps"],checkmail_btn:["fldrLst","leftRail","fldrLst","chkMlBtn"],mim_toggle:["fldrLst","leftRail","fldrLst","togYFrnds"],mim_frnd:["fldrLst","leftRail","fldrLst","chtYFrnd"],mim_message_send:["fldrLst","leftRail","fldrLst","mimMsgSnd"],mim_message_receive:["fldrLst","leftRail","fldrLst","mimMsgRcv"],usr_fldr:["fldrLst","leftRail","fldrLst","fldrUser"],toggle_smartviews_collapse:["fldrLst","leftRail","fldrLst","tgglSmtVwsCllps"],toggle_smartviews_expand:["fldrLst","leftRail","fldrLst","tgglSmtVwsExpnd"],emptyspam_btn:["fldrLst","leftRail","fldrLst","emptySpmBtn"],emptytrash_btn:["fldrLst","leftRail","fldrLst","emptyTrshBtn"],fldr_add:["fldrLst","leftRail","fldrLst","fldrAdd"],fldr_edit_close:["fldrLst","leftRail","fldrLst","fldrEdtCls"],fldr_srch_open:["fldrLst","leftRail","fldrLst","fldrSrchOpn"],fldr_srch_close:["fldrLst","leftRail","fldrLst","fldrSrchCls"],fldr_srch:["fldrLst","leftRail","fldrLst","fldrSrch"],cntxt_mnu_fldr:["fldrLst","leftRail","fldrLst","cntxtMnuFldrOpn"],"cntxt_mnu_fldr_itm_folder-new":["fldrLst","leftRail","fldrLst","cntxtMnuFldr","fldrAdd"],"cntxt_mnu_fldr_itm_folder-new-subfolder":["fldrLst","leftRail","fldrLst","cntxtMnuFldr","sbfldrAdd"],"cntxt_mnu_fldr_itm_folder-rename":["fldrLst","leftRail","fldrLst","cntxtMnuFldr","fldrRnm"],"cntxt_mnu_fldr_itm_folder-remove":["fldrLst","leftRail","fldrLst","cntxtMnuFldr","fldrRmv"],"cntxt_mnu_fldr_itm_folder-allread":["fldrLst","leftRail","fldrLst","cntxtMnuFldr","fldrMrkRd"],"cntxt_mnu_fldr_itm_folder-empty-spam":["fldrLst","leftRail","fldrLst","cntxtMnuFldr","fldrMtSpm"],"cntxt_mnu_fldr_itm_folder-empty-trash":["fldrLst","leftRail","fldrLst","cntxtMnuFldr","fldrMtTrsh"],cntxt_mnu_sys_fldr:["fldrLst","leftRail","fldrLst","cntxtMnuSysFldrOpn"],"cntxt_mnu_sys_fldr_itm_folder-new":["fldrLst","leftRail","fldrLst","cntxtMnuSysFldr","fldrAdd"],"cntxt_mnu_sys_fldr_itm_folder-allread":["fldrLst","leftRail","fldrLst","cntxtMnuSysFldr","fldrMrkRd"],"cntxt_mnu_sys_fldr_itm_folder-empty-spam":["fldrLst","leftRail","fldrLst","cntxtMnuSysFldr","fldrMtSpm"],"cntxt_mnu_sys_fldr_itm_folder-empty-trash":["fldrLst","leftRail","fldrLst","cntxtMnuSysFldr","fldrMtTrsh"],cntxt_mnu_fldr_v3:["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3Opn"],"cntxt_mnu_fldr_v3_itm_folder-new":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","fldrAdd"],"cntxt_mnu_fldr_v3_itm_folder-new-subfolder":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","sbfldrAdd"],"cntxt_mnu_fldr_v3_itm_folder-rename":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","fldrRnm"],"cntxt_mnu_fldr_v3_itm_folder-remove":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","fldrRmv"],"cntxt_mnu_fldr_v3_itm_folder-allread":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","fldrMrkRd"],"cntxt_mnu_fldr_v3_itm_folder-empty-spam":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","fldrMtSpm"],"cntxt_mnu_fldr_v3_itm_folder-empty-trash":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","fldrMtTrsh"],"cntxt_mnu_fldr_v3_itm_find-folder":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","fndFldr"],"cntxt_mnu_imap_acct_itm_account-new":["acctLst","leftRail","acctLst","cntxtMnuImpAcctNw"],"cntxt_mnu_imap_acct_itm_account-rename":["acctLst","leftRail","acctLst","cntxtMnuImpAcctRnm"],"cntxt_mnu_imap_acct_itm_account-edit":["acctLst","leftRail","acctLst","cntxtMnuImpAcctEdt"],recentTabs_expand:["fldrLst","leftRail","fldrLst","recentTabs",{ltxt:"expand"}],left_rail_scroll:["fldrLst","leftRail","fldrLst","lftRlScrll"],themechooser_select:["thmDlg","dialog","thmDlg","selectTheme"],themechooser_exit_done:["thmDlg","dialog","thmDlg","done"],themechooser_exit_close:["thmDlg","dialog","thmDlg","close"],themechooser_exit_outside:["thmDlg","dialog","thmDlg","outside"],cmps_tab_cls:["tabs","cmpsTb","tbCls"],tlbr_send:["cmpsTlbr","cmpsTb","tlbr","snd",{t1view:"{{listMode}}"}],tlbr_att_send:["cmpsTlbr","{{activeTab}}","tlbr","attSnd"],msg_send:["cmpsTlbr","cmpsTb","tlbr","sent"],tlbr_cancelcompose:["cmpsTlbr","cmpsTb","tlbr","cncl"],tlbr_savedraft:["cmpsTlbr","cmpsTb","tlbr","svdft"],cmps_addrec:["cmpsHdr","cmpsTb","cmpsHdr","addrec"],cmps_addcc:["cmpsHdr","cmpsTb","cmpsHdr","addcc"],cmps_addbcc:["cmpsHdr","cmpsTb","cmpsHdr","addbcc"],cmps_shwcc:["cmpsHdr","cmpsTb","cmpsHdr","shwcc"],cmps_hdcc:["cmpsHdr","cmpsTb","cmpsHdr","hdcc"],cmps_shwbcc:["cmpsHdr","cmpsTb","cmpsHdr","shwbcc"],cmps_hdbcc:["cmpsHdr","cmpsTb","cmpsHdr","hdbcc"],cmps_rplysndr:["cmpsHdr","cmpsTb","cmpsHdr","rplysndr"],cmps_rplyall:["cmpsHdr","cmpsTb","cmpsHdr","rplyall"],ac_del:["cmpsHdr","cmpsTb","cmpsHdr","ac_del"],ac_select:["cmpsHdr","cmpsTb","cmpsHdr","ac_select"],cmps_emo:["emo","cmpsTb","well"],cmps_fmt:["fmt","cmpsTb","well"],cmps_attch:["attch","cmpsTb","well"],cmps_attchReply_mnu:["attch","cmpsTb","well","attprntmnu"],cmps_attflmnu:["attch","cmpsTb","well","attflmnu"],cmps_attfl:["attch","cmpsTb","well","attfl"],cmps_attlgfl:["attch","cmpsTb","well","attlgfl"],cmps_attflk:["attch","cmpsTb","well","attflk"],"cmps_wl_btn-fontname":["fmt","cmpsTb","well","fnttyp"],"cmps_wl_btn-fontsize":["fmt","cmpsTb","well","fntsz"],cmps_wl_bold:["fmt","cmpsTb","well","bld"],cmps_wl_italic:["fmt","cmpsTb","well","itlcs"],cmps_wl_underline:["fmt","cmpsTb","well","undrln"],"cmps_wl_btn-forecolor":["fmt","cmpsTb","well","fntclr"],"cmps_wl_btn-backcolor":["fmt","cmpsTb","well","fnthglght"],"cmps_wl_align-l":["fmt","cmpsTb","well","algnlft"],"cmps_wl_align-c":["fmt","cmpsTb","well","algnctr"],"cmps_wl_align-r":["fmt","cmpsTb","well","algnrght"],"cmps_wl_btn-indent":["fmt","cmpsTb","well","indent"],"cmps_wl_btn-text-align":["fmt","cmpsTb","well","alignmn"],cmps_wl_indent:["fmt","cmpsTb","well","incindnt"],cmps_wl_outdent:["fmt","cmpsTb","well","decindnt"],cmps_wl_insertunorderedlist:["fmt","cmpsTb","well","bllt"],cmps_wl_insertorderedlist:["fmt","cmpsTb","well","blltOrdr"],cmps_wl_insertnumberedlist:["fmt","cmpsTb","well","num"],cmps_wl_insertlink:["fmt","cmpsTb","well","hyprlnk"],cmps_wl_emoticon:["fmt","cmpsTb","well","emomnu"],cmps_wl_spellcheck:["fmt","cmpsTb"
,"well","spllchk"],"cmps_wl_btn-spell-langs":["fmt","cmpsTb","well","spllchkmnu"],cmps_stchpt:["fmt","cmpsTb","well","stchpt"],cmps_qtd_txt:["cmpsBdy","cmpsTb","cmpsBdy","expndTxt"],"cmps_wl_btn-fontnamesize":["fmt","cmpsTb","well","fntSz"],"cmps_wl_btn-insertunordered":["fmt","cmpsTb","well","blltLstMnu"],cmps_wl_fmt_tlbr:["fmt","cmpsTb","well","fmtTlbr"],cmps_dlg_attch_rply_cls:["rcpntDlg","dialog","rcpntDlg","close"],cmps_dlg_attch_rply_no:["rcpntDlg","dialog","rcpntDlg","no"],cmps_dlg_attch_rply_ok:["rcpntDlg","dialog","rcpntDlg","yes"],stnry_open:["cmpsTlbr","{{activeTab}}","tlbr","stn_open"],stnry_close:["cmpsTlbr","{{activeTab}}","tlbr","stn_close"],stnry_action:["cmpsTlbr","{{activeTab}}","tlbr","stn_actn"],att_cmps_exp:["attch","cmpsTb","well","attExp"],att_cmps_cll:["attch","cmpsTb","well","attCll"],att_cmps_rmv:["attch","cmpsTb","well","attRmv"],att_cmps_nrtn:["attch","cmpsTb","well","attNrtn"],att_cmps_mnu_rmv:["attch","cmpsTb","well","attMnuRmv"],att_cmps_dnd_mlti:["attch","cmpsTb","well","attDndMlti"],db_dropbox_link_ok:["attch","cmpsTb","well","attDbOk"],db_dropbox_link_cancelled:["attch","cmpsTb","well","attDbCnl"],db_dropbox_share_from_activated:["attch","cmpsTb","well","attDbAc"],db_dropbox_alf_enable_ok:["attch","cmpsTb","well","attDbAlfAc"],att_save_to_dropbox:["attch","cmpsTb","well","attSvtDb"],enhancr_autolink_count:["attch","cmpsTb","well","attEnAL"],tlbr_print:["msgReadTlbr","msgRdTb","tlbr","prntBtn"],tlbr_prev:["msgReadTlbr","msgRdTb","tlbr","navBtn",{ltxt:"up"}],tlbr_next:["msgReadTlbr","msgRdTb","tlbr","navBtn",{ltxt:"down"}],tlbr_left:["msgReadTlbr","msgRdTb","tlbr","navBtn",{ltxt:"left"}],tlbr_right:["msgReadTlbr","msgRdTb","tlbr","navBtn",{ltxt:"right"}],"tlbr_menubtn-msg-actions":["msgReadTlbr","msgRdTb","tlbr","actnMnu"],"tlbr_menusel-msg-actions":["msgReadTlbr","msgRdTb","tlbr","actnMnuSel"],"tlbr_thread-toggle":["msgReadTlbr","msgRdTb","tlbr","thrdTgl"],tlbr_closemsg:["msgReadTlbr","msgRdTb","tlbr","clsMsg"],subject:["msgRead","msgRdTb","msgHdr","sbjct"],frm_srch:["msgRead","msgRdTb","msgHdr","frmSrch"],download_paperclip:["msgRead","msgRdTb","msgHdr","dlPcBtn"],lozenge_add:["msgRead","msgRdTb","msgHdr","lzngAddBtn"],lozenge_more:["msgRead","msgRdTb","msgHdr","lzngMoreBtn"],lozenge_menu:["msgRead","msgRdTb","msgHdr","lzngMnu"],details:["msgRead","msgRdTb","msgHdr","dtlsBtn"],read_toggle:["msgRead","msgRdTb","msgHdr","readInfo"],flag:["msgRead","msgRdTb","msgHdr","flg"],retry:["msgRead","msgRdTb","msgBody","retryBtn"],show_images:["msgRead","msgRdTb","msgBody","shwImgBtn"],options:["msgRead","msgRdTb","msgBody","optnBtn"],show_fullmsg:["msgRead","msgRdTb","msgBody","fullMsgBtn"],download_all:["msgRead","msgRdTb","msgBody","dlAllBtn"],download_single:["msgRead","msgRdTb","msgBody","dlSglBtn"],atm_norton:["msgRead","msgRdTb","msgHdr","atmNorton"],atm_slideshow_next:["msgRead","msgRdTb","msgHdr","atmSsNext"],atm_slideshow_prev:["msgRead","msgRdTb","msgHdr","atmSsPrev"],atm_download_thumbnail_selected:["msgRead","msgRdTb","msgHdr","atmDlTnSel"],atm_download_menu_selected:["msgRead","msgRdTb","msgHdr","atmDlMnSel"],atm_download_all_selected:["msgRead","msgRdTb","msgHdr","atmDlAllSel"],atm_slideshow_thumbnail_selected:["msgRead","msgRdTb","msgHdr","atmSsTnSel"],atm_slideshow_file_selected:["msgRead","msgRdTb","msgHdr","atmSsFlSel"],atm_slideshow_photo_selected:["msgRead","msgRdTb","msgHdr","atmSsPhSel"],atm_slideshow_all_selected:["msgRead","msgRdTb","msgHdr","atmSsAllSel"],atm_slideshow_download_single:["msgRead","msgRdTb","msgHdr","atmSsDlSi"],atm_download_success:["msgRead","msgRdTb","msgHdr","atmDlSuc"],atm_download_error_general:["msgRead","msgRdTb","msgHdr","atmDlErrGen"],atm_download_error_json:["msgRead","msgRdTb","msgHdr","atmDlErrJson"],atm_download_success_warnings:["msgRead","msgRdTb","msgHdr","atmDlSucWarns"],atm_download_success_errors:["msgRead","msgRdTb","msgHdr","atmDlSucErrs"],atm_download_success_warning:["msgRead","msgRdTb","msgHdr","atmDlSucWarn"],atm_download_success_error:["msgRead","msgRdTb","msgHdr","atmDlSucErr"],atm_download_success_success:["msgRead","msgRdTb","msgHdr","atmDlSucSuc"],atm_dropbox_saveto_selected:["msgRead","msgRdTb","msgHdr","atmDpSvtSel"],atm_dropbox_saveall_selected:["msgRead","msgRdTb","msgHdr","atmDpSvlSel"],msg_lnk_clk:["msgRead","msgRdTb","msgBody","mLnkClk"],flag_thrd_hdr:["thrdRead","thrdRdTb","thrdHdr","flg"],unflag_thrd_hdr:["thrdRead","thrdRdTb","thrdHdr","unflg"],read_thrd_hdr:["thrdRead","thrdRdTb","thrdHdr","read"],unread_thrd_hdr:["thrdRead","thrdRdTb","thrdHdr","unread"],retry_thrd_hdr:["thrdRead","thrdRdTb","thrdHdr","retryBtn"],flag_thrd_msg_hdr:["thrdRead","thrdRdTb","msg","msgHdr","flg"],unflag_thrd_msg_hdr:["thrdRead","thrdRdTb","msg","msgHdr","unflg"],read_thrd_msg_hdr:["thrdRead","thrdRdTb","msg","msgHdr","read"],unread_thrd_msg_hdr:["thrdRead","thrdRdTb","msg","msgHdr","unread"],expand_thrd_msg_hdr:["thrdRead","thrdRdTb","msg","msgHdr","expMsg"],collapse_thrd_msg_hdr:["thrdRead","thrdRdTb","msg","msgHdr","clpseMsg"],show_images_thrd_msg:["thrdRead","thrdRdTb","msg","msgBody","shwImgBtn"],expand_qtd_thrd_msg:["thrdRead","thrdRdTb","msg","msgBody","expQtd"],collapse_qtd_thrd_msg:["thrdRead","thrdRdTb","msg","msgBody","clpseQtd"],retry_thrd_msg:["thrdRead","thrdRdTb","msg","msgBody","retryBtn"],options_thrd_msg:["thrdRead","thrdRdTb","msg","msgBody","optnBtn"],thrd_msg_lnk_clk:["thrdRead","thrdRdTb","msg","msgBody","tmLnkClk"],reply_sender_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","rplyBtn"],reply_all_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","rplyAllBtn"],quick_reply_sender_tlbr_thrd_msg:["thrdRead","thrdRdTb","msg","qRply","qrRplyBtn"],quick_reply_all_tlbr_thrd_msg:["thrdRead","thrdRdTb","msg","qRply","qrRplyAllBtn"],quick_forward_tlbr_thrd_msg:["thrdRead","thrdRdTb","msg","qRply","qrFwdBtn"],quick_reply_all_thrd_msg:["thrdRead","thrdRdTb","msg","qRply","rplyAllBtn"],forward_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","frwrdBtn"],delete_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","dltBtn"
],actnMnu_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","actnMnu"],spam_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","spamBtn"],print_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","print"],fullheader_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","fullheader"],rawmessage_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","rawmsg"],set_encodings_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","set_encodings"],reply_card_menu_reply_all:["thrdReply","thrdRdTb","compose","thrdReplyHdr","replyAllMenu"],reply_card_menu_reply_sender:["thrdReply","thrdRdTb","compose","thrdReplyHdr","replySenderMenu"],reply_card_menu_forward:["thrdReply","thrdRdTb","compose","thrdReplyHdr","fwdMenu"],"reply_card_switch-to-fullcompose":["thrdReply","thrdRdTb","compose","thrdReplyHdr","switchToTallBtn"],"reply_card_reply-mode-change":["thrdReply","thrdRdTb","compose","thrdReplyHdr","replyModeBtn"],"reply_card_qr-cancel":["thrdReply","thrdRdTb","compose","thrdReplyHdr","cancelBtn"],compose_hdr_close_confirm_cc:["thrdReply","thrdRdTb","compose","thrdReplyHdr","closeCcConfirm"],compose_hdr_close_confirm_bcc:["thrdReply","thrdRdTb","compose","thrdReplyHdr","closeBccConfirm"],srch_flt:["leftRail","srchTb","flt"],srch_tgl:["leftRail","srchTb","tgl"],mb_ad:["msgLst","{{activeTab}}","msgLst","mbAds"],mb_ad_thrd:["msgLst","{{activeTab}}","msgLst","mbAds"],gta_get:["signup","leftRail","mblzr","gta-btn",{cat:"gtaa"}],gta_send:["signup","leftRail","mblzr","send",{cat:"gtaa"}],autosuggest_auth_facebook:["cmpsHdr","cmpsTb","cmpsHdr","asFbFtr"],autosuggest_auth_linkedin:["cmpsHdr","cmpsTb","cmpsHdr","asLiFtr"],autosuggest_auth_twitter:["cmpsHdr","cmpsTb","cmpsHdr","asTwFtr"],autocompose_invoke:["msgLstTlbr","{{activeTab}}","tlbr","autocomposeBtn"],autocompose_refresh:["cmpsTlbr","cmpsTb","tlbr","autocomposeRefresh"],autocompose_friendlylove:["cmpsTlbr","cmpsTb","tlbr","autocomposeFriendlyLove"],autocompose_crazyinlove:["cmpsTlbr","cmpsTb","tlbr","autocomposeCrazyInLove"],autocompose_allouttalove:["cmpsTlbr","cmpsTb","tlbr","autocomposeAllOuttaLove"],autocompose_send:["cmpsTlbr","cmpsTb","tlbr","autocomposeSnd"],autocompose_sendmore:["sentNf","{{activeTab}}","sentNf","autocomposeSndMore"],cmps_ev2_small:["cmpsBdy","cmpsTb","cmpsBdy","enhancrV2"],cmps_ev2_medium:["cmpsBdy","cmpsTb","cmpsBdy","enhancrV2"],cmps_ev2_large:["cmpsBdy","cmpsTb","cmpsBdy","enhancrV2"],cmps_ev2_append:["cmpsBdy","cmpsTb","cmpsBdy","enhancrV2"],cmps_ev2_deappend:["cmpsBdy","cmpsTb","cmpsBdy","enhancrV2"],cmps_ev2_remove:["cmpsBdy","cmpsTb","cmpsBdy","enhancrV2"],cmps_ev2_card_added:["cmpsBdy","cmpsTb","cmpsBdy","enhancrV2"],msgRd_ev2_share_mail:["msgRead","msgRdTb","msgBody","enhancrV2"],msgRd_ev2_share_facebook:["msgRead","msgRdTb","msgBody","enhancrV2"],msgRd_ev2_share_twitter:["msgRead","msgRdTb","msgBody","enhancrV2"],msgRd_ev2_share_tumblr:["msgRead","msgRdTb","msgBody","enhancrV2"],msgRd_ev2_play:["msgRead","msgRdTb","msgBody","enhancrV2"],msgRd_ev2_play_stop:["msgRead","msgRdTb","msgBody","enhancrV2"]}},"1.0.0",{requires:[]});
YUI.add("mail-common-connected-accounts-ult",function(e){e.mix(e.common.Utils.RapidCM,{ln_interstitial:["dialog","dialog","lnkdnDlg","show"],ln_interstitial_close:["dialog","dialog","lnkdnDlg","cls"],linkedin_oauth_popup:["popup","popup","lnkdnOAuth","wndwOpnd"],linkedin_link_done:["popup","popup","lnkdnOAuth","cnnct","done"],linkedin_link_declined:["popup","popup","lnkdnOAuth","cnnct","dclnd"],linkedin_link_error:["popup","popup","lnkdnOAuth","cnnct","err"],linkedin_unlink_done:["popup","popup","lnkdnOAuth","dscnnct","done"],linkedin_unlink_error:["popup","popup","lnkdnOAuth","dscnnct","err"],facebook_oauth_popup:["popup","popup","fcbkOAuth","wndwOpnd"],facebook_link_done:["popup","popup","fcbkOAuth","cnnct","done"],facebook_link_declined:["popup","popup","fcbkOAuth","cnnct","dclnd"],facebook_link_error:["popup","popup","fcbkOAuth","cnnct","err"],facebook_unlink_done:["popup","popup","fcbkOAuth","dscnnct","done"],facebook_unlink_error:["popup","popup","fcbkOAuth","dscnnct","err"],twitter_oauth_popup:["popup","popup","twttrOAuth","wndwOpnd"],twitter_link_done:["popup","popup","twttrOAuth","cnnct","done"],twitter_link_declined:["popup","popup","twttrOAuth","cnnct","dclnd"],twitter_link_error:["popup","popup","twttrOAuth","cnnct","err"],twitter_unlink_done:["popup","popup","twttrOAuth","dscnnct","done"],twitter_unlink_error:["popup","popup","twttrOAuth","dscnnct","err"]})},"1.0.0",{requires:["common-utils-rapid-clickmap"]});
YUI.add("_shared_module_offscreen_bin_modal_connected_accounts",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_offscreen_bin_modal_connected_accounts={base:'<div id="modal-conn-accounts" class="modal"> <h2 class="modal-hd"> {{_shared_module_offscreen_bin_modal_close_icon}} </h2> <div class="modal-bd"> {{oauth_success}} {{oauth_failure}} </div> <div class="modal-ft"> {{_shared_module_offscreen_bin_modal_btn_ok}} </div></div>',fb_disclaimer:"<div>{{str_facebook_disclaimer}}</div> ",tw_disclaimer:'<div>{{str_twitter_disclaimer}}</div> <div class="signature-upsell">{{str_twitter_signature_upsell}}</div> ',ln_disclaimer:"<div>{{str_linkedin_disclaimer}}</div> ",oauth_success:'<div class="header {{service}}"> <span></span> </div> <div class="bd">{{str_oauth_conn_success}}</div> <div class="disclaimer"> {{fb_disclaimer}} {{tw_disclaimer}} {{ln_disclaimer}} </div> ',oauth_failure:'<div class="header"></div> <div class="bd"> <span> {{str_oauth_conn_failed_title}} </span> </div> <div class="disclaimer"> <div>{{str_oauth_conn_failed}}</div> </div> '}},"1.0.0",{requires:["_shared_module_offscreen_bin_modal_close_icon","_shared_module_offscreen_bin_modal_btn_ok"]});
YUI.add("_shared_module_offscreen_bin_notification_refresh_dialog",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_offscreen_bin_notification_refresh_dialog={base:'<div class="nf-container"> <div class="nf-hd">{{str_reconnect_hd}}</div> <div class="nf-bd">{{str_reconnect_msg}}</div> <div class="nf-ft"> <a href="#" data-action="link">{{str_reconnect}}</a> </div></div>'}},"1.0.0");
YUI.add("mail-common-connected-accounts",function(e){var t,n=e.xobniContacts,r=e.common.Utils,i=e.common.net.SessionMgr,s=n.searchAPI,o=e.ui.Templates,u=e.mail.persist.MetaData,a=n.Utils.getXobniBaseURL(),f="/neo/oauth",l=r.substitute,c=o._shared_module_offscreen_bin_modal_connected_accounts,h=o._shared_module_offscreen_bin_notification_refresh_dialog,p="facebook",d="linkedin",v="twitter",m=[p,d,v],g="autosuggesthideFacebookFooter",y="autosuggesthideLinkedinFooter",b="hideLinkedinReconnect",w=r.settings.value("facebook_credstore_spid"),E=r.settings.value("twitter_credstore_spid"),S=r.settings.value("linkedin_credstore_spid"),x=[];t=function(t){var n=this;x.push(e.once("CS:TOKEN_STATUS",n.validateTokenStatus,n))},t.prototype={upsellProvider:null,isHidden:!1,formattedStatus:null,dialog:null,checkStatusTimer:null,setup:function(){var e=this;n.isXobnified&&n.isXobnified(function(t){t===!0&&e.fetchFormattedStatus()})},linkTo:function(t,n){var r=this,i=f+"?service="+t+"&cmd=link&wssid="+encodeURIComponent(NeoConfig.wssid),s=t===d?500:700,o=t===d?600:500,u=screen.width/2-s/2,a=screen.height/2-o/2,l,c;if(r.isValidServiceProvider(t)){c=t+"_oauth_popup";for(l in x)x[l].detach();x=[],e.fire("mt:click",{action:c}),t===d?e.fire("util:ymstats",{name:"oauth_"+c,tags:{reconnect:r.forceReconnect()}}):e.fire("util:ymstats",{name:"oauth_"+c}),x.push(e.once("OAUTH:CONN_ACCOUNT",r._handleOAuthResponse,r,n)),e.UA.ie&&(clearTimeout(r.checkStatusTimer),r.checkCookieStatus()),window.open(i,"_blank","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+s+", height="+o+", top="+a+", left="+u)}},checkCookieStatus:function(t){var n=this;t=t||0,t<300&&(t++,n.checkStatusTimer=setTimeout(function(){var r="YM.OAUTH",i=e.JSON.parse(e.Cookie.get(r));i?(e.fire("OAUTH:CONN_ACCOUNT",i),e.Cookie.remove(r)):n.checkCookieStatus(t)},1e3))},unlinkFrom:function(t,n){var r=this,i,s,o;if(r.isValidServiceProvider(t)){i="?service="+t+"&cmd=unlink&ymreqid="+(e.common.net.Session.genReqID?e.common.net.Session.genReqID():"NO_YMREQID_LOADED")+"&wssid="+NeoConfig.wssid,s={method:"GET",on:{complete:function(n,r){var i=r.responseText&&r.responseText.length&&e.JSON.parse(r.responseText);i||(i={service:t,command:"unlink",status:0}),e.fire("OAUTH:CONN_ACCOUNT",i)}}};for(o in x)x[o].detach();return x=[],x.push(e.once("OAUTH:CONN_ACCOUNT",r._handleOAuthResponse,r,n)),e.io(f+i,s)}},_handleOAuthResponse:function(t,n){var r=this,i=t.service,s=t.command,o=parseInt(t.status,10),a,f;e.UA.ie&&clearTimeout(r.checkStatusTimer),(s==="done"||o===-9999)&&t.wssid&&(NeoConfig.wssid=t.wssid),o==200&&o<300&&s==="done"&&(r.upsellProvider===i&&(r.isHidden=!0),i===d&&(u.set(y,"false"),u.set(b,"false"),u.save()),r.pingWorkflow(i),r.showDialog(t)),o==200&&s==="unlink"&&r.pingWorkflow(i),!(o==200&&o<300)&&o!==412&&s!=="unlink"&&r.showDialog(t,n);if(s==="done"||s==="unlink")o==200&&o<300?a="done":o===412?a="declined":a="error",s=s==="done"?"link":s,f=i+"_"+s+"_"+a,e.fire("mt:click",{action:f}),i===d&&s==="done"?e.fire("util:ymstats",{name:"oauth_"+f,tags:{reconnect:r.forceReconnect()}}):e.fire("util:ymstats",{name:"oauth_"+f});r.fetchFormattedStatus(),n&&n(t)},showDialog:function(t,n){var r=this,i,s,u={twitter:strings.str_branding_twitter,facebook:strings.str_branding_facebook,linkedin:strings.str_branding_linkedin};s={oauth_success:function(e,t,n){var r=n,i=parseInt(e.status,10);return i>=200&&i<300?(e={service:e.service,service_provider:u[e.service]},l(c.oauth_success,e,s,{},strings,o,r)):""},fb_disclaimer:function(e,t,n){return e.service===p?l(c.fb_disclaimer,e,s,{},strings):""},tw_disclaimer:function(e,t,n){return e.service===v?l(c.tw_disclaimer,e,s,{},strings):""},ln_disclaimer:function(e,t,n){return e.service===d?l(c.ln_disclaimer,e,s,{},strings):""},oauth_failure:function(e,t,n){var r=parseInt(e.status,10);return r>=200&&r<300?"":(e={service:e.service,service_provider:u[e.service]},l(c.oauth_failure,e,s,{},strings))}},i=l(c.base,t,s,{},strings,o,r),r.dialog=new e.comms.ui.Dialog({template:i,centered:!0,zIndex:39e3,focusedNode:".modal"}),r.dialog.render(),r.bindDialogUI(n),r.dialog.show()},bindDialogUI:function(t){var n=this,i=n.dialog.get("contentBox"),s;for(s in x)x[s].detach();x=[],x.push(i.delegate("click",function(i){var s=r.getDataAction(i),o=s.action,u;switch(o){case"retry":u=s.node.getAttribute("data-value"),e.fire("util:ymstats",{name:"connected_accounts_retry",tags:{service:u}}),n.destroyDialog(),n.linkTo(u,t);break;case"twitter-upsell":n.destroyDialog(),NeoConfig.am?e.fire("openOptions",{view:"accounts",subView:{sid:"edit",accId:e.mail.model.DataStore.Accounts.getPrimaryAccount().id}}):e.fire("openOptions",{view:"writing_email"});break;case"connect-ln":n.destroyDialog(),n.linkTo("linkedin",t);break;case"ok":case"cancel":n.destroyDialog(o)}},"*[data-action]")),x.push(n.dialog.on("dialog:action",function(e){var t=e.dataAction;t==="cancel"&&n.destroyDialog(t)}))},destroyDialog:function(e){var t=this,n;if(t.dialog){for(n in x)x[n].detach();x=[],t.dialog.destroy(),t.dialog=null}},getStatusBySPID:function(e){var t=this,n,r,i=!!t.formattedStatus;return i&&(r=t.formattedStatus.results,r&&r[e]?n=!r[e].is_expired:n=!1),n},getStatus:function(t,n){var r=this,i=!!r.formattedStatus;return typeof n=="function"&&(i===!1?e.once("CS:TOKEN_STATUS",function(){n(r.getStatusBySPID(t))}):n(r.getStatusBySPID(t))),r.getStatusBySPID(t)},getAllSPIDStatus:function(t){var n=this,r=!!n.formattedStatus;return typeof t=="function"&&(r===!1?e.once("CS:TOKEN_STATUS",function(){t(n.formattedStatus)}):t(n.formattedStatus)),n.formattedStatus},fetchFormattedStatus:function(){var t=this,n,r;n=function(n){t.formattedStatus=n,e.fire("CS:TOKEN_STATUS",t.formattedStatus),e.fire("util:ymstats",{name:"connected_accounts",tags:{api:"formatted",result:"success"}})},r=function(t){var n=this;n.formattedStatus=null,e.fire("util:ymstats",{name:"connected_accounts",tags:{api:"formatted",result:"failure"}})},s.formatted(e.bind(n,t),e.bind(r,t
))},getUpsell:function(){var e=this,t=[],n;return e.isHidden?!1:e.upsellProvider?e.upsellProvider:e.forceReconnect()===!0&&u.get(y)!=="true"?(e.upsellProvider=d,e.upsellProvider):(u.get(g)!=="true"&&e.getStatusBySPID(w)===!1&&t.push(p),u.get(y)!=="true"&&e.getStatusBySPID(S)===!1&&r.features.enabled("linkedinfy")&&t.push(d),n=t.length,n?(e.upsellProvider=t[Math.floor(Math.random()*n)],e.upsellProvider):!1)},hideUpsell:function(e){var t=this,n;e===p?n=g:e===d&&(n=y),n&&(t.isHidden=!0,u.set(n,"true"),u.save())},pingWorkflow:function(t){var n=this,r,i;r=function(n){e.fire("util:ymstats",{name:"connected_accounts",tags:{api:"workflow",source:t,result:"success"}})},i=function(n){e.fire("util:ymstats",{name:"connected_accounts",tags:{api:"workflow",source:t,result:"failure"}})},s.workflow(t,e.bind(r,n),e.bind(i,n))},isValidServiceProvider:function(t){return e.Array.indexOf(m,t)>=0?!0:!1},validateTokenStatus:function(){var t=this;e.use("mail-common-token-refresh",function(e){e.mail.common.TokenRefresh.init()}),t.showReconnectNotification(),e.fire("util:ymstats",{name:"credstore_token_status",tags:{facebook:t.getStatusBySPID(w),twitter:t.getStatusBySPID(E),linkedin:t.getStatusBySPID(S),isCorp:NeoConfig.isCorpmail}})},isStaleToken:function(){var e=this,t=864e5,n=r.settings.value("tokenRefreshThreshold"),i,s,o,u;if(r.features.enabled("refreshLinkedInToken")){u=!!e.formattedStatus;if(u){i=e.formattedStatus.results&&e.formattedStatus.results[S];if(i&&i.is_expired===!1){s=i.expiry_ts*1e3,o=Math.round((s-Date.now())/t);if(o<n.linkedin.value)return!0}}}return!1},isExpiredToken:function(){var e=this,t,n,r=!!e.formattedStatus;return r&&(t=e.formattedStatus.results&&e.formattedStatus.results[S],t&&(n=t.is_expired)),n},forceReconnect:function(){var e=this;return r.features.enabled("refreshLinkedInToken")&&(e.isStaleToken()||e.isExpiredToken())},showReconnectNotification:function(){var t=this;r.isLaunchOnboardingShown()===!1&&r.features.enabled("refreshLinkedInToken")&&u.get(b)!=="true"&&t.forceReconnect()===!0&&(r.setLaunchOnboardingShown(!0),e.use("common-ui-notification-v2",function(e){var n=function(n,r){r==="closeNotification"?(u.set(b,"true"),u.save(),e.fire("util:ymstats",{name:"ln_refresh_dialog",tags:{action:"close"}})):r==="link"&&(t.linkTo(d),e.fire("util:ymstats",{name:"ln_refresh_dialog",tags:{action:"link"}}))};e.common.ui.NotificationV2.notify(l(h.base,{},null,{},strings),{type:"attention",close:!0,closeOnExternalClick:!0,cbk:n,cbkOnClose:!0,customClass:"nf-multiline"}),e.fire("util:ymstats",{name:"ln_refresh_dialog",tags:{action:"show"}})}))}},e.namespace("mail.common"),window.ConnectedAccounts=window.ConnectedAccounts||new t,e.mail.common.ConnectedAccounts=window.ConnectedAccounts,e.mail.common.ConnectedAccounts.setup()},"0.0.1",{requires:["io-base","node-base","ymma-stats","xobni-utilities","common-net-session","mail-model-datastore","xobni-utilities","isXobnifiedCheck","xobni-contacts-search-api","common-ui-dialog-helper","mail-common-connected-accounts-ult","_shared_module_offscreen_bin_modal_connected_accounts","_shared_module_offscreen_bin_notification_refresh_dialog"]});
